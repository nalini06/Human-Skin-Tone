webpackJsonp([339,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336],[,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=c(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function c(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e){return M.a.Iterable.isIterable(e)}function s(e){return l(e)?e.toJS():e}function f(e,t){function n(e,t,o){return B()(e,function(e,a,i){var c="".concat(o,".").concat(i);L()(a,t[i])||(z()(a)&&z()(t[i])?n(a,t[i],c):r.push({path:c,old:t[i],new:a}))})}var r=[];return n(e,t,""),r}function d(e){if(!I)return void(I=e);var t=e.toJS(),n=f(t,I);return I=t,n}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){var e=[];return{capture:function(t){e.push(t)},get dispatches(){return e}}}function g(){re=m()}function v(){return re.dispatches.map(function(e){return h(h({},e),{},{fullState:null})})}function y(){var e=v();return re=null,e}function O(e){return T(e)||j(e)||w(e)||S()}function S(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function j(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function T(e){if(Array.isArray(e))return E(e)}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return function(t,n){switch(n.type){case U:return t.merge(Object(N.fromJS)(n.payload));default:return e(t,n)}}}Object.defineProperty(t,"__esModule",{value:!0});var I,N=n(12),M=n.n(N),A=n(497),R=n.n(A),D=n(174),L=n.n(D),G=n(1288),B=n.n(G),F=n(54),z=n.n(F),U="SET_REDUX_STATE",H=Promise.resolve();window.showDiff=!0;var W=function(){function e(t){var n=this;r(this,e),Object.keys(t).forEach(function(e){n[e]=t[e]})}return a(e,[{key:"dispatchStart",value:function(e,t){this.debug&&console.groupCollapsed&&(console.groupCollapsed("Dispatch: ".concat(e)),console.debug("payload: ",t))}},{key:"dispatchEnd",value:function(){if(this.debug&&console.debug){var e=this.store.getState();e?console.table&&window.showDiff?(console.debug("Dispatch done, diff: "),console.table(d(e))):(console.debug("Dispatch done, new state: "),console.debug(e.toJS())):console.debug("Dispatch done"),console.groupEnd&&console.groupEnd()}}},{key:"dispatch",value:function(e,t){this.dispatchStart(e,t),this.__isDispatching&&console.error("Error: You are attempting to dispatch ".concat(e," while dispatch of ").concat(this.__currentDispatchAction," is still happening")),this.__currentDispatchAction=t;try{var n={type:e,payload:t,fullState:this.store.getState()};this.store.dispatch(n)}catch(e){throw console.groupEnd&&console.groupEnd(),console.error("Caught error while dispatching: ",e),e}return this.__currentDispatchAction=null,this.dispatchEnd(),H}},{key:"serializeForDownload",value:function(){var t=i(u(e.prototype),"serialize",this).call(this);return delete t.fontFamilies,delete t.Download,delete t.history,delete t.integration,delete t.zoom,delete t.onboardingTour,delete t.modals,delete t.nav,delete t.textTour,delete t.presets,t.assets&&(t.assets=t.assets.map(function(e){return R()(e,"sourceImage")})),t}},{key:"evaluate",value:function(e,t){var n=t||this.store.getState();return Array.isArray(e)&&e.every(function(e){return"string"==typeof e||"number"==typeof e})?n.getIn(e):e(n)}},{key:"evaluateToJS",value:function(e){return s(this.evaluate(e))}},{key:"getStore",value:function(){return this.store}},{key:"setStore",value:function(e){this.store=e}},{key:"getInitialState",value:function(){return this.store.getInitialState()}},{key:"_setReduxState",value:function(e){this.dispatch(U,e)}},{key:"loadState",value:function(e){l(e)||(e=M.a.fromJS(e)),this._setReduxState(e)}},{key:"reset",value:function(){this._setReduxState(this.getInitialState())}},{key:"state",get:function(){return this.store.getState()},set:function(e){this._setReduxState(e||Object(N.Map)())}}]),e}(),V=n(106),K=n(504),X=n(1298),Y=n(506),q=n(647),Z=n(179),J=n(101),$=n(180),Q=n(917),ee=Object(J.a)(window.location.href).query.embed,te=[Q.a],ne=ee?function(){return function(e){return function(t){te.includes(t.type)&&$.b.publish(t.type.toLowerCase().replace("_",""),t.payload),t.type!==Q.a&&e(t)}}}:function(){return function(e){return function(t){return e(t)}}};ee&&$.b.on("DISPATCH",function(e){n(1).dispatch(e.type,e.payload)});var re,oe=n(507),ae=function(){return function(e){return function(t){e(t),Object(oe.a)(t)}}},ie=n(29),ce="production"!==ie.client.environment;ce&&(window.__startPuppeteerTest=g,window.__dispatches=v,window.__endPuppeteerTest=y);var ue=function(){return function(e){return function(t){re&&re.capture(t),e(t)}}};ue.enabled=ce;var le=ue,se=Object(K.compose)(_,X.combineReducers,Object.assign),fe=function(){function e(t){C(this,e),P(this,"dispatch",this.dispatch.bind(this));var n=V.a,r=n&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({trace:!0,traceLimit:25}):K.compose,o=[Object(q.routerMiddleware)(Y.browserHistory),ne,Z.h,ae,le].filter(function(e){return void 0===e.enabled||e.enabled}),a=r(K.applyMiddleware.apply(void 0,O(o)))(K.createStore);this.initialState=t,this.reducers={},this.store=a(_(function(e){return e}),t)}return x(e,[{key:"getInitialState",value:function(){var e=this,t=Object.keys(this.reducers).reduce(function(t,n){return t[n]=e.reducers[n](),t},{});return this.initialState||Object(N.fromJS)(t)}},{key:"getStore",value:function(){return this.store}},{key:"getState",value:function(){return this.store.getState()}},{key:"clear",value:function(){this.store.replaceReducer(function(e){return e})}},{key:"dispatch",value:function(e){return this.store.dispatch(e)}},{key:"subscribe",value:function(e){return this.store.subscribe(e)}},{key:"addReducer",value:function(e){this.store.replaceReducer(se(this.reducers,e))}}]),e}(),de=new W({store:new fe,debug:V.a});V.a&&(window.reactor=de);t.default=de},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(){var e=b.a.apply(void 0,arguments);return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.a.t(t,o({defaultValue:p()(e,t)},n))}}t.c=l,n.d(t,"b",function(){return S});var s=n(815),f=n.n(s),d=n(21),p=n.n(d),h=n(77),b=n.n(h),m=n(29),g=(n.n(m),n(1)),v=n(134),y=n(454),O=function(){function e(){i(this,e)}return u(e,[{key:"init",value:function(){}},{key:"detect",value:function(){return g.default.evaluate(v.a)}},{key:"cacheUserLanguage",value:function(){}}],[{key:"type",get:function(){return"languageDetector"}}]),e}();f.a.use(O).init(o({fallbackLng:"en",lng:Object(y.a)(),resources:Object(y.b)()},m.client.i18n));var S=f.a.t.bind(f.a);t.a=f.a},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r,o=function(){return r},a=function(e){r=e}},function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return function(n){return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t.push([n].concat(o)),e}}}function s(e){return function(t){e.forEach(function(e){var n=e.shift();t[n]&&t[n].apply(t,r(e))})}}function f(e){return b(e)||h(e)||p(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function h(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e){if(Array.isArray(e))return m(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){return function(n){return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t.push([n].concat(o)),e}}}function v(e){return function(t){e.forEach(function(e){var n=e.shift();if("set"===n||"increment"===n){if(t.people[n]){var r;(r=t.people)[n].apply(r,f(e))}}else t[n]&&t[n].apply(t,f(e))})}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){S(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return k(e)||C(e,t)||T(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function T(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function k(e){if(Array.isArray(e))return e}function x(){return window.NREUM||z}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.withListener,r=void 0===t||t;Promise.all([n.e(35).then(n.bind(null,2743)),Object(N.a)({url:"/editor/analyticsData",dataType:"json"})]).then(function(e){var t=w(e,2),n=t[0],o=t[1];if(window.analyticsConfig){var a=window.analyticsConfig;o.page.originalUrl=document.location.href,H.initWith(O(O({},n),{},{analyticsConfig:a,editorAnalyticsData:o,withListener:r})),window.mixpanelId&&W.initWith(n.mixpanel,window.identity,window.mixpanelId)}})}function _(e,t){return"".concat(e).concat(t?"-disabled":"")}function I(e,t,n){var r=e.split(".");return{pageSection:r[0],eventLabel:_(r[1],n),eventValue:t}}var N=n(43),M=["setAnalyticsJs","page","identify","accountCreated","productDownloaded","productSearched","checkoutStarted","orderCompleted","customEvent","gaEvent","error","change","click","hover","submit","linkClick","formSubmit","updateData","setData","templateLoaded","imageUploaded","designShared","designRendered"],A=n(101),R=n(106),D=n(448),L=n.n(D);t.d=P,n.d(t,"e",function(){return U}),n.d(t,"a",function(){return H}),n.d(t,"b",function(){return W});var G=function(e,t){return function(n,r){e&&"undefined"==typeof jest&&(console.groupCollapsed("%c Tracking in ".concat(t,": ").concat(n),"background: #00203FFF; color: #ADEFD1FF"),console.table({event:n,destination:t,data:r}),console.groupEnd())}},B=function(){return H.initialized&&G(R.a,"Google Analytics").apply(void 0,arguments)},F=function(){return W.initialized&&G(R.a,"Mixpanel").apply(void 0,arguments)},z={noticeError:function(e){console.error(e)}},U=function(e,t){e?("string"==typeof e&&(e=new Error(e)),x().noticeError(e),t&&(e.trackjsMeta=Object.keys(t).map(function(e){return{key:t[e]}})),window.trackJs&&window.trackJs.track(e)):window.trackJs&&window.trackJs.track(new Error("noticeError called with falsy error"))},H={lilSis:function(){var e={},t=[],n=l(e,t);return M.forEach(function(t){e[t]=n(t)}),e.replayStoredEvents=s(t),e}(),initialized:!1,initWith:L()(function(e){var t=e.withListener,n=e.analyticsConfig,r=e.AnalyticsWrapper,o=e.editorAnalyticsData,a=new r({debugMode:"true"===n.debugMode,sourceId:n.segmentSourceId,tagCollectorUrl:n.tagCollectorUrl});a.loadProvider().then(function(){a.setInitialData(o),H.lilSis.replayStoredEvents(a),H.lilSis=a,t&&a.startListener(),H.initialized=!0})}),getLilSis:function(){return H.lilSis},click:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];B(e,{disabled:n});var r=H.getLilSis();if(r)return r.click(I(e,t,n))}},W={mixpanel:function(){var e={people:{}},t=[],n=g(e,t);return["track","time_event","register"].forEach(function(t){e[t]=n(t)}),["set","increment"].forEach(function(t){e.people[t]=n(t)}),e.replayStoredEvents=v(t),e}(),initialized:!1,initWith:L()(function(e,t,n){var r=t.username,o=t.guid,a=t.visitorId,i=t.visitId,c=t.email;e.init("".concat(n),{persistence:"localStorage"}),o&&r?(e.identify("".concat(o)),e.register({visitor_id:"".concat(a),visit_id:"".concat(i),account_service_id:o}),e.people.set({$last_name:"".concat(r),guid:o,username:r,email:c})):e.register({visitor_id:"".concat(a),visit_id:"".concat(i)});var u=Object(A.a)(window.location),l=u&&u.query,s=l.utm_campaign,f=l.utm_source,d={account_service_id:o};s&&(d.utm_campaign=s),f&&(d.utm_source=f),window.__integrationDescription&&(d.embedded=!0,d.embeddedDescription=window.__integrationDescription),W.register(d),W.people.set({$last_name:r,guid:o,username:r}),W.mixpanel.replayStoredEvents(e),W.mixpanel=e,W.initialized=!0}),track:function(e,t,n){F(e,t),W.mixpanel.track(e,t,n)},timeEvent:function(e){W.mixpanel.time_event(e)},register:function(e){W.mixpanel.register(e)},people:{set:function(e){var t=e.mixpanel;delete e.mixpanel,e&&!1!==t&&W.mixpanel.people&&W.mixpanel.people.set(e)},increment:function(e,t){W.mixpanel.people&&W.mixpanel.people.increment(e,t)}}};t.c={logTracking:G,loadAnalytics:P,noticeError:U,Analytics:H,Metrics:W}},,function(e,t,n){"use strict";n.d(t,"_44",function(){return r}),n.d(t,"_131",function(){return o}),n.d(t,"I",function(){return a}),n.d(t,"H",function(){return i}),n.d(t,"_73",function(){return c}),n.d(t,"_38",function(){return u}),n.d(t,"_32",function(){return l}),n.d(t,"_93",function(){return s}),n.d(t,"_39",function(){return f}),n.d(t,"_75",function(){return d}),n.d(t,"_79",function(){return p}),n.d(t,"_76",function(){return h}),n.d(t,"_74",function(){return b}),n.d(t,"_77",function(){return m}),n.d(t,"_78",function(){return g}),n.d(t,"_26",function(){return v}),n.d(t,"r",function(){return y}),n.d(t,"_49",function(){return O}),n.d(t,"_46",function(){return S}),n.d(t,"_45",function(){return w}),n.d(t,"s",function(){return j}),n.d(t,"_27",function(){return T}),n.d(t,"_92",function(){return k}),n.d(t,"_88",function(){return x}),n.d(t,"_89",function(){return P}),n.d(t,"_90",function(){return _}),n.d(t,"_95",function(){return I}),n.d(t,"_87",function(){return N}),n.d(t,"_105",function(){return M}),n.d(t,"_94",function(){return A}),n.d(t,"_91",function(){return R}),n.d(t,"_97",function(){return D}),n.d(t,"_102",function(){return L}),n.d(t,"_103",function(){return G}),n.d(t,"_98",function(){return B}),n.d(t,"_104",function(){return F}),n.d(t,"_101",function(){return z}),n.d(t,"_99",function(){return U}),n.d(t,"_100",function(){return H}),n.d(t,"_96",function(){return W}),n.d(t,"_71",function(){return V}),n.d(t,"_70",function(){return K}),n.d(t,"_120",function(){return Y}),n.d(t,"_116",function(){return q}),n.d(t,"_119",function(){return Z}),n.d(t,"_114",function(){return J}),n.d(t,"_115",function(){return $}),n.d(t,"_117",function(){return Q}),n.d(t,"_118",function(){return ee}),n.d(t,"_128",function(){return ne}),n.d(t,"_126",function(){return re}),n.d(t,"_127",function(){return oe}),n.d(t,"_130",function(){return ae}),n.d(t,"_125",function(){return ie}),n.d(t,"_129",function(){return ce}),n.d(t,"_3",function(){return le}),n.d(t,"_2",function(){return se}),n.d(t,"_4",function(){return fe}),n.d(t,"_5",function(){return de}),n.d(t,"_0",function(){return pe}),n.d(t,"_1",function(){return he}),n.d(t,"Y",function(){return be}),n.d(t,"Z",function(){return me}),n.d(t,"_42",function(){return ye}),n.d(t,"_41",function(){return Oe}),n.d(t,"_48",function(){return Se}),n.d(t,"_47",function(){return we}),n.d(t,"_50",function(){return je}),n.d(t,"_51",function(){return Te}),n.d(t,"_59",function(){return Ee}),n.d(t,"t",function(){return Pe}),n.d(t,"x",function(){return _e}),n.d(t,"w",function(){return Ie}),n.d(t,"u",function(){return Ne}),n.d(t,"v",function(){return Me}),n.d(t,"_43",function(){return Re}),n.d(t,"O",function(){return De}),n.d(t,"N",function(){return Le}),n.d(t,"M",function(){return Ge}),n.d(t,"_132",function(){return Be}),n.d(t,"_134",function(){return Fe}),n.d(t,"_137",function(){return ze}),n.d(t,"_135",function(){return Ue}),n.d(t,"_138",function(){return He}),n.d(t,"_136",function(){return We}),n.d(t,"_133",function(){return Ve}),n.d(t,"_139",function(){return Ke}),n.d(t,"_147",function(){return Xe}),n.d(t,"_146",function(){return Ye}),n.d(t,"_140",function(){return qe}),n.d(t,"_141",function(){return Ze}),n.d(t,"_145",function(){return Je}),n.d(t,"_142",function(){return $e}),n.d(t,"X",function(){return Qe}),n.d(t,"_143",function(){return et}),n.d(t,"_33",function(){return tt}),n.d(t,"_144",function(){return nt}),n.d(t,"_36",function(){return rt}),n.d(t,"_37",function(){return ot}),n.d(t,"_34",function(){return at}),n.d(t,"_35",function(){return it}),n.d(t,"_154",function(){return ut}),n.d(t,"_153",function(){return lt}),n.d(t,"_156",function(){return ft}),n.d(t,"_155",function(){return dt}),n.d(t,"_157",function(){return pt}),n.d(t,"_152",function(){return ht}),n.d(t,"e",function(){return mt}),n.d(t,"d",function(){return gt}),n.d(t,"f",function(){return vt}),n.d(t,"g",function(){return yt}),n.d(t,"h",function(){return Ot}),n.d(t,"c",function(){return St}),n.d(t,"Q",function(){return wt}),n.d(t,"P",function(){return jt}),n.d(t,"_16",function(){return Tt}),n.d(t,"_17",function(){return Et}),n.d(t,"_29",function(){return kt}),n.d(t,"_148",function(){return xt}),n.d(t,"_40",function(){return Pt}),n.d(t,"_149",function(){return _t}),n.d(t,"K",function(){return It}),n.d(t,"W",function(){return Nt}),n.d(t,"L",function(){return Mt}),n.d(t,"_106",function(){return Rt}),n.d(t,"o",function(){return Dt}),n.d(t,"_60",function(){return Lt}),n.d(t,"_83",function(){return Gt}),n.d(t,"_22",function(){return Ft}),n.d(t,"_23",function(){return zt}),n.d(t,"_25",function(){return Ut}),n.d(t,"_24",function(){return Ht}),n.d(t,"_20",function(){return Wt}),n.d(t,"_18",function(){return Vt}),n.d(t,"_21",function(){return Kt}),n.d(t,"_19",function(){return Xt}),n.d(t,"_121",function(){return Yt}),n.d(t,"_124",function(){return qt}),n.d(t,"_122",function(){return Zt}),n.d(t,"_123",function(){return Jt}),n.d(t,"S",function(){return Qt}),n.d(t,"_151",function(){return en}),n.d(t,"U",function(){return tn}),n.d(t,"_150",function(){return nn}),n.d(t,"_6",function(){return rn}),n.d(t,"_82",function(){return on}),n.d(t,"_31",function(){return an}),n.d(t,"_85",function(){return cn}),n.d(t,"_86",function(){return un}),n.d(t,"T",function(){return ln}),n.d(t,"R",function(){return sn}),n.d(t,"_109",function(){return fn}),n.d(t,"m",function(){return dn}),n.d(t,"n",function(){return pn}),n.d(t,"l",function(){return hn}),n.d(t,"b",function(){return gn}),n.d(t,"a",function(){return vn}),n.d(t,"_112",function(){return yn}),n.d(t,"_110",function(){return On}),n.d(t,"_9",function(){return Sn}),n.d(t,"_7",function(){return wn}),n.d(t,"k",function(){return jn}),n.d(t,"i",function(){return Tn}),n.d(t,"_81",function(){return En}),n.d(t,"_80",function(){return Cn}),n.d(t,"_11",function(){return kn}),n.d(t,"_10",function(){return xn}),n.d(t,"_108",function(){return Pn}),n.d(t,"_107",function(){return _n}),n.d(t,"_159",function(){return In}),n.d(t,"q",function(){return Mn}),n.d(t,"_84",function(){return An}),n.d(t,"J",function(){return Rn}),n.d(t,"_158",function(){return Dn}),n.d(t,"p",function(){return Ln}),n.d(t,"_28",function(){return Gn}),n.d(t,"G",function(){return Bn}),n.d(t,"_30",function(){return Fn}),n.d(t,"_113",function(){return zn}),n.d(t,"_14",function(){return Un}),n.d(t,"_13",function(){return Hn}),n.d(t,"_15",function(){return Wn}),n.d(t,"_12",function(){return Vn}),n.d(t,"_61",function(){return Xn}),n.d(t,"_67",function(){return Yn}),n.d(t,"_63",function(){return qn}),n.d(t,"_64",function(){return Zn}),n.d(t,"_65",function(){return Jn}),n.d(t,"_66",function(){return $n}),n.d(t,"_62",function(){return Qn}),n.d(t,"_72",function(){return er}),n.d(t,"_69",function(){return tr}),n.d(t,"_68",function(){return nr}),n.d(t,"_160",function(){return rr}),n.d(t,"_52",function(){return or}),n.d(t,"_54",function(){return ar}),n.d(t,"_58",function(){return ir}),n.d(t,"_56",function(){return cr}),n.d(t,"_55",function(){return ur}),n.d(t,"_57",function(){return lr});n.d(t,"_53",function(){return sr}),n.d(t,"z",function(){return dr}),n.d(t,"A",function(){return pr}),n.d(t,"B",function(){return hr}),n.d(t,"D",function(){return br}),n.d(t,"F",function(){return mr}),n.d(t,"C",function(){return gr}),n.d(t,"y",function(){return vr}),n.d(t,"E",function(){return yr}),n.d(t,"_8",function(){return wr}),n.d(t,"_111",function(){return Tr}),n.d(t,"V",function(){return Cr}),n.d(t,"j",function(){return xr});var r="overlay",o="toolbar",a="context panel",i="context-menu",c="quick-action",u="left preset panel",l="keyboard",s="searchPanel ".concat(r),f=("backgroundPanel ".concat(r),"lightboxPanel ".concat(r)),d="canvas",p="searchPanel",h="emojiPanel",b="backgroundPanel",m="pagesPanel",g="ruler",v="from query param",y="click on tab",O="pagesPanelTop",S="pagesPanelBottom",w="pagesDropdownMenu",j="collab",T={BLANK:"blank canvas",HELP:"help menu",CANCEL:"cancel for now",TEMPLATE:"template",IMAGE:"background image",SKIP:"skip",DEMO_COMPLETE:"demo complete"},E="click.",C="".concat(E,"leftPanel."),k="".concat(C,"search"),x="click.searchPanel.close",P="click.searchPanel.textField",_="click.searchPanel.enter",I="click.searchPanel.related",N="click.searchPanel.all",M="click.searchPanel.vector",A="click.searchPanel.photo",R="click.searchPanel.illustration",D="click.searchPanel.select",L="".concat(D,"-photo"),G="".concat(D,"-replaceBackground"),B="".concat(D,"-add"),F="".concat(D,"-save"),z="".concat(D,"-openShutterstock"),U="".concat(D,"-back"),H="".concat(D,"-id"),W="click.searchPanel.searchScroll",V="".concat(C,"presetSizes"),K="".concat("click.presetPanel",".close"),X="click.templatesPanel",Y="click.leftPanel.templates",q="".concat(X,".close"),Z=function(e,t){return"".concat(X,".").concat(e,"-select-").concat(t)},J=function(e){return"".concat(X,".").concat(e,"-apply")},$=function(e){return"".concat(X,".").concat(e,"-cancel")},Q=function(e){return"".concat(X,".").concat(e,"-close")},ee=function(e){return"".concat(X,".").concat(e,"-dontShow")},te="click.textPanel",ne="click.leftPanel.text",re="".concat(te,".close"),oe="".concat(te,".headline"),ae="".concat(te,".subheadline"),ie="".concat(te,".body"),ce=function(e){return"".concat(te,".template-select-").concat(e)},ue="click.elementsPanel",le="click.leftPanel.elements",se="".concat(ue,".close"),fe="".concat(ue,".shapes"),de="".concat(ue,".shapes-select"),pe="".concat(ue,".icons"),he="".concat(ue,".icons-select-"),be="".concat(ue,".emojis"),me="".concat(ue,".emojis-select"),ge="".concat(E,"pagesPanel."),ve="".concat(E,"myContentPanel."),ye="".concat(C,"myContent"),Oe="".concat(ve,"close"),Se="".concat(C,"pages"),we="".concat(ge,"close"),je="".concat(ge,"addNew-textbutton"),Te="".concat(ge,"addNew-plusbutton"),Ee="".concat(ge,"select"),Ce="".concat(ve,"collections"),ke="".concat(ve,"designs"),xe="".concat(ve,"uploads"),Pe="".concat(Ce,"-createNew"),_e="".concat(Pe,"-name"),Ie="".concat(Pe,"-create"),Ne="".concat(Pe,"-cancel"),Me="".concat(Pe,"-close"),Ae={designs:ke,lightboxes:Ce,uploads:xe},Re=function(e){return"".concat(Ae[e])},De="".concat(ke,"-select"),Le="".concat(ke,"-info"),Ge="".concat(ke,"-delete"),Be="".concat("click.topNav.","file"),Fe=("".concat("click.topNav.","download"),"".concat("click.topNav.","share"),"".concat(Be,"-new")),ze="".concat(Be,"-save"),Ue="".concat(Be,"-open"),He="".concat(Be,"-saveAs"),We="".concat(Be,"-rename"),Ve="".concat(Be,"-delete"),Ke="".concat(Be,"-upload"),Xe="".concat("click.topNav.","undo"),Ye="".concat("click.topNav.","redo"),qe="".concat("click.topNav.","help"),Ze="".concat(qe,"-contactUs"),Je="".concat(qe,"-support"),$e="".concat(qe,"-editorTips"),Qe=function(e,t){return"".concat($e,"-tip").concat(e,"-").concat(t)},et="".concat(qe,"-keyboardShortcuts"),tt="".concat(et,"-close"),nt="".concat(qe,"-language"),rt="".concat(nt,"-dropdown"),ot="".concat(nt,"-select"),at="".concat(nt,"-apply"),it="".concat(nt,"-cancel"),ct=("".concat("click.topNav.upgrade","Learn"),"".concat("click.topNav.upgrade","-upgrade"),"".concat("click.topNav.upgrade","Question-viewPlans"),"".concat("click.topNav.upgrade","Question-close"),"".concat("click.uploadImageModule.","fromComputer")),ut="".concat(ct,"-upload"),lt="".concat(ct,"-select"),st="".concat("click.uploadImageModule.","fromURL"),ft="".concat(st,"-select"),dt="".concat(st,"-pasteLink"),pt="".concat(st,"-upload"),ht="".concat(st,"-close"),bt="fillColor",mt="click.alignment.left",gt="click.alignment.horizontal",vt="click.alignment.right",yt="click.alignment.top",Ot="click.alignment.vertical",St="click.alignment.bottom",wt="click.alignment.distributeVertically",jt="click.alignment.distributeHorizontally",Tt="click.flip.horizontal",Et="click.flip.vertical",Ct=function(e){return"".concat(E,"basicEdits.").concat(e)},kt=Ct("group"),xt=Ct("ungroup"),Pt=Ct("lock"),_t=Ct("unlock"),It=Ct("crop"),Nt=Ct("duplicate"),Mt=Ct("delete"),At=function(e){return"".concat(E).concat("advancedEdits",".").concat(e)},Rt=At("setBackground"),Dt=At("backgroundRemoval"),Lt=At("perspective"),Gt=At("revertPerspective"),Bt=function(e){return"".concat(E,"font.").concat(e)},Ft=Bt("bold"),zt=Bt("italics"),Ut=Bt("underline"),Ht=Bt("strikethrough"),Wt=Bt("alignLeft"),Vt=Bt("alignCenter"),Kt=Bt("alignRight"),Xt=Bt("alignJustify"),Yt=Bt("bulletList"),qt=Bt("numberList"),Zt=Bt("indentLeft"),Jt=Bt("indentRight"),$t=function(e){return"".concat(E,"download.").concat(e)},Qt=$t("close"),en=$t("close"),tn=$t("license"),nn=$t("unwatermark"),rn=($t("fileFormat-expand"),$t("fileFormat")),on=($t("resolution-expand"),$t("resolution")),an=$t("includeOriginal"),cn=$t("saveDropbox"),un=$t("saveGoogle"),ln=$t("download"),sn=$t("back"),fn="click.share.close",dn="click.basicOnboarding.showMe",pn="click.basicOnboarding.skip",hn="click.basicOnboarding.size-gotIt",bn=function(e){return"".concat(E).concat(e,".expand")},mn=function(e){return"".concat(E).concat(e,".collapse")},gn=bn("advancedEdits"),vn=mn("advancedEdits"),yn=bn("stroke"),On=mn("stroke"),Sn=bn(bt),wn=mn(bt),jn=bn("background"),Tn=mn("background"),En=bn("canvasSize"),Cn=mn("canvasSize"),kn=bn("filters"),xn=mn("filters"),Pn=bn("dropShadow"),_n=mn("dropShadow"),In=function(e){return"".concat(E).concat("filters",".").concat(e)},Nn=function(e){return"".concat(E).concat("effects",".").concat(e)},Mn=Nn("brightness"),An=Nn("saturation"),Rn=Nn("effect-contrast"),Dn=Nn("vignette"),Ln=Nn("blur"),Gn=Nn("exposure"),Bn=Nn("colorify"),Fn=Nn("hueRotation"),zn=Nn("temperature"),Un="".concat(E).concat("filters",".moreForward"),Hn="".concat(E).concat("filters",".moreBackward"),Wn="".concat(E).concat("filters",".reset"),Vn="".concat(E).concat("filters",".compare"),Kn="".concat(E,"presetSizesPanel."),Xn="".concat(Kn,"create"),Yn="".concat(Kn,"create-width"),qn="".concat(Kn,"create-height"),Zn="".concat(Kn,"preset-create-lock"),Jn="".concat(Kn,"create-name"),$n="".concat(Kn,"create-save"),Qn="".concat(Kn,"create-cancel"),er=("".concat(Kn,"create-close"),"".concat(Kn,"selectYour")),tr="".concat(Kn,"selectYour-edit"),nr="".concat(Kn,"selectYour-delete"),rr=function(e){return"".concat(Kn,"selectEditor-").concat(e)},or="".concat(ge,"addNew"),ar="".concat(ge,"duplicate"),ir="".concat(ge,"moveUp"),cr="".concat(ge,"moveDown"),ur="".concat(ge,"moveBeginning"),lr="".concat(ge,"moveEnd"),sr="".concat(ge,"delete"),fr="".concat(ve,"collections-existing"),dr="".concat(fr,"-add-recent"),pr="".concat(fr,"-back"),hr="".concat(fr,"-delete"),br="".concat(fr,"-select"),mr="".concat(fr,"-stockID"),gr="".concat(fr,"-replaceBackground"),vr="".concat(fr,"-addCanvas"),yr="".concat(fr,"-open"),Or=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={open:"".concat(e,"open"),select:"".concat(e,"select"),customColor:"".concat(e,"custom"),presetColor:"".concat(e,"presets"),recentlyUsedColor:"".concat(e,"recentusedcolor"),input:"".concat(e,"enterText"),eyedropper:"".concat(e,"eyedropper")};return t&&(n.gradient="".concat(e,"gradient")),n},Sr="".concat(E).concat(bt,"."),wr=Or(Sr),jr="".concat(E).concat("stroke","."),Tr=Or(jr),Er="".concat(E).concat("dropShadow","."),Cr=Or(Er),kr="".concat(E).concat("background","."),xr=Or(kr)},,function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=o.connect.apply(void 0,t)(e);return n.BaseComponent=e.BaseComponent||e,n.displayName=e.displayName||"ConnectDecorator",n}}t.a=r;var o=n(37);n.n(o)},,,function(e,t,n){"use strict";n.d(t,"n",function(){return s}),n.d(t,"o",function(){return f}),n.d(t,"r",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"a",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"c",function(){return m}),n.d(t,"m",function(){return g}),n.d(t,"q",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"e",function(){return S}),n.d(t,"b",function(){return T}),n.d(t,"p",function(){return C}),n.d(t,"g",function(){return x}),n.d(t,"h",function(){return P}),n.d(t,"i",function(){return _}),n.d(t,"j",function(){return I});var r=n(33),o=n(12),a=n.n(o),i=n(1),c=n(276),u=n(22),l=Object(r.a)(["assets"]),s=Object(r.a)(["pages"]),f=Object(r.a)(s,function(e){return e.map(function(e){return e.get("id")})}),d=Object(r.a)(s,function(e){return e&&e.size}),p=function(e){return Object(r.a)(s,function(t){return t?t.find(function(t){return t.get("id")===e}):null})},h=Object(r.a)(s,function(e){return e?e.find(function(e){return e.get("active")})||e.first():null}),b=Object(r.a)(h,function(e){return e.get("width")}),m=Object(r.a)(h,function(e){return e.get("height")}),g=function(e){return Object(r.a)(s,function(t){var n=-1;return t.some(function(t,r){return t.get("id")===e&&(n=r,!0)}),n})},v=Object(r.a)(s,function(e){return e.filter(function(e){return e.get("selected")})}),y=Object(r.a)(h,function(e){return e?e.get("id"):null}),O=Object(r.a)(h,function(e){return e?e.get("assetId"):null}),S=Object(r.a)(y,s,function(e,t){return t.findIndex(function(t){return t.get("id")===e})+1}),w=Object(r.a)(y,s,function(e,t){var n=t.findIndex(function(t){return t.get("id")===e});return n===t.size-1?0:t.get(n+1).get("id")}),j=Object(r.a)(y,s,function(e,t){var n=t.findIndex(function(t){return t.get("id")===e});return n>0?t.get(n-1).get("id"):0}),T=Object(r.a)(b,m,function(e,t){return a.a.Map({width:e,height:t})}),E=Object(r.a)(h,l,function(e,t){return t.find(function(t){return t.get("id")===e.get("assetId")})}),C=Object(r.a)(E,function(e){return e&&e.toJS()}),k=function(e){return i.default.evaluate(Object(r.a)(h,l,function(t,n){var r=e||t;return n.find(function(e){return e.get("id")===r.get("assetId")})}))},x=function(e){return i.default.evaluate(Object(r.a)(l,function(t){return t.find(function(t){return t.get("id")===e})}))},P=function(e){return i.default.evaluate(Object(r.a)(l,function(t){return t.find(function(t){return t.getIn(["license","imageId"])===e})}))},_=Object(r.a)(s,h,c.c,v,u.u,function(e,t,n,r,o){var i=e.indexOf(n),c=e.size+(r.size||1);return a.a.Map({canAddPage:c<=o,canRemovePage:r.size<2&&e.size>1,canMovePageUp:r.size<2&&i>0,canMovePageDown:r.size<2&&i<e.size-1})}),I=function(e){return Object(r.a)(s,u.u,function(t,n){return a.a.Map({canAddPage:n>=t.size+1,canRemovePage:t.size>1,canMovePageUp:e>0,canMovePageDown:e<t.size-1})})};t.k={assetById:x,assetByImageId:P,assets:l,capabilities:_,capabilitiesByIndex:I,pages:s,pagesIds:f,pageIndex:g,totalPages:d,activePage:h,activePageWidth:b,activePageHeight:m,activePageId:y,activeAssetId:O,activePageNumber:S,activePageDims:T,activePageAsset:E,pageById:p,pageAsset:k,selectedPages:v,nextPageId:w,prevPageId:j}},function(e,t,n){"use strict";n.d(t,"c",function(){return a});var r=n(952),o=n(508);n(653);n.d(t,"a",function(){return r.a});var a=r.a.isEnabled;t.b={actions:r.a,getters:o.a,isEnabled:a,isMobileModeAvailable:r.b}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(m.default.evaluate(g.b)!==e&&!m.default.evaluate(g.n))return m.default.dispatch(v.j,e)}function o(){return!!m.default.evaluate(g.b)}function a(e){return m.default.evaluate(g.c)===e}function i(e){return m.default.evaluate(g.a)===e}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;a(e)||m.default.evaluate(g.x)||(m.default.dispatch(v.k,e),m.default.dispatch(v.m,t),m.default.dispatch(v.n,n))}function u(){if(m.default.evaluate(g.m)&&!m.default.evaluate(g.l))return m.default.dispatch(v.d)}function l(){m.default.evaluate(y.h.isMobile)&&u()}function s(){if(m.default.evaluate(g.w)&&!m.default.evaluate(g.v))return m.default.dispatch(v.e)}function f(e){return m.default.dispatch(v.l,e)}function d(e){return m.default.dispatch(v.h,e)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;m.default.evaluate(g.b)===e?u(e):r(e)}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;i(e)||m.default.evaluate(g.h)||m.default.dispatch(v.i,e)}function b(){if(m.default.evaluate(g.g)&&!m.default.evaluate(g.f))return m.default.dispatch(v.c)}t.g=r,t.i=a,t.h=c,t.b=u,t.c=l,t.d=s,t.j=p,t.f=h,t.a=b;var m=n(1),g=n(99),v=n(669),y=n(22);t.e={openLeftPanel:r,isLeftPanelOpen:o,rightPanelIs:a,bottomPanelIs:i,openRightPanel:c,closeLeftPanel:u,closeLeftPanelIfMobile:l,closeRightPanel:s,setPanelsAreOverlay:f,setNavbarIsVisible:d,toggleLeftPanel:p,openBottomPanel:h,closeBottomPanel:b}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return s(e)||l(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function l(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return e.filter(function(e){return e.get("license")})}function p(e){return Object(v.a)(at,function(t){return t.some(function(t){return(t.filters||[]).some(e)})})}n.d(t,"K",function(){return E}),n.d(t,"J",function(){return C}),n.d(t,"a",function(){return x}),n.d(t,"C",function(){return N}),n.d(t,"M",function(){return U}),n.d(t,"I",function(){return H}),n.d(t,"y",function(){return W}),n.d(t,"x",function(){return K}),n.d(t,"H",function(){return X}),n.d(t,"D",function(){return Y}),n.d(t,"z",function(){return q}),n.d(t,"u",function(){return J}),n.d(t,"v",function(){return $}),n.d(t,"A",function(){return Q}),n.d(t,"E",function(){return te}),n.d(t,"F",function(){return re}),n.d(t,"Q",function(){return ce}),n.d(t,"p",function(){return ue}),n.d(t,"N",function(){return le}),n.d(t,"i",function(){return fe}),n.d(t,"j",function(){return de}),n.d(t,"G",function(){return be}),n.d(t,"L",function(){return ge}),n.d(t,"b",function(){return ve}),n.d(t,"k",function(){return Se}),n.d(t,"l",function(){return we}),n.d(t,"f",function(){return je}),n.d(t,"d",function(){return Te}),n.d(t,"m",function(){return Ee}),n.d(t,"c",function(){return Ce}),n.d(t,"g",function(){return ke}),n.d(t,"e",function(){return Pe}),n.d(t,"h",function(){return _e}),n.d(t,"n",function(){return Ie}),n.d(t,"o",function(){return Ne}),n.d(t,"t",function(){return Ve}),n.d(t,"s",function(){return rt}),n.d(t,"q",function(){return lt}),n.d(t,"r",function(){return st}),n.d(t,"w",function(){return dt}),n.d(t,"R",function(){return Tt}),n.d(t,"O",function(){return xt}),n.d(t,"P",function(){return Pt});var h=n(12),b=(n.n(h),n(21)),m=n.n(b),g=n(181),v=n(33),y=n(14),O=n(30),S=n(282),w=n(29),j=(n.n(w),Object(h.Map)()),T=[],E=Object(v.a)(["container","isDraggingIn"]),C=Object(v.a)(["doc","imagesLookingForLicense"]),k=Object(v.a)(["doc","tourIsPlaying"]),x=Object(v.a)(["doc","activeGradientColorStop"]),P=Object(v.a)(["doc","dimmedComponents"]),_=Object(v.a)(P,function(e){return e.map(function(e){return"dim-".concat(e)})}),I=Object(v.a)(["doc"]),N=Object(v.a)(["doc","fabric"]),M=Object(v.a)(N.concat(["pages"])),A=Object(v.a)(I.concat(["fabricEventsBound"])),R=Object(v.a)(M,y.k.activePageId,function(e,t){return e.find(function(e){return e.get("id")===t})||j}),D=function(e){return Object(v.a)(M,function(t){return t.find(function(t){return t.get("id")===e})||j})},L=function(e){return Object(v.a)(D(e),function(e){return m()(e.getIn(["data"]),"backgroundImage.opacity",0)})},G=Object(v.a)(["doc","fabricTimeStamp"]),B=Object(v.a)(["DesignsPanel","lastSaved"]),F=Object(v.a)(["doc","spinnerComponent"]),z=Object(v.a)(["doc","ready"]),U=Object(v.a)(["doc","readyAt"]),H=Object(v.a)(B,G,O.b,function(e,t,n){return-1===n||e!==t}),W=Object(v.a)(R,function(e){return e.get("backgroundImageId")}),V=Object(v.a)(R,function(e){return e.get("data")}),K=Object(v.a)(V,W,function(e,t){var n=m()(e,["objects","0"],{});return n.id===t?n:null}),X=Object(v.a)(K,function(e){return!!e}),Y=Object(v.a)(R,function(e){return e.get("selected",T)}),q=Object(v.a)(Y,W,function(e,t){return-1!==e.indexOf(t)}),Z=Object(v.a)(V,function(e){return m()(e,"backgroundImage")}),J=Object(v.a)(Z,function(e){return m()(e,"fill")}),$=Object(v.a)(Z,function(e){return m()(e,"opacity",0)}),Q=Object(v.a)(K,function(e){return m()(e,"opacity",0)}),ee=Object(v.a)(Q,function(e){return 1!==e}),te=Object(v.a)(V,function(e){return m()(e,"objects",T)}),ne=Object(v.a)(te,function(e){return e.map(function(e){return e.id})}),re=Object(v.a)(te,function(e){return e.length}),oe=function(e){return Object(v.a)(D(e),function(e){var t=e.get("data");return m()(t,"objects",[])})},ae=Object(v.a)(te,function(e){return Object(g.a)(e)}),ie=Object(v.a)(M,function(e){var t={};return e.forEach(function(e){t[e.get("id")]=Object(g.a)(m()(e.get("data"),"objects",[]))}),t}),ce=Object(v.a)(ie,function(e){return Object.keys(e).reduce(function(t,n){return!!t||e[n].some(function(e){var t=e.opacity,n=e.shadow;return t<1||n&&!0===n.enabled})},!1)}),ue=Object(v.a)(Y,te,function(e,t){return t.filter(function(t){return e.indexOf(t.id)>-1})}),le=Object(v.a)(ue,function(e){return e[0]||{}}),se=Object(v.a)(le,te,function(e,t){return t.indexOf(e)}),fe=Object(v.a)(ue,te,function(e,t){if(0===e.length)return-1;var n=e.map(function(e){return t.indexOf(e)});return Math.max.apply(Math,i(n))}),de=Object(v.a)(ue,te,function(e,t){if(0===e.length)return-1;var n=e.map(function(e){return t.indexOf(e)});return Math.min.apply(Math,i(n))}),pe=Object(v.a)(se,re,function(e,t){return e===t-1}),he=Object(v.a)(se,X,function(e,t){return t?se<2:se<1}),be=Object(v.a)(ue,function(e){return Object(g.a)(e)}),me=Object(v.a)(ue,function(e){return e.length>0}),ge=Object(v.a)(be,function(e){return e.length>1}),ve=Object(v.a)(be,function(e){return e[0]||{}}),ye=Object(v.a)(ue,function(e){return 1===e.length&&m()(e,["0","isLocked"])}),Oe=Object(v.a)(ve,function(e){return m()(e,"filters",[])}),Se=Object(v.a)(Oe,function(e){return m()(e,["0","name"],"nofilter")}),we=Object(v.a)(Se,Oe,function(e,t){if("nofilter"===e)return null;var n=t.find(function(e){return"IntensityFilter"===e.type});return null!=n?n.intensity:1}),je=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"ContrastFilter"===e.type});return null!=t?t.contrast:0}),Te=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"BrightnessFilter"===e.type});return null!=t?t.brightness:0}),Ee=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"SaturationFilter"===e.type});return null!=t?t.saturation:0}),Ce=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"BlurFilter"===e.type});return null!=t?t.blur:0}),ke=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"GammaFilter"===e.type});return null!=t?m()(t,["gamma","0"])||t.rGamma||1:1}),xe=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"InvertFilter"===e.type});return null!=t?t.invert:0}),Pe=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"ColorifyFilter"===e.type});return null!=t?t.color:0}),_e=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"HueFilter"===e.type});return null!=t?t.rotation:0}),Ie=Object(v.a)(Oe,function(e){var t=e.find(function(e){return"TemperatureFilter"===e.type});return null!=t?t.temperature:0}),Ne=Object(v.a)(ve,function(e){return e.vignetteStrength||0}),Me=Object(v.a)(Oe,Ne,function(e,t){return e.some(function(e){return"ComposedFilter"!==e.type})||t}),Ae=Object(v.a)(ae,function(e){return e.filter(function(e){return"editorTextBox"===e.type})}),Re=Object(v.a)(ae,function(e){return e.filter(function(e){return"editorPath"===e.type})}),De=Object(v.a)(ae,function(e){return e.filter(function(e){return"editorImage"===e.type})}),Le=Object(v.a)(ie,y.k.pagesIds,function(e,t){var n={};return t.forEach(function(t){n[t]=(e[t]||[]).filter(function(e){return"editorTextBox"===e.type})}),n}),Ge=Object(v.a)(Le,function(e){var t=[];for(var n in e)void 0!==e[n][0]&&t.push(e[n][0]);return t}),Be=Object(v.a)(ie,y.k.pagesIds,function(e,t){var n={};return t.forEach(function(t){n[t]=(e[t]||[]).filter(function(e){return"editorPath"===e.type})}),n}),Fe=Object(v.a)(Be,function(e){var t=[];for(var n in e)void 0!==e[n][0]&&t.push(e[n][0]);return t}),ze=Object(v.a)(ie,y.k.pagesIds,function(e,t){var n={};return t.forEach(function(t){n[t]=(e[t]||[]).filter(function(e){return"editorImage"===e.type})}),n}),Ue=Object(v.a)(ze,function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push.apply(t,i(e[n]));return t}),He=Object(v.a)(y.k.assets,function(e){return e.filter(function(e){return"editorImage"===e.get("type")&&!e.get("licensed")})}),We=function(e){return Object(v.a)(y.k.assets,function(t){var n=t.find(function(t){return"editorImage"===t.get("type")&&t.getIn(["license","imageId"])===e});return!(!n||!n.get("licensed"))})},Ve=Object(v.a)(He,Ue,function(e,t){var n=t.map(function(e){return e.imageId});return e.filter(function(e){return n.includes(e.getIn(["license","imageId"]))})}),Ke=Object(v.a)(Ve,function(e){return e.map(function(e){return e.getIn(["license","imageId"])})}),Xe=Object(v.a)(Ve,function(e){return e.size}),Ye=Object(v.a)(He,y.k.activePageId,ze,function(e,t,n){var r=n[t].map(function(e){return e.imageId});return e.filter(function(e){return r.includes(e.getIn(["license","imageId"]))})}),qe=Object(v.a)(Ye,function(e){return e.size}),Ze=Object(v.a)(ie,y.k.pagesIds,function(e,t){var n={};return t.forEach(function(t){n[t]=(e[t]||[]).filter(function(e){return"userImage"===e.type})}),n}),Je=Object(v.a)(Ze,function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push.apply(t,i(e[n]));return t}),$e=Object(v.a)(Ue,Je,function(e,t){return[].concat(i(e),i(t))}),Qe=Object(v.a)($e,function(e){return e.some(function(e){return e.filters&&e.filters.length>0})}),et=Object(v.a)(Qe,Je,Ue,Fe,Ge,function(e,t,n,r,o){return!e&&t.length+n.length<=1&&0===r.length&&0===o.length}),tt=Object(v.a)(y.k.assets,d),nt=Object(v.a)(De,function(e){return e.map(function(e){return e.imageId})}),rt=Object(v.a)(Ue,function(e){return e.map(function(e){return e.imageId})}),ot=Object(v.a)(ae,function(e){return e.filter(function(e){return"userImage"===e.type})}),at=Object(v.a)(De,ot,function(e,t){return e.concat(t)}),it=Object(v.a)(I.concat("flashAlerts")),ct=Object(v.a)(I.concat("toastAlerts")),ut={"error-file-size":{key:"errors.toolarge",variables:{FILESIZE_LIMIT__MB:w.client.upload.maxFileSizeInMB}},"error-file-type":{key:"errors.type"}},lt=Object(v.a)(it,function(e){return e.map(function(e){return o(o({},e),{},{message:ut[e.id]||{key:e.message},autoHideDuration:6e3})}).toJS()}),st=Object(v.a)(S.currentModalKey,function(e){return"ErrorModal"===e?[{modalError:!0,id:"error-generic",message:{key:"errors.generic"},autoHideDuration:6e3}]:[]}),ft=Object(v.a)(["zoom"]),dt=Object(v.a)(y.k.activePage,y.k.assets,function(e,t){return t.find(function(t){return t.get("id")===e.get("assetId")})}),pt=Object(v.a)(dt,function(e){return e?e.getIn(["license","imageId"],0):0}),ht=Object(v.a)(dt,function(e){return e?e.get("description",""):""}),bt=Object(v.a)(dt,function(e){return e?e.get("sourceImage"):null}),mt=Object(v.a)(dt,function(e){return e?e.get("presetImage"):null}),gt=function(e){return"BrightnessFilter"===e.type&&0!==e.brightness},vt=function(e){return"ContrastFilter"===e.type&&0!==e.contrast},yt=function(e){return"SaturationFilter"===e.type&&0!==e.saturation},Ot=Object(v.a)(ue,function(e){return 1===e.length&&m()(e,["0","isPlaceholder"])}),St=p(gt),wt=p(vt),jt=p(yt),Tt=Object(v.a)(N,function(e){return e.get("selectedTemplate")||{}}),Et=Object(v.a)(N,function(e){return e.get("selectedTextTemplate")||{}}),Ct=Object(v.a)(at,function(e){return e.some(function(e){return""!==e.maskUrl})}),kt=Object(v.a)(ie,Tt,function(e,t){return!t.templateId||Object.keys(e).every(function(t){return 0===e[t].length})}),xt=function(e){return I(e).get("closerFunc")},Pt=function(e){return I(e).get("entryPoint")};t.B={isDraggingIn:E,imagesLookingForLicense:C,tourIsPlaying:k,activeGradientColorStop:x,dimmedComponents:_,doc:I,fabric:N,fabricPages:M,fabricEventsBound:A,fabricActivePage:R,fabricPage:D,fabricPageOpacity:L,fabricTimeStamp:G,lastSaved:B,spinnerComponent:F,ready:z,readyAt:U,hasUnsavedChanges:H,backgroundImageId:W,fabricData:V,backgroundImage:K,hasBackgroundImage:X,fabricActiveIds:Y,backgroundIsActive:q,artboard:Z,artboardColor:J,artboardOpacity:$,backgroundOpacity:Q,backgroundIsTransparent:ee,fabricObjects:te,fabricObjectIds:ne,fabricObjectsSize:re,fabricObjectsByPageId:oe,flattenedFabricObjects:ae,allFlattenedFabricObjects:ie,selectIsPDFVIncompatibleDesign:ce,activeObjects:ue,realActiveObject:le,activeObjectIndex:se,activeObjectMaxIndex:fe,activeObjectMinIndex:de,forwardDisabled:pe,backwardDisabled:he,flattenedActiveObjects:be,anObjectIsSelected:me,multiSelectedOrGrouped:ge,activeObject:ve,isLocked:ye,activeObjectFilters:Oe,activeObjectPresetFilter:Se,activeObjectPresetFilterIntensity:we,activeObjectContrast:je,activeObjectBrightness:Te,activeObjectSaturation:Ee,activeObjectBlur:Ce,activeObjectGamma:ke,activeObjectInvert:xe,activeObjectColorify:Pe,activeObjectHue:_e,activeObjectTemperature:Ie,activeObjectVignette:Ne,activeObjectFilterEffect:Me,textObjects:Ae,shapeObjects:Re,editorImages:De,allTextObjects:Le,flattenAllTextObjects:Ge,allShapeObjects:Be,flattenAllShapeObjects:Fe,editorImagesPerPage:ze,flattenAllEditorImages:Ue,allLicensableAssetsRaw:He,imageIsLicensed:We,allLicensableAssets:Ve,allLicensableAssetsId:Ke,allLicensableAssetsCount:Xe,licensableAssets:Ye,licensableAssetsCount:qe,allUserImages:Ze,flattenAllUserImages:Je,flattenAllImages:$e,hasFilterApplied:Qe,isBasicImageDesign:et,allEditorImagesAssetMessages:tt,editorImageIds:nt,allEditorImageIds:rt,userImages:ot,imageObjects:at,flashAlerts:it,toastAlerts:ct,adaptedFlashAlerts:lt,adaptedModalError:st,zoom:ft,backgroundAsset:dt,backgroundImageAssetId:pt,backgroundImageAssetDescription:ht,backgroundSourceImage:bt,backgroundThumbnail:mt,isAppliedBrightness:gt,isAppliedContrast:vt,isAppliedSaturation:yt,isPlaceholder:Ot,brightnessIsApplied:St,contrastIsApplied:wt,saturationIsApplied:jt,selectedTemplate:Tt,selectedTextTemplate:Et,imagesHaveBackgroundRemoved:Ct,ignoreAddTemplateWarning:kt,selectCloserFunc:xt,selectEntryPoint:Pt}},function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return new W.a(function(n,r){var o=new Image;o.crossOrigin=t?"use-credentials":"anonymous",o.onload=function(){n(o)},o.onerror=function(){r(new Error("Image download error"))},o.onabort=function(){r(new Error("Image download aborted"))},o.src=e})}function s(e){return d(e,"blob")}function f(e){return new W.a(function(t,n){e.done(t).fail(function(e){var t=new Error(e.responseText);return t.status=e.status,n(t)})})}function d(e,t){return new W.a(function(n,r){var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType=t,o.onload=function(){return n(o.response)},o.onerror=r,o.send()})}function p(e){return s(e).then(function(e){if(X)return X.createObjectURL(e);throw new Error("URL object not available in this environment")})}function h(e,t){return l(e,t).catch(function(){throw new Error("Image failed to load: ".concat(e))})}function b(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return l(e,t).catch(function(){if(n>0){var o=100*Math.pow(2,r);return W.a.delay(o).then(function(){return b(e,t,--n,++r)})}throw new Error("Image failed to load: ".concat(e))})}function m(e,t,n,r){var o={};return n/r>=e/t?(o.height=r,o.ratio=o.height/t,o.width=Math.round(e*o.ratio),o.left=Math.round(n/2-o.width/2),o.top=0):(o.width=n,o.ratio=o.width/e,o.height=Math.round(t*o.ratio),o.left=0,o.top=Math.round(r/2-o.height/2)),o}function g(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:150;return Math.floor(e.height*(t/e.width)-1)}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(n,Math.max(t,e))}function O(e){return null!==e&&void 0!==e}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"".concat(R.client.basePath),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"".concat(R.client.apiVersion);return"".concat(t).concat(n).concat(R.client.endpoints[e])}function w(e,t){return void 0===e||void 0===t?null:t.reduce(function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t})}function j(){return S("userMediaProxy")}function T(){return S("designProxy")}function E(){return"".concat(R.client.basePath,"assets/fonts.json")}function C(){function e(t){return Object.assign(t,{clearTimeout:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){return t.isPending()&&(clearTimeout(a),i(new Error("timeout-cancelled"))),t}),then:function(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e((n=W.a.prototype.then).call.apply(n,[t].concat(o)))},catch:function(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e((n=W.a.prototype.catch).call.apply(n,[t].concat(o)))}})}for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a,i;return e(new W.a(function(e,t){i=t,a=setTimeout.apply(void 0,r([e].concat(n)))}))}function k(e){var t=e.map(function(e){return B()(e.toJS(),["id","label","width","height"])});t.forEach(function(e){e.label=Object(F.a)(e.label),e.height=parseInt(e.height,10),e.width=parseInt(e.width,10)});var n=JSON.stringify({items:t});return JSON.stringify({presets:n})}function x(){return parent!==window?Object(V.a)(document.referrer):null}function P(e){return U()(R.client.cssPrefix)(e).substring(1)}function _(e){return window.getComputedStyle(e)||{}}function I(e){var t=_(e),n={};return t.height&&(n.height=Number(t.height.replace("px",""))),t.width&&(n.width=Number(t.width.replace("px",""))),n}function N(){var e,t;return[new Promise(function(n,r){e=n,t=r}),e,t]}function M(e){return!/www\.shutterstock\.com/.test(e)}function A(e){return"string"==typeof e?"true"===e:!!e}t.a=l,t.d=b,t.h=m,t.e=S,t.l=j,t.g=T,t.t=C,n.d(t,"m",function(){return q}),n.d(t,"j",function(){return $}),n.d(t,"k",function(){return Q}),n.d(t,"r",function(){return ee}),n.d(t,"q",function(){return te}),n.d(t,"n",function(){return ne}),t.b=k,n.d(t,"i",function(){return re}),t.f=I,t.c=A;var R=n(29),D=(n.n(R),n(332)),L=n.n(D),G=n(69),B=n.n(G),F=n(450),z=n(1347),U=n.n(z),H=n(157),W=n.n(H),V=n(101),K=n(94);n.d(t,"p",function(){return K.d}),n.d(t,"o",function(){return K.b}),n.d(t,"s",function(){return K.e});var X="undefined"!=typeof window?window.URL||window.webkitURL:null,Y={DATAURI:0,ARRAYBUFFER:1},q=function(e){return"normal"!==e&&!!e},Z=function(e,t){if(!e)throw new Error('layer not passed when calling "scaleLayerToElement()"');if(!t)throw new Error('asset not passed when calling "scaleLayerToElement()"');return J({contentW:t.get("width"),contentH:t.get("height"),elementW:e.get("width"),elementH:e.get("height"),offsetPctX:e.getIn(["crop","x"]),offsetPctY:e.getIn(["crop","y"])})},J=function(e){var t=L()(e,{offsetPctX:0,offsetPctY:0}),n=t.contentW,r=t.contentH,o=t.elementW,a=t.elementH,i=t.offsetPctX,c=t.offsetPctY,u={};return o/a>=n/r?(u.width=o,u.ratio=u.width/n,u.height=r*u.ratio):(u.height=a,u.ratio=u.height/r,u.width=n*u.ratio),u.x=-u.width*i,u.y=-u.height*c,u},$=function(e){var t;try{t=L()({},Object(V.a)(e&&e.parent?e.parent.location:"").query,Object(V.a)(e&&e.location?e.location:"").query)}catch(n){t=L()({},Object(V.a)(e&&e.location?e.location:"").query)}return t},Q=function(){var e=(new Date).getTime();if(window.performance&&window.performance.timing&&"number"==typeof window.performance.timing.navigationStart){return(e-window.performance.timing.navigationStart)/1e3}return!1},ee=function(e){return!!(2===e.button||0===e.button&&e.ctrlKey)},te=function(e){return 1===e.which&&(e.buttons||void 0===e.buttons)},ne=function(){var e;return function(){if(null!=e)return e;if(Object(K.d)()){var t=Object.assign(document.createElement("canvas"),{width:1,height:1}),n=t.getContext("2d");n.fillStyle="white",n.fillRect(0,0,t.width,t.height);var r=n.createImageData(t.width,t.height);r.data[0]=255,r.data[1]=0,r.data[2]=0,r.data[3]=255,n.clearRect(0,0,t.width,t.height),n.putImageData(r,0,0),document.body.appendChild(t);var o=n.getImageData(0,0,1,1);e=255!==o.data[0]}else e=!1;return e}}(),re=U()(R.client.cssPrefix);K.d,K.a,K.c,K.b,K.e},function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"I",function(){return a}),n.d(t,"P",function(){return i}),n.d(t,"R",function(){return c}),n.d(t,"O",function(){return u}),n.d(t,"Q",function(){return l}),n.d(t,"A",function(){return s}),n.d(t,"k",function(){return f}),n.d(t,"s",function(){return d}),n.d(t,"n",function(){return p}),n.d(t,"o",function(){return h}),n.d(t,"m",function(){return b}),n.d(t,"C",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"H",function(){return v}),n.d(t,"g",function(){return y}),n.d(t,"N",function(){return O}),n.d(t,"M",function(){return S}),n.d(t,"G",function(){return w}),n.d(t,"D",function(){return j}),n.d(t,"E",function(){return T}),n.d(t,"F",function(){return E}),n.d(t,"e",function(){return C}),n.d(t,"r",function(){return k}),n.d(t,"q",function(){return x}),n.d(t,"p",function(){return P}),n.d(t,"j",function(){return _}),n.d(t,"w",function(){return I}),n.d(t,"t",function(){return N}),n.d(t,"L",function(){return M}),n.d(t,"J",function(){return A}),n.d(t,"l",function(){return R}),n.d(t,"a",function(){return D}),n.d(t,"K",function(){return L}),n.d(t,"z",function(){return G}),n.d(t,"d",function(){return B}),n.d(t,"v",function(){return F}),n.d(t,"u",function(){return z}),n.d(t,"h",function(){return U}),n.d(t,"x",function(){return H}),n.d(t,"c",function(){return W}),n.d(t,"y",function(){return V}),n.d(t,"B",function(){return K});var r="CREATE_ASSET",o="ADD_LICENSED_IMAGE",a="SET_ZOOM_LEVEL",i="ZOOM_IN",c="ZOOM_OUT",u="ZOOM_AUTO",l="ZOOM_MANUAL",s="SET_CONTAINER_DIMS",f="DOCUMENT_READY",d="FABRIC_TEXT_SELECTION_CHANGED",p="FABRIC_DATA",h="FABRIC_DATA_ONE_OBJECT",b="FABRIC_ARTBOARD",m="SET_FLASH_ALERT",g="CLOSE_FLASH_ALERT",v="SET_TOAST_ALERT",y="CLOSE_TOAST_ALERT",O="VIEWPORT_CHANGE",S="UPDATE_FABRIC_TIMESTAMP",w="SET_SPINNER",j="SET_IS_DRAGGING_IN",T="SET_PRINT_RESOLUTION",E="SET_RULER_UNITS",C="CLEAR_PAGE_SELECTIONS",k="FABRIC_SELECTION",x="FABRIC_OBJECTS",P="FABRIC_EVENTS_BOUND",_="DELETE_FABRIC_OBJECTS",I="REORDER_OBJECTS",N="GROUP_OBJECTS",M="UNGROUP_OBJECT",A="START_TOUR",R="END_TOUR",D="ACTIVE_GRADIENT_STOP",L="TEMPLATE_SELECTED",G="SET_COMPONENT_OPACITY",B="CLEAR_COMPONENT_OPACITY",F="IMAGE_LOOK_FOR_LICENSE_START",z="IMAGE_LOOK_FOR_LICENSE_END",U="CONTRIBUTOR_INFO",H="SET_AS_LICENSED",W="ASSET_LOADING_PROMISE",V="SET_CLOSER_FUNC",K="SET_ENTRY_POINT"},,,function(e,t,n){"use strict";n.d(t,"D",function(){return i}),n.d(t,"f",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"l",function(){return v}),n.d(t,"k",function(){return y}),n.d(t,"a",function(){return x}),n.d(t,"x",function(){return P}),n.d(t,"n",function(){return I}),n.d(t,"i",function(){return M}),n.d(t,"j",function(){return A}),n.d(t,"u",function(){return R}),n.d(t,"s",function(){return D}),n.d(t,"t",function(){return L}),n.d(t,"q",function(){return G}),n.d(t,"p",function(){return z}),n.d(t,"v",function(){return U}),n.d(t,"o",function(){return H}),n.d(t,"r",function(){return V}),n.d(t,"w",function(){return K}),n.d(t,"m",function(){return X}),n.d(t,"y",function(){return Y}),n.d(t,"B",function(){return q}),n.d(t,"z",function(){return Z}),n.d(t,"C",function(){return J}),n.d(t,"A",function(){return $});var r=n(33),o=n(15),a=Object(r.a)(["config"]),i=Object(r.a)(a.concat("textShadowMultiplier")),c=Object(r.a)(a.concat("shapeShadowMultiplier")),u=Object(r.a)(a.concat("availableStrokeWidths")),l=Object(r.a)(a.concat("availableStrokeWidthsNext")),s=Object(r.a)(a.concat("availableStrokeDashes")),f=Object(r.a)(a.concat("availablePresetColors")),d=Object(r.a)(a.concat("availablePresetColorsNext")),p=Object(r.a)(a.concat("availablePresetColorsSafe")),h=(Object(r.a)(a.concat("newPresetColors")),Object(r.a)(a.concat("availableBackgroundPresetColors"))),b=Object(r.a)(a.concat("strokePageMultiplier")),m=Object(r.a)(a.concat("strokeTextMultiplier")),g=Object(r.a)(a.concat("fontSize")),v=Object(r.a)(g.concat("min")),y=Object(r.a)(g.concat("max")),O=Object(r.a)(a.concat("fontWeight")),S=Object(r.a)(O.concat("bold")),w=Object(r.a)(O.concat("regular")),j=Object(r.a)(a.concat("fontVariant")),T=Object(r.a)(j.concat("bold")),E=Object(r.a)(j.concat("boldItalic")),C=Object(r.a)(j.concat("italic")),k=Object(r.a)(a.concat("minimumAllowedDimension")),x=Object(r.a)(a.concat("addTextDefaultSize")),P=Object(r.a)(g.concat("predefined")),_=Object(r.a)(a.concat("imageObjectLimit")),I=Object(r.a)(a.concat("imageObjectScaleThreshold")),N=Object(r.a)(a.concat("designs")),M=Object(r.a)(N.concat("maxLength")),A=Object(r.a)(a.concat("embedConfig")),R=Object(r.a)(a.concat("maxPages")),D=Object(r.a)(a.concat("logo")),L=Object(r.a)(a.concat("logoUrl")),G=Object(r.a)(a.concat("isMobileDevice")),B=Object(r.a)(a.concat("isMobileSize")),F=o.b.isEnabled("forceMobile"),z=Object(r.a)(G,B,function(e,t){return F||e||t}),U=Object(r.a)(a.concat("navBarPanels")),H=Object(r.a)(a.concat("isFeatureActive")),W=Object(r.a)(H,function(e){return e.get("custom_text_templates")}),V=Object(r.a)(H,function(e){return e.get("custom_uploads")||e.get("uploads")||!o.b.isEnabled("embed")}),K=function(e){return a(e).get("overrideUploadHandler")},X=function(e){return a(e).get("hideCloseButton")},Y=function(e){return a(e).get("primaryActionText")},q=function(e){return a(e).get("showPrimaryActionButton")},Z=function(e){return H(e).get("background_removal_notification")},J=Object(r.a)(a.concat("supportedFileFormats")),$=function(e){return a(e).get("sdkInfo",null)};t.h={config:a,embedConfig:A,textShadowMultiplier:i,shapeShadowMultiplier:c,availableStrokeWidths:u,availableStrokeDashes:s,availablePresetColors:f,availableBackgroundPresetColors:h,strokePageMultiplier:b,strokeTextMultiplier:m,fontSize:g,fontWeightBold:S,fontWeightRegular:w,variantBold:T,variantBoldItalic:E,variantItalic:C,fontSizeMinimum:v,fontSizeMaximum:y,minimumAllowedDimension:k,predefinedFontSizes:P,addTextDefaultSize:x,imageObjectLimit:_,imageObjectScaleThreshold:I,designs:N,designsMaxLength:M,maxPages:R,isMobile:z,navBarPanels:U,isCustomTextTemplatesActive:W,isUploadActive:V}},function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}var l=n(0),s=n.n(l),f=n(4),d=n.n(f),p=n(89),h=n(821),b=function(e){var t=Object(l.useState)(""),n=r(t,2),o=n[0],a=n[1];return Object(l.useEffect)(function(){Object(h.a)(e).then(a)},[e]),o},m=b;n.d(t,"a",function(){return v});var g=function(e){var t=e.name,n=e.title,r=e.className,o=e.onClick,a=e.style,i=e.draggable,c=e.onDragStart,u=e.onDragEnd,l=e.onDrag,f=e["data-tip"],p=e["data-for"],h=e["data-class"],b=e["data-offset"],g=e["data-place"],v=d()("cmpIcon",t,r),y=m(t);return s.a.createElement("i",{draggable:i,onDragStart:c,onDragEnd:u,onDrag:l,onClick:o,name:t,title:n,className:v,dangerouslySetInnerHTML:{__html:y},style:a,"data-tip":f,"data-for":p,"data-class":h,"data-offset":b,"data-place":g})},v=(t.b=g,Object(p.a)()(g))},,function(e,t,n){"use strict";function r(){return!!u()}function o(e){var t=e.containerName;s[t]||(s[t]={}),s[t].modalContainer=e}function a(e){var t=e.containerName;delete s[t].modalContainer}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s.active;return new Promise(function(n){t&&(e&&e.withFading?(t.setState({fading:!0,resolve:null,reject:null,closed:!1}),s.active=null):(t.setState({Modal:null,resolve:null,reject:null,closed:!1}),s.active=null,n()))})}function c(){var e=s.active;if(!e)return Promise.resolve();var t=e.state.resolve;return i({withFading:!0}).then(t)}function u(){var e=s.active;return e||null}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.Modal,n=e.props,r=void 0===n?{}:n,o=e.fullscreen,a=void 0!==o&&o,c=e.skipClear,u=void 0!==c&&c,f=e.zIndex,d=void 0===f?10:f,p=r.container||"AltModalContainer",h=s.active;if(!s[p]||!s[p].modalContainer)throw new Error("No ModalContainer registered for ".concat(p));if(!u&&h)return i(r).then(l.bind(null,e));var b=new Promise(function(e,n){s[p].modalContainer.setState({Modal:t,fullscreen:a,zIndex:d,modalProps:r,resolve:e,reject:n})});return b.then(function(){return i()},function(){return i()}),s.active=p,b}t.d=r,t.e=o,t.h=a,t.a=i,t.f=c,t.c=u,t.g=l;var s={},f=null;Object.defineProperty(s,"active",{get:function(){return f},set:function(e){f=s[e]?s[e].modalContainer:null}}),t.b={modalObject:s,modalIsOpen:r,registerModalContainer:o,unregisterModalContainer:a,clearModal:i,resolveModal:c,getCurrentModalType:u,showModal:l}},,,,function(e,t){e.exports={client:{oldBasePath:"/projects/",basePath:"/editor/image/",defaultImageId:"57924355",defaultTemplateId:"153455",designThumbSize:500,blankCanvasTemplateId:"32866",flagPath:"/editor/flagControl/",isProdBuild:!0,cssPrefix:"",debug:!1,environment:"production",i18n:{whitelist:["cs","da","de","el","en","es","fi","fr","hu","id","it","ja","ko","nb","nl","pl","pt","ro","ru","sv","th","tr","vi","zh","zh-Hant"],fallbackLng:"none",load:"currentOnly",ns:["translation"],defaultNS:"translation",debug:!1,interpolation:{prefix:"__",suffix:"__",escapeValue:!1}},design:{version:19,defaultsVersion:2},emoji_cache_buster:2,featureKeys:["autoSave","homePage","newPresets","universalLicensor","next"],templateDesigner:{guid:162424838},cdn:"https://www.shutterstock.com",apiVersion:"api/v1",endpoints:{imageUrlDownload:"/imageUrlDownload",search:"/search",suggest:"/suggest",autoComplete:"/autocomplete",safariUpload:"/safari/upload/",shutterstockImage:"/_shutterstockImage",userSubscriptions:"/users/_subscriptions",userInfo:"/user/info",mediaImage:"/media/image/",mediaImages:"/media/images/",design:"/design",designs:"/designs",designProxy:"/designProxy",userMediaProxy:"/userMediaProxy",templates:"/templates",templatesUas:"/templatesUas",template:"/template",userSettings:"/users/settings",language:"/language",collection:"/collection",collections:"/collections",userRecentlyViewed:"/users/recentlyviewed",media:"/media",ephemeralUpload:"/ephemeralUpload",ephemeralUploadPublicApi:"/ephemeralUploadSdk",twitterRequestToken:"/twitterRequestToken",twitterCallback:"/twitterCallback",twitterAccessToken:"/twitterAccessToken",twitterPost:"/twitterPost",twitterPostImage:"/twitterPostImage",publishVoidCallback:"/voidCallback",contributorInfo:"/contributor",emailing:"/mailShare",tosvgstring:"/tosvgstring",tosvgfile:"/tosvgfile",waitForSub:"/waitForSub"},userCapabilities:{basic:{customPresets:1,downloads:2}},services:{userAssets:"https://user-assets.shutterstock.com/v1/user/",enterpriseCart:"https://enterprise.shutterstock.com/workbench/editor/cart"},search:{host:"https://www.shutterstock.com/search/"},upload:{maxFileSizeInMB:25,maxFileSizeProxyInMB:100,fileTypes:["image/jpeg","image/png"],maxAllowedUploads:100},publish:{twitter:{maxFileSizeInBytes:3145728,maxWidth:1200,maxHeight:1200},facebook:{appId:"1064354507017016",maxFileSizeInBytes:3145728},pinterest:{appId:"4859480757931879384",maxFileSizeInBytes:3145728}},cloudStorage:{googleDrive:{clientID:"920836147219-2bu7qfrcu9fs8ruvodgavgkgmc9ogbvs.apps.googleusercontent.com",scopes:["https://www.googleapis.com/auth/drive.metadata.readonly","https://www.googleapis.com/auth/drive.file","email","profile"]},dropbox:{clientId:"oc7kva98tb5g9l7"}},freeImageFakeSubscriptionId:"-9999",renderer:"export",maxAllowedCorruptedImageRetries:3,autoSave:{timeout:2e4},nativeFontWhitelist:[],learnMore:"/explore/shutterstock-editor-pro",launchDarkly:"597a2ee578f27b0cd19a97d7",externalHostContribs:"//cdn.shutterstock.com",cacheBuster:"21304605",port:!1,freeImages:{19702231:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},33183388:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},33413983:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},67109548:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},70326418:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},73258153:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},79263031:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},83210242:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},83210245:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},83465986:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},103062359:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},107328002:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},124048642:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},131485853:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},131499611:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},131501231:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},144568262:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},154820342:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},159791564:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},162533432:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},167970140:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},168096479:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},172218053:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},174159965:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},174848108:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},178949267:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},181615388:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},181615559:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},183389603:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},188940854:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},189091064:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},191353700:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},198181892:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},205437778:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},205692844:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},206233252:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},208220245:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},214480165:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},215175454:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},227940901:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},229978654:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},231576661:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},246438877:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},249263515:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},256141084:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},258286934:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},287222420:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},287948621:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},294481421:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},296937782:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},297266909:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},298046171:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},305562920:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},307380113:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},309279728:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},330171092:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},335187884:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},336084164:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},338755508:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},340013450:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},340665503:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},367586594:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},369284354:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},371194634:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},373605886:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},388008022:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},388057546:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},398299453:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},398306779:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},398321002:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},400680352:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},402351481:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},411146359:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},411953272:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},429951970:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},441561604:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},441566824:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},442239136:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},447271672:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},447952033:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},448369375:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},452230228:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},457867315:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},465538670:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},467067251:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},476048662:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},483116632:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},490008445:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},512694148:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},536444998:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},547770205:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},564107008:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},571353400:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},573969583:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},574457032:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},574782673:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},575282185:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},575284045:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},575297011:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},575496736:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},578959354:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},585270833:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},585447164:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},585449432:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},585457463:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},589565606:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},606977669:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},607012154:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},630084824:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},630602003:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},630784769:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},631166693:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},631322480:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},633389549:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},633569249:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},637810669:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},643067350:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},646866010:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},646892425:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},646896634:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},646934431:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},649462957:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},650122213:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},650127409:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},650127442:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},650294620:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},651512755:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},652043437:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},654501274:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},655226110:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},655298926:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},658054618:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},658061638:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},658061848:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},658067854:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},658073350:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},658189561:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},658246417:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},660619252:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},674481430:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},680248201:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},689912023:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},690069550:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},690096961:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},690125980:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},692065369:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},692364598:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},692371960:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},692384956:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},692748655:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},692863837:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},701376220:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},702013558:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},702063220:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},702071287:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},702116314:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},705809443:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},709215955:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},710139631:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},710768716:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},710785129:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},710806249:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},710933434:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},711633490:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},711679150:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},713068492:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},713107459:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},713175046:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},714258697:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},714276658:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},715573498:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},730144696:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},737433439:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},777504181:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1079366516:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1135546280:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1135546307:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1135572224:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1135607501:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1135607534:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1147264103:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1149082475:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1161055687:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1167262342:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1167706447:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1167798976:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1167821233:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1167821239:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1169666143:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1213126372:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1231891324:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1261178941:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1268121124:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1280389039:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1280389123:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1280389174:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1280449252:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1281004888:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1281004894:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1313369729:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1314587777:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1330015289:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1331172965:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1331230781:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1331325743:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1332072698:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1332193028:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1343616857:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1349961467:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1351014092:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1351014158:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1351987697:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1352577578:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1359181142:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1433443757:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434158792:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434230114:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434230120:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434252731:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434357452:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434357461:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434407288:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434545216:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434571856:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434605942:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1434649403:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1439596310:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1439796428:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1440246383:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1448604047:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1448628308:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1448703038:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1448895071:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1449041030:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1455655700:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1476766331:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1477639139:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1506915491:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1507119305:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1507471562:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1507490396:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1507490402:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1507616804:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1507851146:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1513718990:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1514062904:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1514337371:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1515622979:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1515623021:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1515658841:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1576803028:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1590047380:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1629443938:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1631500858:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1636489438:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1684870045:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1715375116:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1718324503:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1722907231:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1723363138:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1723373413:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1732199980:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1738209941:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1738209950:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1738210394:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1743069110:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1743069113:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1754864978:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1754902184:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1756602560:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1758746738:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1758747002:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1758756197:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1758756200:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1758757775:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1758779525:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1761971261:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1762056335:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1762057193:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1763677571:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1764103058:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1764103157:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1764103568:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1764103730:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1765776104:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1767367862:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1767368012:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1767369101:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1767369416:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1773278888:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1773541112:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1773545675:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1808935642:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1808935795:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1824479744:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1824480056:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1834834057:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1843400830:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1843404664:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1843404823:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1852938679:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859146411:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859146576:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859146612:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859146747:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859146834:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859146837:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859147077:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859147338:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859147470:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859147527:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859147575:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859147893:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859147911:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859148124:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859148382:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859148496:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859148793:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149036:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149102:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149204:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149444:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149510:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149666:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149777:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149912:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859149918:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859150311:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859150548:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859150551:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859150770:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859151058:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859151244:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859151304:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859151370:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859151448:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859151925:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859163670:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859163676:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859163877:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1859163958:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862779912:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862780275:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862780620:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862780923:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862787067:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862787112:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862790421:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862790727:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862792146:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862792167:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862793364:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1862793382:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865059102:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865059414:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865059912:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865060050:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865060152:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865060242:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865060596:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865060698:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865060938:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865061277:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865061904:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865061979:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865062228:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865062399:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865062720:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865062723:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865062882:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865063341:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865063584:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865064040:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865064283:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865064343:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865064418:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865064448:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865064976:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865065546:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865066188:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865066260:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865066743:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865067079:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865067463:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865067469:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865067850:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865067853:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865067943:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865067991:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865067997:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865068372:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865068378:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865068447:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865068504:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865068507:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865068519:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865068999:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069305:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069359:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069596:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069626:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069755:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069809:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069899:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069920:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865069962:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865070043:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865070079:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865070139:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865070178:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865733067:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865733484:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865734075:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865734240:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865734609:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865735920:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736046:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736409:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736478:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736520:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736610:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736760:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736808:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736835:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736988:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1865736991:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1866766045:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1866766243:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1866766879:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1866775753:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1866776029:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1868970631:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1868970997:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1868973640:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1868973643:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871109505:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871444911:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871445061:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871445352:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871445379:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871445436:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871822695:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871822737:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871840428:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871840500:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871840518:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871840929:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871841004:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1871841799:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874433904:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874433961:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874434207:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874434225:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874434303:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874434933:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874435245:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874435254:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874435803:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874435911:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874436940:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874436955:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874437246:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874437573:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874438407:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874438869:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439286:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439400:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439403:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439415:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439478:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439514:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439592:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439703:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439742:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874439814:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874749684:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874749693:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1874750302:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875693589:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875695836:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875696100:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875696358:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875696739:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875696850:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875697012:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875697063:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875697303:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875697405:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875697807:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875703339:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875704575:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875704659:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875705394:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875708472:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875708529:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875709912:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875714508:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875714514:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875715237:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875715360:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875715762:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875717433:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875718903:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875719584:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875720169:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875721264:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875721966:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875723058:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875723505:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875723538:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875723661:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875723775:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875724627:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875724810:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1875724822:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1889334739:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1889334742:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1889334745:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1889334748:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1889334754:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1889334757:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1889334760:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1889334763:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1892216521:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1898326486:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1898326720:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1901971219:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902910927:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902911071:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902911125:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902911395:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902911626:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902911878:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902912511:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902912514:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902912604:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902912832:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902913039:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902913297:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902914173:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902914992:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902915217:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902917389:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1902917392:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903499035:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903499128:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903499386:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903499446:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903499842:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903500031:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903500628:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903501042:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903501087:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903501162:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903501210:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903501630:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903501693:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903501867:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"},1903502005:{start:"Sun Nov 01 2020 01:00:00 GMT+0100 (Central European Standard Time)",end:"Tue Nov 01 2022 01:00:00 GMT+0100 (Central European Standard Time)"}}},app:{newrelic:!0,mixpanel:!0,googleAnalytics:!0,alertOnNavigation:!0,trackjs:!0}}},function(e,t,n){"use strict";n.d(t,"i",function(){return i}),n.d(t,"k",function(){return u}),n.d(t,"m",function(){return l}),n.d(t,"n",function(){return s}),n.d(t,"p",function(){return f}),n.d(t,"s",function(){return d}),n.d(t,"r",function(){return h}),n.d(t,"l",function(){return b}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return S}),n.d(t,"o",function(){return w}),n.d(t,"g",function(){return j}),n.d(t,"t",function(){return E}),n.d(t,"j",function(){return k}),n.d(t,"q",function(){return x});var r=n(33),o=n(12),a=(n.n(o),Object(r.a)(["DesignsPanel"])),i=Object(r.a)(a.concat(["designs"])),c=Object(r.a)(i,function(e){return e.toJS()}),u=Object(r.a)(i,function(e){return e?e.filter(function(e){return!e.get("isShared")}):Object(o.List)()}),l=Object(r.a)(u,function(e){return e.toJS()}),s=Object(r.a)(a.concat(["initializing"])),f=Object(r.a)(a.concat(["loading"])),d=Object(r.a)(a.concat(["pending"])),p=Object(r.a)(a.concat(["saveRequest"])),h=Object(r.a)(a.concat(["paging"])),b=Object(r.a)(a.concat(["error"])),m=Object(r.a)(a.concat(["activeDesignId"])),g=Object(r.a)(m,i,function(e,t){return t&&t.find(function(t){return t.get("id")===e})}),v=Object(r.a)(g,function(e){return e&&e.get("isShared")}),y=Object(r.a)(g,function(e){return e&&e.get("title")||"Untitled Design"}),O=Object(r.a)(a.concat(["activeOverlayId"])),S=Object(r.a)(O,i,function(e,t){return t&&t.find(function(t){return t.get("id")===e})}),w=Object(r.a)(a.concat(["isAutoSaving"])),j=Object(r.a)(a.concat(["autoSaveInitialized"])),T=Object(r.a)(a.concat(["lastSaved"])),E=Object(r.a)(a.concat(["totalCount"])),C=Object(r.a)(a.concat(["perPage"])),k=Object(r.a)(i,function(e){return e.size}),x=Object(r.a)(C,k,function(e,t){return Math.floor(t/e)});t.h={panel:a,designs:i,getDesigns:c,designsWithoutShared:u,getDesignsWithoutShared:l,initializing:s,loading:f,pending:d,saveRequest:p,paging:h,error:b,activeDesignId:m,activeDesign:g,activeDesignIsShared:v,activeDesignTitle:y,activeOverlayId:O,activeOverlay:S,isAutoSaving:w,autoSaveInitialized:j,lastSaved:T,totalCount:E,perPage:C,designsLoaded:k,page:x}},,,function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(1===t.length&&Array.isArray(t[0])&&t[0].every(function(e){return"string"==typeof e||"number"==typeof e})){var r=t[0].slice(),o=function(e){return e.getIn(r)};return o.concat=function(e){return r.concat(e)},o}return c.apply(void 0,t)}t.a=r;var o=n(953),a=(n.n(o),n(12)),i=n.n(a),c=Object(o.createSelectorCreator)(o.defaultMemoize,i.a.is)},,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e){this.props.controllingKey&&u.track(this.props.controllingKey,e,this)}var c=function(){function e(){r(this,e),this.elementMap={},this.instanceMap={}}return a(e,[{key:"track",value:function(e,t,n){t?(t instanceof HTMLElement&&(this.elementMap[e]=t),this.instanceMap[e]=n):(delete this.elementMap[e],delete this.instanceMap[e])}},{key:"isPresent",value:function(e){return!!this.elementMap[e]&&!!this.instanceMap[e]}},{key:"getReactInstance",value:function(e){return this.instanceMap[e]}},{key:"getHTMLelement",value:function(e){return this.elementMap[e]}},{key:"controlState",value:function(e,t){this.instanceMap[e].setState(t)}},{key:"cleanUp",value:function(){this.elementMap={},this.instanceMap={}}}]),e}(),u=new c;t.a={refControllerCallback:i,componentLocator:u}},function(e,t,n){"use strict";var r=n(1),o=n(782),a=n(29),i=(n.n(a),new o.a(r.default));i.setMaxListeners(2),a.client.debug&&(window.sharedHistory=i),t.a=i},,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){if("object"!==r(e))throw new Error("Expected reducers to be an object to pass to combineReducers");a.default.getStore().addReducer(e)}var a=n(1);t.a=o},,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){"@babel/helpers - typeof";return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,n){return function(r){var o=r.aborted;0===e.status?r=new Error("Offline network request"):r instanceof Error||(r=r&&r.message?new Error(r.message):new Error("failed network request for: ".concat(n.url))),r.status=e.status,r.aborted=o,t(r)}}function f(e,t){var n=t.authRetryFunc,r=t.statusCode,o=t.resolver;return new O.a(function(a,i){var c=s(e,i,t);e.addEventListener("load",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.status>=200&&e.status<400?o?o(t,a):a(t):[401,403].includes(e.status)&&n?n&&n().then(a).catch(c):[401,403].includes(e.status)?(_(),c(t)):r&&r[e.status]?r[e.status](t).then(a).catch(c):c(Object.assign(t,{aborted:!1}))}),e.addEventListener("error",function(e){return c(Object.assign(e,{aborted:!1}))}),e.addEventListener("abort",function(e){return c(Object.assign(e,{aborted:!0}))})})}function d(e){var t=e.withCredentials,n=e.token,r=e.method,o=e.route,a=e.form,i=new XMLHttpRequest;i.withCredentials=t;var c=f(i,e);return function(){return i.open(r||"POST",o,!0),n&&i.setRequestHeader("Authorization","Bearer ".concat(n)),i.send(a),c}}function p(e){var t=e.url,n=e.type,r=e.data,o=e.contentType,a=e.dataType,i=new XMLHttpRequest;Object(x.d)()||(i.responseType=a);var s=(n||"GET").toUpperCase(),d="";if("GET"===s&&"object"===l(r)){var p=Object.keys(r).reduce(function(e,t){return[void 0,null].includes(r[t])?e:c(u({},t,r[t]),e)},{});d=k.a.stringify(p,{arrayFormat:"bracket"})}var h=f(i,c(c({},e),{},{resolver:function(e,t){if("json"===a){if(Object(x.d)())return t(JSON.parse(e.target.response));t(e.target.response)}else t("blob"===a?e.target.response:e.target.responseText)}}));return function(){return i.open(s,"".concat(t).concat(d?"?":"").concat(d),!0),o&&i.setRequestHeader("Content-Type",o),function(){if("string"==typeof r)return i.send(r);if("GET"===s)return i.send();if(r instanceof FormData)return i.send(r);if("object"===l(r)){var e=new FormData;for(var t in r)r.hasOwnProperty(t)&&![void 0,null].includes(r[t])&&e.append(t,r[t]);return i.send(e)}i.send()}(),h}}function h(e){function t(e,n){return Object.assign(e,{_requestId:n,then:function(){for(var r,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t((r=O.a.prototype.then).call.apply(r,[e].concat(a)),n)},catch:function(){for(var r,o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return t((r=O.a.prototype.catch).call.apply(r,[e].concat(a)),n)}})}var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"jquery";n="jquery"===r?p(e):d(e);var o,a,i=new O.a(function(e,t){o=e,a=t});return n.send=function(){return n().then(o).catch(a)},t(i,I.add(e.url,n,e.queue))}function b(e){P=e}function m(e){_=e}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=P.apply(void 0,[g].concat(t)),o={401:r,403:r},a=t[0],i=t[1];return h(i?c({statusCode:o,url:a},i):"object"===l(a)?c({statusCode:o},a):{statusCode:o,url:a})}function v(e,t){if(!e.route)return O.a.reject(new Error("ajaxForm: No route provided"));if(!t)return O.a.reject(new Error("ajaxForm: No form provided"));var n=P(v,e,t);return h(c(c({},e),{},{url:e.route,form:t,authRetryFunc:n}),"xhr")}var y=n(157),O=n.n(y),S=n(78),w=n.n(S),j=n(811),T=n.n(j),E=function(){function e(){r(this,e),this.rid=0,this.routes={}}return a(e,[{key:"add",value:function(e,t,n){var r=this.rid++;return e=e.split("?")[0],this.routes[e]||(this.routes[e]=[]),n?(this.routes[e].push({rid:r,request:t}),1===this.routes[e].length?this.doNextRequest(e):this.routes[e]=this.routes[e].slice(-1),r):(t.send(),r)}},{key:"remove",value:function(e,t){e=e.split("?")[0];var n=T()(this.routes[e],function(e){return e.rid===t});-1!==n&&this.routes[e].splice(n,1)}},{key:"doNextRequest",value:function(e){var t=this;e=e.split("?")[0];var n=this.routes[e];if(n.length){var r=function(){n[0].inProgress=!1,t.remove(e,n[0].rid),t.routes[e].length&&t.doNextRequest(e)};n[0].inProgress=!0,n[0].request=n[0].request.send().then(r).catch(r)}}}]),e}(),C=n(359),k=n.n(C),x=n(94);t.d=b,t.e=m,t.a=g,t.b=v;var P=w.a,_=w.a,I=new E;t.c={setOnAuthFail:b,setOnUnauthorized:m,ajax:g,ajaxForm:v}},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(7),o=r.e;t.a={noticeError:o}},,,,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(e){var t=e.modal,n=r(e,["modal"]);u.a.enabled=!1,c.default.dispatch(l.c,{currentModalKey:t,modalProps:n})}function i(){c.default.dispatch(l.a),u.a.enabled=!0}t.c=a,t.b=i;var c=n(1),u=n(39),l=n(365);t.a={showModal:a,hideModal:i}},function(e,t,n){"use strict";n.d(t,"b",function(){return d}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return b}),n.d(t,"a",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"d",function(){return k});var r=n(12),o=(n.n(r),n(33)),a=Object(r.List)(),i=[],c=Object(o.a)(["userSettings"]),u=Object(o.a)(c.concat("preview_mode")),l=Object(o.a)(c.concat("background_warning")),s=Object(o.a)(c.concat("ruler_enabled")),f=Object(o.a)(c.concat("presets")),d=Object(o.a)(f,function(e){return e||a}),p=Object(o.a)(c.concat("recently_used_colors")),h=Object(o.a)(p,function(e){return e||a}),b=Object(o.a)(p,function(e){return e?e.toJS():i}),m=Object(o.a)(c.concat("asset_tab")),g=Object(o.a)(c.concat("recentlyUsedColorCandidate")),v=Object(o.a)(c.concat("expand_section")),y=Object(o.a)(c.concat("user_seen_before")),O=Object(o.a)(c.concat("is_first_time_user")),S=Object(o.a)(c.concat("ftue_seen")),w=Object(o.a)(c.concat("welcome_seen_type")),j=Object(o.a)(c.concat("download_preference")),T=Object(o.a)(j.concat("fileType")),E=Object(o.a)(j.concat("dpi")),C=Object(o.a)(c.concat("template_warning")),k=Object(o.a)(c.concat("element_panel")),x=Object(o.a)(c.concat("background_removal_seen"));t.c={userSettingsObj:c,previewMode:u,backgroundWarning:l,rulerEnabled:s,presets:f,customPresets:d,rawRecentlyUsedColors:p,recentlyUsedColors:h,recentlyUsedColorsNext:b,activeAssetTab:m,recentlyUsedColorCandidate:g,expandSection:v,userSeenBefore:y,isFirstTimeUser:O,ftueSeen:S,welcomeSeen:w,downloadPreference:j,fileType:T,dpi:E,templateWarning:C,elementsPanel:k,backgroundRemovalSeen:x}},,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return!P.a.isLoggedIn()||L.default.isInTour()?Promise.resolve():K=K.then(function(){return E.c.ajax({type:"POST",url:V,contentType:"application/json",dataType:"json",data:e}).catch(function(){return e})}).then(function(e){return Object(U.a)(1e3).then(function(){return e})})}function g(){return E.c.ajax({type:"GET",url:V,contentType:"application/json",dataType:"json"}).then(function(e){j.default.dispatch(H.c,e),null!==e.darkmode&&j.default.dispatch(H.g,e.darkmode);var t=e.download_preference||{},n=t.fileType;return j.default.dispatch(W.i,n),e}).catch(function(){return{}})}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.save,o=void 0===r||r,a=n.serialize,i=void 0===a||a,c=e.replace("SET_","").toLowerCase();if(j.default.dispatch(e,t),!_.b.isEnabled("embed")&&o){var u=i?JSON.stringify(t):t;return m(JSON.stringify(b({},c,u)))}}function y(e){j.default.evaluate(x.c.activeAssetTab)!==e&&X.setActiveTab({name:e,source:D._26})}function O(e){var t=e?"#".concat(F()(e).toHex().toLowerCase()):null;j.default.dispatch(H.q,t)}function S(){j.default.dispatch(H.o);var e=j.default.evaluate(x.c.recentlyUsedColors);X.setUserSetting(H.p,e)}function w(e){j.default.dispatch(H.a,e);var t=j.default.evaluate(x.c.recentlyUsedColors);X.setUserSetting(H.p,t)}var j=n(1),T=n(18),E=n(43),C=n(7),k=n(25),x=n(49),P=n(64),_=n(15),I=n(16),N=n(0),M=n.n(N),A=n(147),R=function(e){function t(){return a(this,t),n.apply(this,arguments)}u(t,e);var n=s(t);return c(t,[{key:"render",value:function(){return M.a.createElement(A.a,o({},this.props,{className:"cmpOptOutModal",iconName:this.props.iconName,title:this.props.title,message:this.props.message,primaryActionLabel:this.props.primaryActionLabel,checkboxLabel:!_.b.isEnabled("embed")&&this.props.checkboxLabel}))}}]),t}(N.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(R,"displayName","OptOutModal");var D=n(9),L=n(65),G=n(6),B=n(194),F=n.n(B),z=n(88),U=n(120),H=n(121),W=n(225);t.e=v,t.d=O,t.c=S,t.a=w;var V=Object(T.e)("userSettings"),K=Promise.resolve(),X={loadSettings:g,setUserSetting:v,setFirstTimeUserStatus:function(){if("undefined"!=typeof Storage)return z.a.setItem("is_first_time_user",!1),X.setUserSetting(H.l,!1)},setUserSeenBefore:function(){if("undefined"!=typeof Storage)return z.a.setItem("user_seen_before",!0),X.setUserSetting(H.u,!0)},setBackgroundRemovalSeen:function(){return"undefined"!=typeof Storage&&z.a.setItem("backgroundRemovalSeen",!0),X.setUserSetting(H.d,!0)},setFtueSeen:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("undefined"!=typeof Storage)return z.a.setItem("ftue_seen",e),X.setUserSetting(H.k,e)},setWelcomeSeen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return X.setUserSetting(H.v,e,{serialize:!1})},setPreviewMode:function(e,t){var n=Object(G.a)();return n.clipPage=e,n.requestRenderAll(),X.setUserSetting(H.n,e,t)},setRulerEnabled:function(e){return C.a.click("footer.ruler",{enabled:e}),X.setUserSetting(H.r,e)},showReplaceWarningModal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!e||!e.key?Promise.resolve():Object(k.g)({Modal:R,props:e}).then(function(t){if(t)return X.setUserSetting(e.key,!0)})},setActiveTab:function(e){if(!_.b.isEnabled("embed")){j.default.dispatch(H.b,e.name),Object(I.g)("assets"),C.b.track("Open Tab",{tab:e.name,source:e.source});return m(JSON.stringify({asset_tab:e.name}))}},updateUserSettingWithAssetsTab:function(e){switch(e){case"lightboxes":case"designs":case"uploads":y(e)}},setExpandSection:function(e,t){var n=j.default.evaluate(x.c.expandSection).set(e,t);return X.setUserSetting(H.j,n)},setDownloadPreference:function(e){var t;return Object.keys(e).forEach(function(n){t=j.default.evaluate(x.c.downloadPreference).set(n,e[n])}),X.setUserSetting(H.h,t)},setActiveElementPanel:function(e){return C.b.track("Elements Panel",{panel:e}),X.setUserSetting(H.i,e,{serialize:!1})}};t.b=X},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return f(e)||s(e)||l(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t;t=e?Y.default.evaluate(Object(X.l)(e)):Y.default.evaluate(X.a);var n=ce.a.getThumb(t);n.element&&n.element.parentNode&&ce.a.refreshThumbnail(t)}function h(e){e.selectionStart=0,e.selectionEnd=e._text.length,e.enterEditing()}function b(e){e.setCoords(),e.fire("modified")}function m(e){e.filters=e.filters.filter(function(e){return e&&"ComposedFilter"!==e.type}),e.dirty=!0}function g(){var e=Object(U.a)(),t=e.getActiveObject(),n=["editorImage","userImage"];return t&&n.indexOf(t.type)>-1?t:e.getBackgroundImage()}function v(e,t){return fe[e.type]-fe[t.type]}function y(e,t){var n=e.filters.filter(function(e){return e instanceof H.fabric.Image.filters.EnhancedFilter});n.push(t),n.length>1&&n.sort(v),e.filters=n}function O(e){var t=g();return t?t.filters.find(function(t){return t&&t.type===e}):null}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe._32;if(Object(ie.c)())return!0;var t=Object(U.a)(),n=t.getActiveObjects();return n.length>0&&(ne.a.click("contextMenu.copy",{objects:n.length,source:e}),window.localStorage.sstkEditorClipBoardDims=JSON.stringify($()(t.getArtboard(),["width","height"])),window.localStorage.sstkEditorClipBoard=JSON.stringify(n)),!0}function w(e){if(e&&!e.bound){var t=new z(e);t.bindEvents(),e.on("removed",function(){t.unbindEvents(),t=null})}}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.scaleX,r=t.scaleY,o=t.scaleTo,a=t.position,i=t.defaultHeightPercent,c=Y.default.evaluate(X.b).toJS(),u=t.desiredHeight||i*c.height,l=e._getNonTransformedDimensions(),s=l.x,f=l.y;return n&&r?(e.scaleX=n,e.scaleY=r):s>f?e.scaleToWidth(o||u):e.scaleToHeight(o||u),this.addNewObjectAndSave(e,a,t)}function T(){var e=Object(U.a)(),t=Y.default.evaluate(X.b).toJS(),n=e.getArtboard();if(n&&n instanceof H.fabric.Rect)n.height=t.height,n.width=t.width,n.top=t.height/2,n.left=t.width/2;else{var r=new ae.a({fill:"#FFFFFF",height:t.height,width:t.width,top:t.height/2,left:t.width/2,strokeWidth:0});r.canvas=e,r.off("mousedblclick"),r.off("mousestrictdblclick"),e.backgroundImage=r,n=r}return n.setCoords(),n}function E(e){var t=Object(U.a)(),n=t.getActiveObject();if(n)if(n.isEditing)n.onKeyDown(e);else if(!n.isLocked){e.stopPropagation(),e.preventDefault();var r=be;e.shiftKey?r=he:e.metaKey&&(r=me),n[ge[e.keyCode]]+=ve[e.keyCode]*r,t.requestRenderAll(),de(n)}}function C(e){e(ye,E)}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe._32;if(!Object(ie.c)()){document.execCommand("copy"),S(e);var t=Object(U.a)(),n=t.getActiveObjects();t._discardActiveObject(),t.remove.apply(t,c(n)),t.fire("save")}}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe._32;return Object(ie.c)()?Promise.resolve():new Promise(function(t){if(!window.localStorage.getItem("sstkEditorClipBoard"))return void t([]);var n=JSON.parse(window.localStorage.getItem("sstkEditorClipBoard"));if(Object(re.d)(!1,n.filter(function(e){return["userImage","editorImage"].includes(e.type)}).length))return t([]);ne.a.click("contextMenu.paste",{objects:n.length,source:e}),P(n).then(function(e){t(e)})}).catch(function(e){delete window.localStorage.sstkEditorClipBoard,Object(te.b)(e)})}function P(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.map(function(e){return e.id=Object(V.a)(),!t||"editorTextBox"!==e.type&&"editorPath"!==e.type?e:Object(ue.a)(e)});return Object(W.a)(n).then(function(e){var t=Object(U.a)(),n=e.map(function(e){return e.id});t._discardActiveObject(),Object(K.a)(n,e);var r=t.getActiveObject(),o=t.getArtboard();r.top=o.top,r.left=o.left;var a;try{a=JSON.parse(window.localStorage.sstkEditorClipBoardDims)||{}}catch(e){a={}}if(a.height!==o.height||a.width!==o.width)if(r.width>o.width){var i=o.width/r.width;r.scaleX=r.scaleY=i}else if(r.height>o.height){var c=o.height/r.height;r.scaleX=r.scaleY=c}return r.setCoords(),t.requestRenderAll(),t.fire("save"),r})}function _(e){e("mod+x",function(){return k(oe._32)})}function I(){var e=function(){return S(oe._32)};return document.addEventListener("copy",e),function(){return document.removeEventListener("copy",e)}}function N(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=g();m(r),y(r,e);var o=Object(U.a)();n&&(r.applyFilters(),o.requestRenderAll()),t&&o.fire("save")}function M(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=g();m(n);var r=Object(U.a)();t&&(n.applyFilters(),r.requestRenderAll()),e&&r.fire("save")}function A(e){var t=O(e);if(t)return t.getMainParameter();var n=H.fabric.Image.filters[e];return n.prototype[n.prototype.mainParameter]}function R(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=g(),a=O(e),i=H.fabric.Image.filters[e],c=i.prototype.mainParameter,u=i.prototype[c],l=Object(U.a)();if(a||t===u){if(a&&(t===u||"Gamma"===e&&t===u[0])){var s=o.filters.indexOf(a);o.filters=o.filters.filter(function(e,t){return t!==s}),a=null}}else a=new i,y(o,a);a&&a.setMainParameter(t),r&&(o.applyFilters(),l.requestRenderAll()),n&&l.fire("save")}function D(e){Object(U.a)().overlayImage=e}function L(e){e.forEach(function(e){e.objectCaching=!1,e._objects&&L(e._objects)})}var G=n(166),B=n.n(G),F=n(149),z=function(){function e(t){r(this,e),i(this,"onMouseWheelEnd",F.c.bind(this)),this.onRotate=this.onRotate.bind(this),this.onModified=this.onModified.bind(this),this.onMoving=this.onMoving.bind(this),this.onMouseWheel=this.onMouseWheel.bind(this),this.fabricObject=t,this.fabricObject.bound=!0}return a(e,[{key:"bindEvents",value:function(){this.fabricObject.on("rotating",this.onRotate),this.fabricObject.on("modified",this.onModified),this.fabricObject.on("moving",this.onMoving),this.fabricObject.on("mousewheel",B()(this.onMouseWheel,100,{leading:!0}))}},{key:"unbindEvents",value:function(){this.fabricObject.off()}},{key:"onModified",value:function(){this.fabricObject.canvas.fire("save")}},{key:"onRotate",value:function(e){Object(F.e)(this.fabricObject,e.e)}},{key:"onMoving",value:function(e){var t=e.e,n=this.fabricObject;Object(F.d)(n,t)}},{key:"onMouseWheel",value:function(e){Object(F.b)(this.fabricObject,e)}}]),e}(),U=n(6),H=n(8),W=n(464),V=n(211),K=n(466),X=n(14),Y=n(1),q=n(15),Z=n(39),J=n(69),$=n.n(J),Q=n(71),ee=n.n(Q),te=n(44),ne=n(7),re=n(154),oe=n(9),ae=n(389),ie=n(80),ce=n(109),ue=n(463),le=n(176),se=n(920);t.f=p,n.d(t,"a",function(){return pe}),n.d(t,"c",function(){return ye}),t.d=E,t.e=x,Z.a.excludeKeyPathInSnapshotComparisons(["state","doc","fabricTimeStamp"]);var fe={ComposedFilter:0,IntensityFilter:1,BrightnessFilter:2,ContrastFilter:3,SaturationFilter:4,GammaFilter:5,BlurFilter:6,InvertFilter:7,ColorifyFilter:7.1,HueFilter:7.2,TemperatureFilter:7.3,PerspectiveFilter:9},de=ee()(b,500),pe=Object(ie.a)(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!0;void 0!==n.autoSave&&(r=n.autoSave),e.id=Object(V.a)();var o,a,i,c=Object(U.a)();if(t&&"x"in t&&"y"in t)o=t.x,a=t.y,i=0;else{var u={x:c.width/2,y:c.height/2},l=c.restorePointerVpt(u);o=l.x,a=l.y,u.y=0,i=c.restorePointerVpt(u).y}var s=q.b.isEnabled("disableAnimationEntry"),f=!1===s&&!n.disableAnimationEntry;f&&(n.selectAllText&&(e.selectionStart=0,e.selectionEnd=e._text.length),e.animation={top:a,opacity:1},e.top=i,"group"!==e.type&&(e.opacity=0),e.animate(e.animation,{duration:500,onChange:c.requestRenderAll.bind(c),easing:H.fabric.util.ease.easeOutExpo,onComplete:function(){c.setActiveObject(e),n.selectAllText&&e.enterEditing(),p(),delete e.animation}})),e.left="left"in n?n.left:o,e.top="top"in n?n.top:a,n.resizeArtboard&&Object(le.a)(e),"number"==typeof n.targetIndex?c.insertAt(e,n.targetIndex):c.add(e),n.isBackground&&e.sendToBack(),e.selectable=!0,!f&&n.selectAllText&&h(e),Object(se.a)();var d=n.allowTargetSave,b=void 0===d||d;return c.fire("save",{autoSave:r,target:b&&!n.resizeArtboard?e:null,selected:!0,textSelection:n.selectAllText,skipThumbnail:f}),c.setActiveObject(e),Promise.resolve(e)}),he=1,be=10,me=100,ge={39:"left",37:"left",38:"top",40:"top"},ve={39:1,37:-1,38:-1,40:1},ye=["right","shift+right","mod+right","left","shift+left","mod+left","up","shift+up","mod+up","down","shift+down","mod+down"];t.b={setThumbnail:p,updateCoordsAndStateDebounced:de,copyToLocalStorage:S,bindEventsToDuplicatedActiveGroup:w,scaleAndPlaceFabricObject:j,addNewObjectAndSave:pe,setArtboard:T,keyCombinations:ye,move:E,bindKeyboardMovementEvents:C,cutToLocalStorage:k,pasteFromLocalStorage:x,putObjectsOnDesign:P,bindCut:_,bindCopy:I,setComposedFilter:N,removeComposedFilter:M,getFilterValue:A,setFilterValue:R,setOverlay:D,disableCacheRecursively:L}},,,,,,function(e,t,n){"use strict";function r(e){return!!e.some(function(e){return e.height>0&&e.width>0})}function o(e,t){if(e&&0===e.length)return{};var n=e[0],r=Array.isArray(t)?d()(n,t):n[t],o=!1;if(1===e.length&&"editorTextBox"===n.type&&-1!==p.a.prototype._styleProperties.indexOf(t)){var a=Object(h.a)(),i=a.getObjects().find(function(e){return n.id===e.id});if(i){var c=0,u=i._text.length;i.isEditing&&(i.selectionStart!==i.selectionEnd?(c=i.selectionStart,u=i.selectionEnd):(c=0===i.selectionStart?0:i.selectionStart-1,u=0===i.selectionEnd?1:i.selectionEnd));var l=i.getSelectionStyles(c,u),s=i[t];r=t in(l[0]||{})?l[0][t]:i[t],o=l.some(function(e){var n=t in e?e[t]:s;return"strokeDashArray"===t&&n instanceof Array?n[0]!==r[0]||n[1]!==r[1]:n!==r})}}return e.length>1&&(o=e.some(function(e){var n=e[t];return"strokeDashArray"===t&&n instanceof Array&&r instanceof Array?n[0]!==r[0]||n[1]!==r[1]:n!==r})),"string"!=typeof r||"true"!==r&&"false"!==r||(r="true"===r),{conflict:o,value:r}}function a(e,t,n){var r=o([e],t);return!r.conflict&&r.value===n}function i(){var e=Object(h.a)(),t=e.getActiveObject();return t?t.getSelectionStyles(t.selectionStart,t.selectionEnd):[]}function c(e){return e===m.a?1:new b.fabric.Color(e).getAlpha()}function u(e){var t=l.default.evaluate(g.b),n=t.find(function(t){return t.get("name")===e});return n?n.get("variants",["regular"]):[]}var l=n(1),s=n(33),f=n(21),d=n.n(f),p=n(283),h=n(6),b=n(8),m=n(115),g=n(277),v=n(22),y=n(457),O=n(17);n.d(t,"d",function(){return w}),n.d(t,"c",function(){return j}),n.d(t,"e",function(){return E}),n.d(t,"I",function(){return C}),n.d(t,"O",function(){return P}),n.d(t,"F",function(){return _}),n.d(t,"G",function(){return I}),n.d(t,"V",function(){return M}),n.d(t,"J",function(){return R}),n.d(t,"H",function(){return L}),n.d(t,"b",function(){return B}),n.d(t,"a",function(){return F}),n.d(t,"N",function(){return z}),n.d(t,"g",function(){return H}),n.d(t,"U",function(){return W}),n.d(t,"f",function(){return K}),n.d(t,"i",function(){return $}),n.d(t,"h",function(){return Q}),n.d(t,"k",function(){return te}),n.d(t,"j",function(){return ne}),n.d(t,"s",function(){return oe}),n.d(t,"r",function(){return ae}),n.d(t,"v",function(){return ce}),n.d(t,"u",function(){return ue}),n.d(t,"t",function(){return se}),n.d(t,"y",function(){return pe}),n.d(t,"x",function(){return me}),n.d(t,"w",function(){return ge}),n.d(t,"K",function(){return ye}),n.d(t,"M",function(){return we}),n.d(t,"L",function(){return je}),n.d(t,"D",function(){return Ee}),n.d(t,"z",function(){return Ce}),n.d(t,"B",function(){return xe}),n.d(t,"A",function(){return Pe}),n.d(t,"C",function(){return _e}),n.d(t,"n",function(){return Ie}),n.d(t,"o",function(){return Ne}),n.d(t,"p",function(){return Me}),n.d(t,"q",function(){return Ae}),n.d(t,"m",function(){return Re}),n.d(t,"P",function(){return De}),n.d(t,"R",function(){return Le}),n.d(t,"T",function(){return Ge}),n.d(t,"Q",function(){return ze}),n.d(t,"S",function(){return Ue}),n.d(t,"l",function(){return We});var S=["path","polygon","polyline","ellipse","circle","rect","line","triangle"],w=Object(s.a)(O.C.concat("textSelectionStart")),j=Object(s.a)(O.C.concat("textSelectionEnd")),T=Object(s.a)(w,j,function(e,t){return"".concat(e).concat(t)}),E=Object(s.a)(O.p,function(e){return e.length}),C=Object(s.a)(O.G,function(e){return e.length}),k=Object(s.a)(O.G,function(e){return e.some(function(e){return"userImage"===e.type})}),x=Object(s.a)(O.G,function(e){return e.some(function(e){return"editorImage"===e.type})}),P=Object(s.a)(k,x,function(e,t){return e||t}),_=Object(s.a)(O.G,function(e){return e.some(function(e){return"editorPath"===e.type})}),I=Object(s.a)(O.G,function(e){return e.some(function(e){return"editorTextBox"===e.type})}),N=Object(s.a)(O.G,function(e){return e.every(function(e){return"editorTextBox"===e.type})}),M=Object(s.a)(O.G,function(e){return e.length<2?null:e.reduce(function(e,t,n){return 0===n?t.type:t.type===e?e:null},null)}),A=Object(s.a)(O.G,function(e){return e.some(function(e){return-1!==S.indexOf(e.type)})}),R=Object(s.a)(O.b,function(e){return e.type}),D=Object(s.a)(O.b,function(e){return e.isLocked}),L=Object(s.a)(O.b,function(e){return e.isCropping}),G=Object(s.a)(O.b,function(e){return e.isInPerspectiveMode}),B=Object(s.a)(L,G,function(e,t){return e||t||!1}),F=Object(s.a)(O.N,function(e){return e.isLocked}),z=Object(s.a)(O.N,function(e){return"group"===e.type}),U=Object(s.a)(O.N,function(e){return e.textAlign}),H=Object(s.a)(O.N,function(e){return e.charSpacing}),W=Object(s.a)(O.N,function(e){return e.lineHeight}),V=Object(s.a)(O.N,function(e){return e.type}),K=Object(s.a)(O.G,function(e){return r(e)}),X=Object(s.a)(T,O.N,function(e,t){return y.b(t,e)}),Y=Object(s.a)(T,O.N,function(e,t){return y.c(t,e)}),q=Object(s.a)(T,O.N,function(e,t){return y.d(t,e)}),Z=Object(s.a)(T,O.N,function(e,t){return y.e(t,e)}),J=Object(s.a)(T,O.G,function(e,t){return o(t,"fill",e)}),$=Object(s.a)(J,function(e){return e.value}),Q=Object(s.a)(J,function(e){return e.conflict}),ee=Object(s.a)(T,O.G,function(e,t){return o(t,"nofill",e)}),te=Object(s.a)(ee,function(e){return e.value}),ne=Object(s.a)(ee,function(e){return e.conflict}),re=Object(s.a)(T,O.G,function(e,t){return o(t,"stroke",e)}),oe=Object(s.a)(re,function(e){return e.value}),ae=Object(s.a)(re,function(e){return e.conflict}),ie=Object(s.a)(T,O.G,function(e,t){return o(t,"strokeNofill",e)}),ce=Object(s.a)(ie,function(e){return e.value}),ue=Object(s.a)(ie,function(e){return e.conflict}),le=Object(s.a)(T,O.G,function(e,t){return o(t,"strokeDashArray",e)}),se=Object(s.a)(le,function(e){return e.value}),fe=Object(s.a)(le,function(e){return e.conflict}),de=Object(s.a)(T,O.G,function(e,t){return o(t,"strokeWidth",e)}),pe=Object(s.a)(de,function(e){return e.value}),he=Object(s.a)(de,function(e){return e.conflict}),be=Object(s.a)(T,O.G,function(e,t){return o(t,"strokeUniform",e)}),me=Object(s.a)(be,function(e){return!!e.value}),ge=Object(s.a)(be,function(e){return e.conflict}),ve=Object(s.a)(T,O.G,function(e,t){return o(t,"fontFamily",e)}),ye=Object(s.a)(ve,function(e){return e.value}),Oe=Object(s.a)(ve,function(e){return e.conflict}),Se=Object(s.a)(T,O.G,function(e,t){return o(t,"fontSize",e)}),we=Object(s.a)(Se,function(e){return Math.round(e.value)}),je=Object(s.a)(Se,function(e){return e.conflict}),Te=Object(s.a)(T,O.G,function(e,t){return o(t,"textBackgroundColor",e)}),Ee=Object(s.a)(Te,function(e){return e.value}),Ce=Object(s.a)(Te,function(e){return e.conflict}),ke=Object(s.a)(T,O.G,function(e,t){return o(t,"textBackgroundColorNofill",e)}),xe=Object(s.a)(ke,function(e){return e.value}),Pe=Object(s.a)(ke,function(e){return e.conflict}),_e=Object(s.a)(Ee,function(e){return c(e)}),Ie=Object(s.a)(O.N,function(e){return d()(e,["shadow","color"])}),Ne=Object(s.a)(O.N,function(e){return d()(e,["shadow","enabled"])}),Me=Object(s.a)(O.N,function(e){return d()(e,["shadow","offsetX"])}),Ae=Object(s.a)(O.N,function(e){return d()(e,["shadow","offsetY"])}),Re=Object(s.a)(O.N,function(e){return d()(e,["shadow","blur"])}),De=Object(s.a)(O.N,T,function(e,t){return a(e,"fontWeight","bold")}),Le=Object(s.a)(O.N,T,function(e,t){return a(e,"fontStyle","italic")}),Ge=Object(s.a)(O.N,T,function(e,t){return a(e,"underline",!0)}),Be=Object(s.a)(O.N,T,function(e,t){return a(e,"linethrough",!0)}),Fe=Object(s.a)(O.N,w,j,De,Le,function(e,t,n,r,o){var a,c,s=l.default.evaluate(v.h.variantItalic),f=l.default.evaluate(v.h.variantBold),d=l.default.evaluate(v.h.variantBoldItalic),p=e.fontFamily,h="italic"===e.fontStyle,b="bold"===e.fontWeight;if(t===n){var m=u(p);a=m.some(function(e){return o?e===d:e===f}),c=m.some(function(e){return r?e===d:e===s})}else{var g=i(),y=g.map(function(e){var t=u(e.fontFamily||p),n=e.fontStyle?"italic"===e.fontStyle:h,r=e.fontWeight?"bold"===e.fontWeight:b;return a=t.some(function(e){return n?e===d:e===f}),c=t.some(function(e){return r?e===d:e===s}),{boldAvailable:a,italicAvailable:c}});a=y.every(function(e){return e.boldAvailable}),c=y.every(function(e){return e.italicAvailable})}return{boldAvailable:a,italicAvailable:c}}),ze=Object(s.a)(Fe,function(e){return e.boldAvailable}),Ue=Object(s.a)(Fe,function(e){return e.italicAvailable}),He=Object(s.a)(O.p,function(e){return o(e,"opacity")}),We=Object(s.a)(He,function(e){return e.value}),Ve=Object(s.a)(He,function(e){return e.conflict});t.E={activeObjectTextSelectionStart:w,activeObjectTextSelectionEnd:j,textRefresher:T,activeObjectsLength:E,flattenedLength:C,userImageIsSelected:k,editorImageIsSelected:x,imageIsSelected:P,editorPathIsSelected:_,editorTextBoxIsSelected:I,onlyTextBoxesAreSelected:N,multiSelectType:M,otherIsSelected:A,flattenedObjectType:R,flattenedIsLocked:D,flattenedIsCropping:L,flattenedIsInPerspective:G,activeObjectIsInSpecialMode:B,activeIsLocked:F,groupIsSelected:z,textAlign:U,charSpacingValue:H,lineHeightValue:W,activeObjectType:V,canSetFillColor:K,indentLeftAvailable:X,indentRightAvailable:Y,isBulletActive:q,isNumberActive:Z,currentFillColorValue:$,currentFillColorConflict:Q,currentNofillValue:te,currentNofillConflict:ne,currentStrokeColorValue:oe,currentStrokeColorConflict:ae,currentStrokeNofillValue:ce,currentStrokeNofillConflict:ue,currentStrokeDashArrayValue:se,currentStrokeDashArrayConflict:fe,currentStrokeWidthValue:pe,currentStrokeWidthConflict:he,currentStrokeUniformValue:me,currentStrokeUniformConflict:ge,fontFamily:ve,fontFamilyValue:ye,fontFamilyConflict:Oe,fontSize:Se,fontSizeValue:we,fontSizeConflict:je,currentTextBgValue:Ee,currentTextBgConflict:Ce,currentTextBgNofillValue:xe,currentTextBgNofillConflict:Pe,currentTextBgOpacity:_e,currentShadowColorValue:Ie,currentShadowEnabledValue:Ne,currentShadowOffsetXValue:Me,currentShadowOffsetYValue:Ae,currentShadowBlurValue:Re,isBold:De,isItalic:Le,isUnderline:Ge,isStrikeThrough:Be,isBoldAvailable:ze,isItalicAvailable:Ue,currentOpacityValue:We,currentOpacityConflict:Ve}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(21),o=n.n(r),a={isLoggedIn:function(){return!!o()(window,["identity","guid"])},clearLoginData:function(){delete o()(window,["identity"]).guid}}},function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){function i(e){r(u,o,a,i,c,"next",e)}function c(e){r(u,o,a,i,c,"throw",e)}var u=e.apply(t,n);i(void 0)})}}function a(e){var t=m.default.evaluate(j.a),n=m.default.evaluate(j.c),r=m.default.evaluate(j.b),o=t&&!n?S.k(r,t.get("title")):S.i(Object(v.b)("template-modal.untitled_design"));return e&&(m.default.dispatch(_.G,"searchProgress"),o=o.then(function(){return m.default.dispatch(_.G,"")}).catch(function(e){throw m.default.dispatch(_.G,""),e})),o}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.showLoader,n=void 0!==t&&t;if(!y.a.isLoggedIn())return Promise.resolve();var r=a(n);return c(),r}function c(){m.default.dispatch(w.a),m.default.evaluate(j.o)&&m.default.dispatch(w.r,!1)}function u(){return m.default.evaluate(I.B.tourIsPlaying)}function l(){return s.apply(this,arguments)}function s(){return s=o(regeneratorRuntime.mark(function e(){var t,n,r,o,i,c,u,l,s,f,d=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.length>0&&void 0!==d[0]?d[0]:{},n=t.timeout,r=void 0===n?M.timeout:n,y.a.isLoggedIn()&&!k.b.isEnabled("embed")&&k.b.isEnabled("autoSave")&&S.d()){e.next=3;break}return e.abrupt("return");case 3:return m.default.evaluate(j.g)||m.default.dispatch(w.p,!0),o=m.default.evaluate(j.o),o&&m.default.dispatch(w.a),m.default.dispatch(w.r,!0),i=Object(g.t)(r),m.default.dispatch(w.q,i),e.prev=9,e.next=12,i;case 12:e.next=17;break;case 14:return e.prev=14,e.t0=e.catch(9),e.abrupt("return");case 17:if(c=!1,u=Object(O.a)(),l=u.getActiveObject(),l&&(l.isCropping||l.isInPerspectiveMode)&&(c=!0),s=m.default.evaluate(j.o),f=m.default.evaluate(I.B.hasUnsavedChanges),s&&f&&!c){e.next=26;break}return m.default.dispatch(w.r,!1),e.abrupt("return");case 26:return e.prev=26,e.next=29,a();case 29:return e.prev=29,m.default.dispatch(w.r,!1),e.finish(29);case 32:case"end":return e.stop()}},e,null,[[9,14],[26,,29,32]])})),s.apply(this,arguments)}function f(e){var t=m.default.evaluate(I.B.fabricActiveIds);if(!C()(t,e))return m.default.dispatch(_.r,{ownerId:P.a,selected:e,pageId:m.default.evaluate(T.d)})}function d(e){e.pageId=m.default.evaluate(T.d),l(),m.default.dispatch(_.q,e),N.a()}function p(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.pageId=m.default.evaluate(T.d),e.selected&&(e.selected=[e.fabricObject.id]),e.updateTimeStamp&&t&&m.default.evaluate(I.B.ready)?(l(),m.default.dispatch(_.o,e),Promise.resolve()):m.default.dispatch(_.o,e)}function h(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.pageId=m.default.evaluate(T.d),e.updateTimeStamp&&t&&m.default.evaluate(I.B.ready)?(l(),m.default.dispatch(_.m,e),Promise.resolve()):m.default.dispatch(_.m,e)}function b(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=m.default.evaluate(I.B.fabricActivePage),o=r.get("data"),a=+new Date,i=r.get("selected")||[],c=e.selected,u=!C()(i,c);if(!C()(o,e.data)){t&&n&&m.default.evaluate(I.B.ready)&&l();var s=m.default.evaluate(T.d);e.id=s;var d={fabric:e,pageId:s};return t&&(d.fabricTimeStamp=a),m.default.dispatch(_.n,d)}return u?f(c):t?m.default.dispatch(_.M,{loadedTimeStamp:a}):void 0}Object.defineProperty(t,"__esModule",{value:!0}),t.flushAutoSave=i,t.cancelAutoSave=c,t.isInTour=u,t.autoSave=l,t.setFabricDataSelected=f,t.setFabricObjectsData=d,t.setFabricObject=p,t.setFabricArtboard=h,t.setFabricData=b,n.d(t,"setPrintResolution",function(){return A}),n.d(t,"setDPIMode",function(){return R}),n.d(t,"setRulerUnits",function(){return D}),n.d(t,"ftueActions",function(){return L}),n.d(t,"setEntryPoint",function(){return G});var m=n(1),g=n(18),v=n(2),y=n(64),O=n(6),S=n(90),w=n(210),j=n(30),T=n(14),E=n(174),C=n.n(E),k=n(15),x=n(29),P=(n.n(x),n(660)),_=n(19),I=n(17),N=n(479),M=x.client.autoSave,A=function(e,t){m.default.dispatch(_.E,{units:e,dotsPerUnit:t})},R=function(e){m.default.dispatch(_.E,{dpiMode:e})},D=function(e){m.default.dispatch(_.F,{units:e})},L={startTour:function(){m.default.dispatch(_.J)},endTour:function(){m.default.dispatch(_.l)}},G=function(e){return m.default.dispatch(_.B,e)};t.default={flushAutoSave:i,cancelAutoSave:c,isInTour:u,autoSave:l,setFabricDataSelected:f,setFabricObjectsData:d,setFabricObject:p,setFabricArtboard:h,setFabricData:b,setPrintResolution:A,setDPIMode:R,setRulerUnits:D,ftueActions:L,setEntryPoint:G}},,function(e,t,n){"use strict";var r=n(8),o=(n.n(r),n(95)),a=r.fabric.util.createClass(o.a,{type:"ColorMatrixFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    varying vec2 vTexCoord;\n    uniform mat4 uColorMatrix;\n    uniform vec4 uConstants;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      color *= uColorMatrix;\n      color += uConstants;\n      gl_FragColor = color;\n    }",matrix:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],constants:[0,0,0,0],applyTo2d:function(e){for(var t,n,r,o,a=e.imageData,i=a.data,c=i.length,u=this.matrix,l=this.constants,s=0;s<c;s+=4)t=i[s],n=i[s+1],r=i[s+2],o=i[s+3],i[s]=t*u[0]+n*u[1]+r*u[2]+o*u[3]+255*l[0],i[s+1]=t*u[4]+n*u[5]+r*u[6]+o*u[7]+255*l[1],i[s+2]=t*u[8]+n*u[9]+r*u[10]+o*u[11]+255*l[2],i[s+3]=t*u[12]+n*u[13]+r*u[14]+o*u[15]+255*l[3]},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){e.uniformMatrix4fv(t.uColorMatrix,!1,this.matrix),e.uniform4fv(t.uConstants,this.constants)},toObject:function(){return r.fabric.util.object.extend(this.callSuper("toObject"),{matrix:this.matrix.slice(0),constants:this.constants.slice(0)})}});a.fromObject=r.fabric.Image.filters.EnhancedFilter.fromObject,r.fabric.Image.filters||(r.fabric.Image.filters={}),r.fabric.Image.filters.ColorMatrixFilter=a,t.a=a},function(e,t,n){"use strict";e.exports={action:{done:"Done",download:"Download",remove_watermark:"Remove watermark",exit:"Exit",hover:{exit_to_tooltip:"Exit to Shutterstock"},login:"Have an account? Sign in",separator:"or",signup:"Create your free account",save:"Save"},image:{dimensions_pixels:"__WIDTH__ x __HEIGHT__ px",dimensions_inches:"__WIDTH__ x __HEIGHT__ in",dimensions_centimeters:"__WIDTH__ x __HEIGHT__ cm",units:{px_abbrev:"px",in_abbrev:"in",cm_abbrev:"cm",px:"pixels",in:"inches",cm:"centimeters"}},design:{status:{saving:"Saving...","save-title":"Save design"}},"image-meta":{by:"By: __NAME__","stock-vector-id":"Stock vector ID","stock-photo-id":"Stock photo ID"},modal:{agreetos:"I agree to the Terms of Service",editorialuse:'By checking this box, I acknowledge that this image is approved for "Editorial Use Only," and that additional permissions may be required for commercial use.',editorialusehidden:'I understand that Shutterstock does not provide such permissions. I confirm that I have read the <a href="__LINK__" target="_blank">Terms of Service</a> of the license I have purchased and that I understand all of the permitted and prohibited uses of the content I download from Shutterstock.',learnmore:"Show more",understand:"I understand...",showmore:"Show more",showless:"Show less",toschange:'We recently improved our <a href="__LINK__" target="_blank" className="underline-only">Terms of Service</a> for your benefit.'},designs:{untitled_design:"Untitled design"},menu:{file:"File",help:"Help"},"social-sharing":{email:{heading:"SHARE VIA EMAIL",heading1:"Share via email","placeholder-email":"Enter email address...","placeholder-message":"Enter a message...","placeholder-message-new":"Write a comment","placeholder-message-optional":"optional",send:"Send","sent-to":"Sent to","sent-to-new":"Sent!","error-new":"Please enter a valid email address.","error-new-email-number":"Please limit the number of emails to 20.",step1:"Sending",success:"Share successful",metered:"Please wait before trying again"},publish:{"copy-btn-before":"Copy link","prompt-heading-share":"Share a public link","save-prompt":"Please save your design before sharing.","save-prompt-after":"Design name","share-link-info":"Anyone with this link can view this design."}},"template-modal":{"save-placeholder":"Enter design name"},print:{units:"dpi",target_web:"Web",target_print:"Print",target_custom:"Custom",target_safe:"Max at __SIZE__ __UNIT__"},about_page:{keywords:"Keywords",similar_templates:"Similar Templates",similar_images:"Similar Images",seo_text_1:'Use the Shutterstock Editor, a free online image editing program, with the image titled, "__DESCRIPTION__", to generate unique visuals for your business and marketing needs.',seo_text_2_1:"Create simple and robust visuals utilizing your own imagery or pick from the millions of available vectors, photographs, and illustrations in the Shutterstock library.",seo_text_2_2:'Create simple and robust visuals utilizing your own imagery or pick from the millions of available vectors, photographs, and illustrations in the <a href="/search?category=__CAT1__">__CAT1__</a> category.',seo_text_2_3:'Create simple and robust visuals utilizing your own imagery or pick from the millions of available vectors, photographs, and illustrations in the <a href="/search?category=__CAT1__">__CAT1__</a> and <a href="/search?category=__CAT2__">__CAT2__</a> category.',seo_text_2_4:'Create simple and robust visuals utilizing your own imagery or pick from the millions of available vectors, photographs, and illustrations in the <a href="/search?category=__CAT1__">__CAT1__</a>, <a href="/search?category=__CAT2__">__CAT2__</a>, and <a href="/search?category=__CAT3__">__CAT3__</a> category.',seo_text_3:"Editor also has a number of useful templates, preset sizes and styles available for your to take full advantage of immediately in the editing software.",seo_text_4_1:"Not pleased with the current vector?",seo_text_4_2:"Not pleased with the current photo?",seo_text_5:"Find similar stock images and design templates that you can edit right from the vast royalty-free image library on Shutterstock, and create your masterpiece right here, right now.",seo_text_6_1:'Interested in exploring more related topics or searches to design a layout or create visuals from any of the social media, presentation, or design themes? Try some of the following keywords related to the vector titled, "__DESCRIPTION__":',seo_text_6_2:'Interested in exploring more related topics or searches to design a layout or create visuals from any of the social media, presentation, or design themes? Try some of the following keywords related to the photo titled, "__DESCRIPTION__":',seo_text_7_1:'Looking for additional inspiration or help? Try our <a href="/blog/editor">blog</a> or <a href="/support">support center on Shutterstock.com</a>. Learn more about the features provided in <a href="/editor/">Shutterstock Editor\'s free online design tool</a>.',palette_title_0:"__NAME__ Color Palette",palette_title_1:"Vibrant __NAME__ Color Palette",palette_title_2:"Grey __NAME__ Color Palette",palette_title_3:"Light __NAME__ Color Palette",palette_title_4:"Rich Bright __NAME__ Color Palette",palette_title_5:"Rich Dark __NAME__ Color Palette",palette_title_6:"Muted Bright __NAME__ Color Palette",palette_title_7:"Muted Dark __NAME__ Color Palette",palette_title_8:"Muted __NAME__ Color Palette",palette_title_9:"Dark __NAME__ Color Palette",palette_title_10:"Rich __NAME__ Color Palette",palette_title_11:"Bright __NAME__ Color Palette",suggested_palettes:"Suggested Palettes"},"save-on-cloud":"Or, save your design",panel:{basic:"Basic"},header:{professional:"Professional",upgrade:"Upgrade",upgrade_tooltip2:"For unlimited access to Shutterstock Editor Pro features, upgrade now!",learn_more:"Learn More"},"pro-is":"pro"}},,function(e,t,n){"use strict";function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){return E.a.clearLoginData(),o().then(function(){return e.apply(void 0,n)})}}function o(e,t){return E.a.isLoggedIn()?Promise.resolve():G.showDismissibleLoginModal(e,t)}function a(){return new Promise(function(e){M.a.showModal({modal:"LoginModal",callback:e})})}function i(){return Object(I.a)({type:"GET",url:"/editor/analyticsData",contentType:"application/json",dataType:"json"}).then(function(e){b.a.getLilSis().identify(e.user)})}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!R.length){var n={modal:"DismissibleLoginModal",iframeUrl:e,callback:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];R.forEach(function(e){return e.apply(void 0,t)}),R.length=0},onDismiss:function(){R.length=0}};M.a.showModal(j()(n,t))}return new Promise(function(e){R.push(e)})}function u(e,t,n,r){var o=g()(window,"editor.".concat(e));if(!o||r&&r(o)){var a;try{a=n()}catch(t){throw t.trackjsMeta=[{key:"property",value:e}],t}return a}if(!A){var i=t(o);if(i instanceof x.a||i instanceof Promise)return i}return Promise.resolve()}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.signup,n=void 0!==t&&t,r=e.isRealLogin,o=void 0!==r&&r;if(T.b.isEnabled("collab")&&!A){var a=g()(window,"identity"),c=a.guid,l=a.username,m=a.firstName,v=a.lastName;f.default.dispatch(s.UPDATE_USER_INFO,{guid:c,username:l,name:Object(P.a)(m,v)})}var O=[];return o&&(O.push(i()),Object(N.e)()),O.push(u("userSettings.presets",y.a,d.b.loadSettings)),O.push(u("UploadsPanel",p.e,p.d)),O.push(u("DesignsPanel",C.f,C.e,L)),O.push(u("Lightbox",y.a,S()(h.d,{metrics:!1}))),O.push(_.a.getInfo()),n&&b.b.track("potential signup"),Promise.all(O)}Object.defineProperty(t,"__esModule",{value:!0}),t.authRetry=r,t.ensureLoggedIn=o,t.showLoginModal=a,t.updateDataLayerFromLogin=i,t.showDismissibleLoginModal=c,t.loadIfNeeded=u,t.onLogin=l;var s=n(901),f=(n.n(s),n(1)),d=n(56),p=n(98),h=n(159),b=n(7),m=n(21),g=n.n(m),v=n(78),y=n.n(v),O=n(1401),S=n.n(O),w=n(77),j=n.n(w),T=n(15),E=n(64),C=n(90),k=n(157),x=n.n(k),P=n(966),_=n(919),I=n(43),N=n(542),M=n(48),A=E.a.isLoggedIn(),R=[],D=function(e){return 1===e.length&&e[0].isShared},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.designs;return!t||D(t)},G={showDismissibleLoginModal:c,showLoginModal:a};t.default=G},,,,,,function(e,t,n){"use strict";var r=n(8),o=(n.n(r),n(95)),a=n(67),i=n(150),c={EnhancedFilter:o.a,ColorMatrixFilter:a.a,GammaFilter:i.a},u=r.fabric.util.createClass(o.a,{type:"ComposedFilter",subFilters:[],name:"composed",initialize:function(e){this.callSuper("initialize",e)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach(function(t){t.applyTo(e)})},toObject:function(){return r.fabric.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(e){return e.toObject()}),name:this.name})}});u.fromObject=function(e,t){var n=e.subFilters||[],r=n.map(function(e){return new c[e.type](e)}),o=new u({subFilters:r,name:e.name});return t&&t(o),o},r.fabric.Image.filters||(r.fabric.Image.filters={}),r.fabric.Image.filters.ComposedFilter=u,t.a=u},,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o=c(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function u(e){Object(I.f)(Object.assign({id:"toast-alert",type:"toast",dismissable:!1,dismissAfter:H,position:{bottom:!0,left:!0}},e))}function l(e){var t=e.tracking,n=e.action,r=i(e,["tracking","action"]);u(o(o({},r),{},{message:k.a.createElement(A.a,{tracking:t,showAction:n,message:r.message,subTitle:r.subTitle}),className:"actionFlash",style:{},dismissable:!0,dismissAfter:null}))}function s(e){var t=e.tracking,n=e.action,r=i(e,["tracking","action"]);u(o(o({},r),{},{message:k.a.createElement(A.a,{tracking:t,showAction:n,message:r.message,subTitle:r.subTitle}),className:"actionFlash",style:{},dismissable:!0,dismissAfter:null}))}function f(e){var t=e.tracking,n=e.action,r=i(e,["tracking","action"]);u(o(o({},r),{},{message:k.a.createElement(A.a,{tracking:t,showAction:n,message:r.message,subTitle:r.subTitle}),className:"actionFlash",style:{},dismissable:!0,dismissAfter:null}))}function d(e){Object(I.e)(Object.assign({id:"image-max-count",type:"info",dismissAfter:H,message:U("search.max-images-full",{IMAGE_LIMIT:x.default.evaluate(P.h.imageObjectLimit)})},e))}function p(e){var t=e.fileTitle,n=i(e,["fileTitle"]);Object(I.e)(Object.assign({id:"image-low-quality",type:"info",dismissAfter:H,message:U("upload.image-low-quality",{FILENAME:t})},n))}function h(e){Object(I.e)(Object.assign({id:"error-file-size",type:"info",dismissAfter:H,dismissable:!0,message:U("upload.error-message.file-size",{FILESIZE_LIMIT:_.client.upload.maxFileSizeInMB})},e))}function b(e){Object(I.e)(Object.assign({id:"error-file-type",type:"info",dismissAfter:H,dismissable:!0,message:U("upload.error-message.file-type")},e))}function m(e){Object(I.e)(Object.assign({id:"error-upload-limit",type:"info",dismissAfter:H,dismissable:!0,message:U("upload.error-message.limit",{MAX_UPLOADS:_.client.upload.maxAllowedUploads})},e))}function g(e){Object(I.e)(Object.assign({id:"error-upload-limit",type:"info",dismissAfter:null,dismissable:!0,onMessageClick:R.g,message:U("upload.error-message.failed")},e))}function v(e){Object(I.e)(Object.assign({id:"delete-designs",type:"info",dismissAfter:H,dismissable:!0,message:U("flash-message.design-deleted")},e))}function y(e){Object(I.e)(Object.assign({id:"copy-designs",type:"info",dismissAfter:H,dismissable:!0,onMessageClick:D.c,message:U("flash-message.design-copied")},e))}function O(e){Object(I.e)(Object.assign({id:"ie11-intel-driver",type:"error",dismissAfter:0,dismissable:!1,message:U("flash-message.ie11-intel-driver-problem")},e))}function S(e){Object(I.e)(Object.assign({id:"fit-to-canvas",type:"info",dismissAfter:H,dismissable:!0,message:U("flash-message.fit-canvas",{WIDTH:e.width,HEIGHT:e.height})},e))}function w(e){Object(I.e)(Object.assign({id:"delete-upload",type:"info",dismissAfter:H,dismissable:!0,message:U("flash-message.delete-upload")},e))}function j(e,t){Object(I.e)(Object.assign({id:"licenseable-vector",type:"info",dismissAfter:H,dismissable:!0,onMessageClick:function(){Object(N.g)("search")},message:U("flash-message.not-licensable-vector")},t))}function T(e){var t=x.default.evaluate(P.h.maxPages);Object(I.e)(Object.assign({id:"max-pagess",type:"info",dismissAfter:H,message:U("action.page.no-more-page_plural",{count:t,MAXPAGEAMOUNT:t})},e))}function E(e){Object(I.e)(Object.assign({id:"rejected-svg-features",type:"info",dismissAfter:H,message:U("flash-message.rejected-svg-features")},e))}t.s=u,t.l=l,t.r=s,t.a=f,t.m=d,t.n=p,t.b=h,t.c=b,t.e=m,t.d=g,t.g=v,t.f=y,t.j=O,t.i=S,t.h=w,t.q=j,t.o=T,t.k=E,n.d(t,"p",function(){return W});var C=n(0),k=n.n(C),x=n(1),P=n(22),_=n(29),I=(n.n(_),n(154)),N=n(16),M=n(7),A=n(803),R=n(98),D=n(161),L=n(2),G=n(678),B=n.n(G),F=n(166),z=n.n(F),U=Object(L.c)(B.a),H=5e3,W=z()(function(e){M.b.track("user missing design font"),Object(I.e)(Object.assign({id:"missing-fonts",type:"info",dismissAfter:H,message:U("flash-message.missing-fonts")},e))},100)},function(e,t,n){"use strict";function r(){var e=Object(c.a)(),t=e._objects.reduce(function(e,t){if(t instanceof u.a)for(var n=0;n<f;++n){var r=s[n];t[r]&&(t[r]=!1,e.push(t))}return e},[]),n=t.length;n&&(e.fire("setData",1===n?{target:t[0]}:{}),Object(l.h)("ObjectToolbarPanel"))}function o(e){if("function"!=typeof e)throw new Error("need to pass function into decorateWithLeaveEditMode instead passed:",e);return function(){r();for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e.call.apply(e,[this].concat(n))}}function a(e){var t=Object(c.a)();if(t.gradientMode)return"isGradient";if(!(e=e||t.getActiveObject()))return null;for(var n=0;n<f;++n){var r=s[n];if(e[r])return r}return null}function i(e){for(var t=0;t<f;t++)delete e[s[t]]}t.b=r,t.a=o,t.c=a,t.d=i;var c=n(6),u=n(371),l=n(16),s=["isInPerspectiveMode","isCropping"],f=s.length},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var i=n(0),c=n.n(i),u=n(4),l=n.n(u),s=n(858),f=n.n(s),d=n(552),p={xxl:"h1",xl:"h2",l:"h3",m:"h4",s:"h5",xs:"h6"},h=function(e){var t=e.size,n=void 0===t?"m":t,a=e.color,i=void 0===a?"primary":a,u=e.className,s=e.palette,h=e.weight,b=void 0===h?"normal":h,m=o(e,["size","color","className","palette","weight"]),g=Object(d.c)({color:i,palette:s,weight:b});return c.a.createElement(f.a,r({},m,{className:l()(u,g.sstkTextColor),variant:p[n]}))};t.a=h},,,,,,function(e,t,n){"use strict";function r(e,t){var n=e.naturalWidth||e.width,r=e.naturalHeight||e.height;return Math.max(t.width/n,t.height/r)}function o(e,t){var n=e.naturalWidth||e.width,r=e.naturalHeight||e.height;return Math.min(t.width/n,t.height/r)}function a(e,t){var n=o(e,t);return{width:Math.min(t.width,Math.round(e.width*n)),height:Math.min(t.height,Math.round(e.height*n))}}t.b=r,t.c=o,t.a=a},function(e,t,n){"use strict";var r=n(44);t.a={setItem:function(e,t){try{return window.localStorage.setItem(e,t)}catch(e){r.a.noticeError(e)}},getItem:function(e){try{return window.localStorage.getItem(e)}catch(e){r.a.noticeError(e)}}}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(0),g=n.n(m),v=n(7);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{onClick:"clickTrack"};return function(t){var n,r;return r=n=function(n){function r(){var e,t;a(this,r);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return t=i.call.apply(i,[this].concat(o)),b(d(t),"onDisabledClick",(e=t).onDisabledClick.bind(e)),t}u(r,n);var i=s(r);return c(r,[{key:"eventHandlerGenerator",value:function(n){var r=this.props[n]||t.defaultProps&&t.defaultProps[n],o=this.props[e[n]];return o?function(){v.a.click(o),r&&r.apply(void 0,arguments)}:r}},{key:"onDisabledClick",value:function(){var t=e.onClick,n=this.props[t];n&&v.a.click(n,{},!0)}},{key:"render",value:function(){var n=this,r={};return Object.keys(e).forEach(function(e){r[e]=n.eventHandlerGenerator(e)}),g.a.createElement(t,o({},this.props,r,{onDisabledClick:this.onDisabledClick}))}}]),r}(m.PureComponent),b(n,"BaseComponent",t),b(n,"displayName",t.displayName||"cmpAnalyticsClickable"),r}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(u,r,o,a,c,"next",e)}function c(e){i(u,r,o,a,c,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function u(e){return U.default.evaluate(H.B.fabricPageOpacity(e))<1?"image/png":"image/jpeg"}function l(e){return e.getIn(["state","doc","fabric","pages",0,"data","backgroundImage","opacity"],1)<1?"image/png":"image/jpeg"}function s(){return U.default.evaluate(H.B.flattenedFabricObjects).length>1||-1!==U.default.evaluate(V.b)}function f(e,t){var n=e.toJS();n.state.doc.fabric.pages.forEach(function(e){e.data=Object(oe.a)(e.data)}),n.state.pages.forEach(function(e,t){e.active=0===t});var r={thumbnail:t,"data[attributes][design_schema_version]":String(e.get("version")),"data[attributes][design_type]":"shutterstock_editor","data[attributes][serialized_state]":JSON.stringify(n),"data[attributes][title]":e.get("title"),"data[type]":"designs"};return e.get("id")&&(r["data[id]"]=e.get("id")),r}function d(e){return p.apply(this,arguments)}function p(){return p=c(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(t.map(function(e,t){return 0===t?Promise.resolve(""):z.b(e.get("id"),N.client.designThumbSize,"image/jpeg",.92)})));case 1:case"end":return e.stop()}},e)})),p.apply(this,arguments)}function h(){return b.apply(this,arguments)}function b(){return b=c(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i,l,s,p,h,b,m,g,v,y,O,S,w,j=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=j.length>0&&void 0!==j[0]?j[0]:"",n=!(j.length>1&&void 0!==j[1])||j[1],U.default.dispatch(ae.b),r=A.a.generate(),o=U.default.evaluate(H.B.fabricTimeStamp),a=U.default.evaluate(W.k.pages).get(0),i=Object(Z.c)(t),e.next=9,d(i.getIn(["state","pages"]));case 9:return l=e.sent,i=i.updateIn(["state","pages"],function(e){return e.map(function(e,t){return e.set("thumbnail",l[t])})}),p=u(a.get("id")),e.prev=12,e.next=15,z.b(a.get("id"),N.client.designThumbSize,p,.92);case 15:s=e.sent,e.next=23;break;case 18:throw e.prev=18,e.t0=e.catch(12),h=e.t0?e.t0.message:"",$.a.noticeError("getThumbnail error while saving design: ".concat(h)),e.t0;case 23:e.prev=23,b=f(i,s),e.next=32;break;case 27:throw e.prev=27,e.t1=e.catch(23),m=e.t1?e.t1.message:"",$.a.noticeError("designRequest error while saving design: ".concat(m)),e.t1;case 32:if(g=Date.now(),b.thumbnail=X.a.convert(b.thumbnail),v=function(){var e=c(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(R.a)({method:"POST",route:"".concat(Object(L.g)(),"?include=assets&timestamp=").concat(g)},b,{savedTimeStamp:o,tempId:r}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),n){e.next=48;break}return e.prev=36,e.next=39,v();case 39:return y=e.sent,e.abrupt("return",{height:a.get("height"),width:a.get("width"),id:y.id,title:y.attributes.title,tempId:y.tempId,thumbnail:y.links.thumbnail_250_px,share_code:y.attributes.share_code,savedTimeStamp:y.savedTimeStamp});case 43:throw e.prev=43,e.t2=e.catch(36),e.t2.message="saveRequest failed while saving design ".concat(e.t2.message),$.a.noticeError(e.t2),e.t2;case 48:return e.prev=48,O=v(),U.default.dispatch(ae.l,{tempId:r,thumbnail:s,state:i.get("state")}),e.next=53,O;case 53:return S=e.sent,S.width=a.get("width"),S.height=a.get("height"),w={height:S.height,width:S.width,id:S.id,title:S.attributes.title,tempId:S.tempId,thumbnail:S.links.thumbnail_250_px,share_code:S.attributes.share_code,savedTimeStamp:S.savedTimeStamp},U.default.dispatch(ae.n,w),e.abrupt("return",w);case 61:if(e.prev=61,e.t3=e.catch(48),!e.t3.aborted){e.next=65;break}return e.abrupt("return",U.default.dispatch(ae.m));case 65:throw e.t3.message="saveRequest failed while saving design ".concat(e.t3.message),$.a.noticeError(e.t3),U.default.dispatch(ae.o),e.t3;case 69:case"end":return e.stop()}},e,null,[[12,18],[23,27],[36,43],[48,61]])})),b.apply(this,arguments)}function m(e){return g.apply(this,arguments)}function g(){return g=c(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,s,d,p,h,b,m=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=m.length>1&&void 0!==m[1]?m[1]:"",U.default.dispatch(ae.b),r=document.querySelector(Object(L.i)(".active-image-container img")),o=+new Date,e.prev=4,e.next=7,w(t);case 7:return a=e.sent,i=Object(I.fromJS)(a),c=A.a.generate(),u=document.createElement("canvas"),u.width=r.naturalWidth,u.height=r.naturalHeight,u.getContext("2d").drawImage(r,0,0,r.naturalWidth,r.naturalHeight),s=l(i),d=u.toDataURL(s,.7),U.default.dispatch(ae.c,{tempId:c,thumbnail:d}),p=f(i.set("title",n),d),p.thumbnail=X.a.convert(p.thumbnail),e.next=21,Object(R.a)({method:"POST",route:"".concat(Object(L.g)(),"?include=assets&timestamp=").concat(o)},p,{tempId:c});case 21:h=e.sent,delete h.relationships,delete h.links,b={included:h.included,id:h.id,title:h.attributes.title,tempId:h.tempId,totalPages:a.totalPages},U.default.dispatch(ae.d,b),Object(te.f)(),e.next=34;break;case 29:throw e.prev=29,e.t0=e.catch(4),e.t0.message&&(e.t0.message="Failed SaveLoadDesigns copy function: ".concat(e.t0.message),$.a.noticeError(e.t0)),Object(ee.showErrorModal)(),e.t0;case 34:case"end":return e.stop()}},e,null,[[4,29]])})),g.apply(this,arguments)}function v(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.applyPartial;return U.default.dispatch(ae.p,!1),r?y(e,t):O(e,t)}function y(e,t){var n=U.default.evaluate(V.i).find(function(t){return t.get("id")===e&&t.get("state")});return n?Object(Y.b)(n.toJS(),{applyPartial:!0}).then(function(){F.a.takeSnapshot()}).catch(le.receiveLoadError):le.fetchDesignFromId(e,t).then(function(e){return Object(Y.b)(e,{applyPartial:!0})}).catch(le.receiveLoadError)}function O(e,t){var n=U.default.evaluate(V.i).find(function(t){return t.get("id")===e&&t.get("state")});return n?S(n.toJS()):(U.default.dispatch(ae.i),U.default.dispatch(Q.G,"searchProgress"),le.fetchDesignFromId(e,t).then(function(e){return le.receiveLoadResponse(e)}).then(function(){return U.default.dispatch(Q.G,"")}).catch(le.receiveLoadError))}function S(e){var t=Date.now();return U.default.dispatch(ae.j,{loadedTimeStamp:t,design:e}),Object(Y.b)(e).then(function(){e.isShared&&!K.b.isEnabled("disable-share-flash-alert")&&ne.c.flashAlert({id:"shared design",type:"info",message:ie("flash-message.shared-design")}),F.a.resetUndoStack(),F.a.takeSnapshot()}).catch(le.receiveLoadError)}function w(e,t){return Object(G.a)({url:"".concat(Object(L.e)("design"),"/").concat(e),data:{share_code:t},dataType:"json"})}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyPartial,r=e;return B.b.track("loaded design",{id:r.id}),S(r,{applyPartial:n})}function T(e){return $.a.noticeError(e),U.default.dispatch(ae.k),U.default.dispatch(Q.G,null),Promise.reject(e)}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return U.default.dispatch(ae.f).then(function(){return Object(G.a)(o(o({},ce),{},{url:"".concat(Object(L.e)("designs"),"?page=").concat(e,"&perPage=").concat(t)}))}).then(C).catch(function(){U.default.dispatch(ae.h),Object(ee.showErrorModal)()})}function C(e){return U.default.dispatch(ae.g,e)}function k(e,t){return x.apply(this,arguments)}function x(){return x=c(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,c,l,s,d,p,h,b,m,g=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(g.length>2&&void 0!==g[2])||g[2],U.default.dispatch(ae.b),o=r&&U.default.evaluate(H.B.fabricTimeStamp),a=U.default.evaluate(W.k.pages).get(0),i=u(a.get("id")),l={designId:t,title:n},r&&(c=Object(Z.c)(n).merge({id:t}),l.state=c.get("state")),e.prev=7,!r){e.next=15;break}return e.next=11,z.b(a.get("id"),N.client.designThumbSize,i);case 11:d=e.sent,s=f(c,d),e.next=16;break;case 15:s={"data[id]":t,"data[attributes][title]":n,"data[attributes][design_type]":"shutterstock_editor","data[type]":"designs"};case 16:return r&&(s.thumbnail=X.a.convert(s.thumbnail)),p=Object(R.a)({method:"PATCH",route:"".concat(Object(L.g)(),"/").concat(t),queue:!0},s,{savedTimeStamp:o}),U.default.dispatch(ae.s,l),e.next=21,p;case 21:return h=e.sent,delete h.relationships,r&&(h.width=a.get("width"),h.height=a.get("height")),b={id:h.id,thumbnail:h.links.thumbnail_250_px,title:h.attributes.title,savedTimeStamp:h.savedTimeStamp},U.default.dispatch(ae.u,b),e.abrupt("return",b);case 29:if(e.prev=29,e.t0=e.catch(7),!e.t0.aborted){e.next=33;break}return e.abrupt("return",U.default.dispatch(ae.t));case 33:if(e.t0.message&&(m=new Error("Failed SaveLoadDesigns updateDesign function: ".concat(e.t0.message)),m.stack=e.t0.stack,$.a.noticeError(m)),!r){e.next=36;break}return e.abrupt("return",U.default.dispatch(ae.v));case 36:throw Object(ee.showErrorModal)(),e.t0;case 38:case"end":return e.stop()}},e,null,[[7,29]])})),x.apply(this,arguments)}function P(e){return _.apply(this,arguments)}function _(){return _=c(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return U.default.dispatch(ae.b),n="".concat(Object(L.e)("design"),"/").concat(t),U.default.dispatch(ae.e,t),e.prev=3,e.next=6,Object(G.a)({url:n,type:"DELETE"});case 6:Object(te.g)(),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(3),Object(ee.showErrorModal)(),e.t0;case 13:case"end":return e.stop()}},e,null,[[3,9]])})),_.apply(this,arguments)}t.d=s,t.i=h,n.d(t,"j",function(){return ue}),t.a=m,n.d(t,"g",function(){return se}),t.h=O,t.e=E,t.f=C,t.k=k,t.c=P;var I=n(12),N=(n.n(I),n(29)),M=(n.n(N),n(190)),A=n.n(M),R=n(671),D=n(106),L=n(18),G=n(43),B=n(7),F=n(39),z=n(334),U=n(1),H=n(17),W=n(14),V=n(30),K=n(15),X=n(352),Y=n(537),q=n(539),Z=n(785),J=n(80),$=n(44),Q=n(19),ee=n(130),te=n(79),ne=n(154),re=n(372),oe=n(925),ae=n(210),ie=re.a.t.bind(re.a),ce={method:"GET",dataType:"json",cache:!1};D.a&&(window.getDesign=function(){return Object(q.a)(F.a.getSnapshot(),Z.b).toJS()});var ue=function(e,t){var n=U.default.evaluate(V.a);return!n||n.get("isShared")?h(t):k(n.get("id"),t||n.get("title"))},le={fetchDesignFromId:w,receiveLoadResponse:j,receiveLoadError:T},se=Object(J.a)(v);t.b={getFileTypeForPage:u,getFileTypeForDesign:l,isComplexEnoughToSave:s,save:h,setDesignName:ue,copy:m,helpers:le,loadById:se,loadFullDesignById:O,loadAll:E,loadAllDesignsSuccess:C,updateDesign:k,deleteDesign:P}},,,,function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"e",function(){return c});var r=function(){return"undefined"!=typeof navigator&&/Trident/.test(navigator.userAgent)},o=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},a=function(){return/Firefox/.test(navigator.userAgent)},i=function(){return/Edge/.test(navigator.userAgent)},c=function(){return/Apple/.test(navigator.vendor)&&/Safari/.test(navigator.userAgent)}},function(e,t,n){"use strict";var r=n(8),o=(n.n(r),r.fabric.util.createClass({type:"EnhancedFilter",vertexSource:"attribute vec2 aPosition;\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n    void main() {\n      vTexCoord = aTexCoord;\n      gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n    }",fragmentSource:"precision highp float;\n    varying vec2 vTexCoord;\n    uniform sampler2D uTexture;\n    void main() {\n      gl_FragColor = texture2D(uTexture, vTexCoord);\n    }",initialize:function(e){e&&this.setOptions(e)},createProgram:function(e){if(this.vertexSource&&this.fragmentSource){var t=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(t,this.vertexSource),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))throw new Error('Vertex shader compile error for "'.concat(this.type,'": ')+e.getShaderInfoLog(t));var n=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(n,this.fragmentSource),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error('Fragment shader compile error for "'.concat(this.type,'": ')+e.getShaderInfoLog(n));var r=e.createProgram();if(e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw new Error('Shader link error for "'.concat(this.type,'" ')+e.getProgramInfoLog(r));return{program:r,attributeLocations:this.getAttributeLocations(e,r),uniformLocations:this.getUniformLocations(e,r)}}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition"),aTexCoord:e.getAttribLocation(t,"aTexCoord")}},getUniformLocations:function(){},sendAttributeData:function(e,t,n){["aPosition","aTexCoord"].forEach(function(r){var o=t[r],a=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,a),e.enableVertexAttribArray(o),e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)})},_setupFrameBuffer:function(e){var t=e.context;e.passes>1?t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e.targetTexture,0):t.bindFramebuffer(t.FRAMEBUFFER,null),t.finish(),e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context))},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyToWebGL:function(e){var t=e.context,n=e.programCache[this.type];0===e.pass&&e.originalTexture?t.bindTexture(t.TEXTURE_2D,e.originalTexture):t.bindTexture(t.TEXTURE_2D,e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.squareVertices),t.uniform1f(t.getUniformLocation(n.program,"uWidth"),e.sourceWidth),t.uniform1f(t.getUniformLocation(n.program,"uHeight"),e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.sourceWidth,e.sourceHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},setOptions:function(e){Object.assign(this,e)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},createHelpLayer:function(e){var t=document.createElement("canvas");return t.width=e.canvasEl.width,t.height=e.canvasEl.height,t},sendUniformData:function(){},toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}));o.fromObject=function(e,t){var n=new r.fabric.Image.filters[e.type](e);return t&&t(n),n},r.fabric.Image.filters||(r.fabric.Image.filters={}),r.fabric.Image.filters.EnhancedFilter=o,t.a=o},,function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}n.d(t,"a",function(){return d});var i=n(0),c=n.n(i),u=n(511),l=n(4),s=n.n(l),f=function(e){var t=e.className,n=o(e,["className"]);return c.a.createElement(u.a,r({className:s()("editor-primary-red-button",t)},n))},d=function(e){var t=e.className,n=o(e,["className"]);return c.a.createElement(u.a,r({className:s()("editor-primary-red-button","secondary",t)},n))};t.b=f},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return Promise.all(e.map(function(e){return new Promise(function(t){var n=Q()(e,["preview","link"],Q()(e,["links","thumbnail_250_px"]));Object(ee.a)(n).then(function(n){var r=n.width,o=n.height;e.height=o,e.width=r,e.preview=e.preview||{link:e.links.thumbnail_250_px},e.preview.width=r||100,e.preview.height=o||100,t(e)})})}))}function c(e){return i(e.map(function(e){return{loading:!0,tempId:e.tempId,link:"",preview:{fileName:e.fileName,fileTitle:e.fileName,link:Q()(e,"fileObj.preview",null)}}}))}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){f(c,r,o,a,i,"next",e)}function i(e){f(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function p(e,t){var n=function(){N.default.dispatch(J.d,{tempId:e}),t()};N.default.dispatch(J.j,{tempId:e,retryFunc:n})}function h(e){N.default.dispatch(J.b,e)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-update_time",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"assets";N.default.dispatch(J.h,e);var o=Object(P.e)("media");return Object(_.a)({url:o,data:{page:e,perPage:t,sort:n,include:r,balanceCount:N.default.evaluate(Z.a.balanceCount)},dataType:"json"}).then(re).catch(oe)}function m(e){return g.apply(this,arguments)}function g(){return g=d(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(Object(P.e)("media"),"/").concat(t),N.default.dispatch(J.a,t),e.prev=2,e.next=5,Object(_.a)({url:n,type:"DELETE",data:{media_id:t}});case 5:I.a.click("uploadPanel.deleteAsset"),Object(B.h)(),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(2),W.showErrorModal(),e.t0;case 13:case"end":return e.stop()}},e,null,[[2,9]])})),g.apply(this,arguments)}function v(e,t){return y.apply(this,arguments)}function y(){return y=d(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(Object(P.e)("media"),"/").concat(t),N.default.dispatch(J.k,l({id:t},n)),e.prev=2,e.next=5,Object(_.a)({url:r,type:"PUT",data:JSON.stringify(n),contentType:"application/json"});case 5:I.b.track("updated uploaded asset",l({id:t},n)),e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(2),W.showErrorModal(),e.t0;case 12:case"end":return e.stop()}},e,null,[[2,8]])})),y.apply(this,arguments)}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(void 0===e)return!1;var r=F.client.upload,o=r.maxFileSizeInMB,a=r.fileTypes,i=r.maxAllowedUploads,c=N.default.evaluate(Z.a.totalCount),u=1024*o*1024,l=e.type,s=e.size,f=e.name,d=e.lastModified;return s>u?(Object(B.b)(),I.b.track("Invalid File Upload",{reason:"fileSize",size:s}),Promise.resolve(!1)):c+t>i&&!G.b.isEnabled("embed")?(Object(B.e)(),I.b.track("Invalid File Upload",{reason:"uploadLimit"}),Promise.resolve(!1)):ie.isType(e).then(function(t){if(t&&t.mime&&a.indexOf(t.mime)<0){Object(B.c)();var r=f.split(".").pop();return I.b.track("Invalid File Upload",{reason:"fileType",type:l||r}),!1}if(t&&t.mime&&t.mime!==l){var o="".concat(f,".").concat(t.ext),i=new File([e],o,{type:t.mime,lastModified:d,size:s});n(i)}return!0})}function S(e,t,n){var r=function(e){return e&&"Error"===e.name||e instanceof Error?(Object(V.b)(e),W.showErrorModal()):I.a.click("uploadPanel.addImage",{type:"userImage"}),Promise.resolve()},o=N.default.evaluate(q.c.activePresetId),a=0===o,i=N.default.evaluate(Z.a.metadataByLink(e)),c={preview:i.getIn(["preview","link"],""),width:i.get("width"),height:i.get("height")};return 0===Object(Y.a)()._objects.length&&a?R.d(e,{metadata:c,fileTitle:n,changeDims:!0}).then(r).catch(r):z.b({url:e,position:t,fileTitle:n,metadata:c}).then(r).catch(r)}function w(e){N.default.dispatch(J.f,e)}function j(e,t){if(!e)return te.formatMediaPreviews(t).then(function(e){return N.default.dispatch(J.c,e)});var n=[].concat(e).map(function(e){return e.message}).join(", ");Object(V.b)("Upload Error Uploading Blob to Browser: ".concat(n||"(no message provided)"))}function T(e){var t,n=e.fileName.split(".").slice(-1)[0];t="png"===n?"png":"jpg"===n||"jpeg"===n?"jpg":"unknown",I.a.getLilSis().imageUploaded({fileType:t})}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e)p(t.tempId,n),ne(),Object(V.b)("Upload Error Upon Request, ".concat(t.status,": ").concat(t.res));else{var o=N.default.evaluate(Z.a.uploadCount);T(t),h(t);var a,i=N.default.evaluate(Z.a.position);if(i){a=Object(Y.a)().getPointer(i),(isNaN(a.x)||isNaN(a.y))&&(a=null)}r&&o<=1&&ie.addToCanvas(t.links.original,a,t.fileName),N.default.dispatch(J.e,null)}}function C(e,t){var n=t.links.thumbnail_250_px;return t.preview={link:n,fileTitle:t.attributes.title},Promise.all([te.getSingleImageDimensions(t.links.thumbnail_250_px),te.getSingleImageDimensions(t.links.original)]).then(function(e){t.preview.width=e[0].width,t.preview.height=e[0].height,t.width=e[1].width,t.height=e[1].height,h(t),T(t),ie.addToCanvas(t.links.original,null,t.fileName)})}function k(){var e=N.default.evaluate(M.b),t=N.default.evaluate(K.a);return"assets"!==e&&Object(A.g)("assets"),"uploads"!==t&&N.default.dispatch(X.b,"uploads"),e}function x(e){return"".concat(Object(P.e)("imageUrlDownload"),"?url=").concat(encodeURIComponent(e))}var P=n(18),_=n(43),I=n(7),N=n(1),M=n(99),A=n(16),R=n(118),D=function(e){var t=e instanceof Uint8Array?e:new Uint8Array(e);if(!(t&&t.length>1))return null;var n=function(e,n){n=o({offset:0},n);for(var r=0;r<e.length;r++)if(n.mask){if(e[r]!==(n.mask[r]&t[r+n.offset]))return!1}else if(e[r]!==t[r+n.offset])return!1;return!0};return n([255,216,255])?{ext:"jpg",mime:"image/jpeg"}:n([137,80,78,71,13,10,26,10])?{ext:"png",mime:"image/png"}:n([71,73,70])?{ext:"gif",mime:"image/gif"}:n([87,69,66,80],{offset:8})?{ext:"webp",mime:"image/webp"}:n([70,76,73,70])?{ext:"flif",mime:"image/flif"}:(n([73,73,42,0])||n([77,77,0,42]))&&n([67,82],{offset:8})?{ext:"cr2",mime:"image/x-canon-cr2"}:n([73,73,42,0])||n([77,77,0,42])?{ext:"tif",mime:"image/tiff"}:n([66,77])?{ext:"bmp",mime:"image/bmp"}:n([73,73,188])?{ext:"jxr",mime:"image/vnd.ms-photo"}:n([56,66,80,83])?{ext:"psd",mime:"image/vnd.adobe.photoshop"}:{ext:"unknown",mime:"image/unknown"}},L=D,G=n(15),B=n(79),F=n(29),z=n(269),U=n(71),H=n.n(U),W=n(130),V=n(44),K=n(49),X=n(121),Y=n(6),q=n(117),Z=n(235),J=n(366),$=n(21),Q=n.n($),ee=n(475),te={formatMediaPreviews:c,getImageDimensions:i,getSingleImageDimensions:ee.a};n.d(t,"e",function(){return re}),t.d=b,t.c=m,t.i=v,t.l=O,t.a=S,t.h=w,t.f=j,t.j=E,t.k=C,t.g=k,t.b=x;var ne=function(){var e;return function(){return e||(e=H()(B.d,50)),e.apply(void 0,arguments)}}(),re=function(e){return N.default.dispatch(J.i,e)},oe=function(e){N.default.dispatch(J.g,e),W.showErrorModal()},ae=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){var e=new Uint8Array(r.result),n=L(e);t(n)},r.onerror=n,r.readAsArrayBuffer(e)})},ie={isType:ae,validateFile:O,addToCanvas:S,deleteMedia:m,updateMedia:v,getMedia:b}},function(e,t,n){"use strict";function r(e,t,n){return c.c+(e&&!t||n?c.f:0)}function o(e,t,n){return c.e+(e&&!t||n?c.f:0)}function a(){return c.a}n.d(t,"t",function(){return l}),n.d(t,"q",function(){return s}),n.d(t,"k",function(){return f}),n.d(t,"n",function(){return p}),n.d(t,"l",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"m",function(){return m}),n.d(t,"u",function(){return g}),n.d(t,"w",function(){return y}),n.d(t,"x",function(){return O}),n.d(t,"v",function(){return S}),n.d(t,"c",function(){return w}),n.d(t,"d",function(){return j}),n.d(t,"g",function(){return E}),n.d(t,"h",function(){return C}),n.d(t,"f",function(){return k}),n.d(t,"a",function(){return x}),n.d(t,"p",function(){return M}),n.d(t,"o",function(){return A}),n.d(t,"z",function(){return R}),n.d(t,"y",function(){return D}),n.d(t,"e",function(){return L}),n.d(t,"i",function(){return G}),n.d(t,"s",function(){return B}),n.d(t,"r",function(){return F}),n.d(t,"A",function(){return z});var i=n(33),c=n(297),u=Object(i.a)(["panel"]),l=Object(i.a)(u.concat(["panelsAreOverlay"])),s=Object(i.a)(u.concat(["navbarIsVisible"])),f=Object(i.a)(u.concat(["left"])),d=Object(i.a)(f.concat(["wide"])),p=Object(i.a)(f.concat(["isOpening"])),h=Object(i.a)(f.concat(["isClosing"])),b=Object(i.a)(f.concat(["activeId"])),m=Object(i.a)(f.concat(["open"])),g=Object(i.a)(u.concat(["right"])),v=Object(i.a)(g.concat(["wide"])),y=Object(i.a)(g.concat(["open"])),O=Object(i.a)(g.concat(["isOpening"])),S=Object(i.a)(g.concat(["isClosing"])),w=Object(i.a)(g.concat(["activeId"])),j=Object(i.a)(u.concat(["bottom"])),T=Object(i.a)(j.concat(["tall"])),E=Object(i.a)(j.concat(["open"])),C=Object(i.a)(j.concat(["isOpening"])),k=Object(i.a)(j.concat(["isClosing"])),x=Object(i.a)(j.concat(["activeId"])),P=Object(i.a)(f.concat("isWidening")),_=Object(i.a)(f.concat("isUnwidening")),I=Object(i.a)(g.concat("isWidening")),N=Object(i.a)(g.concat("isUnwidening")),M=Object(i.a)(m,d,P,_,function(e,t,n,o){return e||n?r(t,n,o):0}),A=Object(i.a)(d,m,p,h,function(e,t,n,o){return o||!t&&!n?0:r(e)}),R=Object(i.a)(y,v,function(e,t){return e?o(t):0}),D=Object(i.a)(v,y,O,S,function(e,t,n,r){return r||!t&&!n?0:o(e)}),L=Object(i.a)(E,function(e){return e?a():0}),G=Object(i.a)(E,C,k,function(e,t,n){return n||!e&&!t?0:a()}),B=Object(i.a)(p,h,O,S,P,_,I,N,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return!!e})}),F=Object(i.a)(C,k,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.some(function(e){return!!e})}),z=Object(i.a)(g,function(e){return!(!e||!e.get("open")||"SharePanel"!==e.get("activeId"))});t.j={panel:u,panelsAreOverlay:l,navbarIsVisible:s,leftPanel:f,leftPanelIsWide:d,leftPanelIsOpening:p,leftPanelIsClosing:h,activeLeftPanelId:b,leftPanelIsOpen:m,rightPanel:g,rightPanelIsWide:v,rightPanelIsOpen:y,rightPanelIsOpening:O,rightPanelIsClosing:S,activeRightPanelId:w,bottomPanel:j,bottomPanelIsTall:T,bottomPanelIsOpen:E,bottomPanelIsOpening:C,bottomPanelIsClosing:k,activeBottomPanelId:x,leftPanelIsWidening:P,leftPanelIsUnWidening:_,rightPanelIsWidening:I,rightPanelIsUnWidening:N,leftPanelWidth:M,leftPanelNextWidth:A,rightPanelWidth:R,rightPanelNextWidth:D,bottomPanelHeight:L,bottomPanelNextHeight:G,panelIsTransitioningW:B,panelIsTransitioningH:F,sharePanelIsOpen:z}},,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=document.createElement("a");t.href=e||window.location;var n=o(o({},s()(t,f)),{},{query:u.a.parse(t.search)});return n.domain=n.hostname.substring(n.hostname.lastIndexOf(".",n.hostname.lastIndexOf(".")-1)+1),n}t.a=i,n.d(t,"b",function(){return d});var c=n(359),u=n.n(c),l=n(69),s=n.n(l),f=["protocol","hostname","port","pathname","search","hash","host"],d=function(e){var t=i(e),n=t.pathname.split("/"),r="";0===n[2].indexOf("editor")&&(r=n[1],n.shift());var o,a=n[2];return n[3]&&(o=n[3].split("-").pop()),{parts:n,language:r,query:t.query,directive:a,id:o}}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e){return l(e)||u(e)||c(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function u(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return s(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=y();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w=n(0),j=n.n(w),T=n(514),E=n.n(T),C={};t.a=function(e){var t,n;return n=t=function(t){function n(e){var t;return f(this,n),t=r.call(this,e),S(v(t),"bindKeyboardShortcut",function(e,n,r){if(Array.isArray(e))return e.forEach(function(e){t.bindKeyboardShortcut(e,n,r)});var o=t.getCacheKey(e,r);t.cacheKeysToClear[o]=1,t.disabledGlobalCallbacks[o]=t.disabledGlobalCallbacks[o]||[],t.globalCallbacks[o]||(t.globalCallbacks[o]=[],E.a.bind(e,function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.globalCallbacks[o].forEach(function(e){e.callback.apply(e,n)})},r)),t.globalCallbacks[o].push({callback:n,keyEventName:r,context:v(t)})}),S(v(t),"unbindKeyboardShortcut",function(e,n,r){var o=t.getCacheKey(e,r);return t._unbindKeyboardShortcut(o,n)}),S(v(t),"_unbindKeyboardShortcut",function(e,n){if(t.globalCallbacks[e]=t.globalCallbacks[e].filter(function(e){var r=e.context,o=e.callback;return r!==v(t)||!!n&&n!==o}),0===t.globalCallbacks[e].length&&(t.globalCallbacks[e]=[],0===t.disabledGlobalCallbacks[e].legnth)){var r=e.split("_");E.a.unbind(r[0],r[1]),delete t.globalCallbacks[e]}}),S(v(t),"disableKeyboardShortcut",function(e,n){if(Array.isArray(e))return e.forEach(function(e){t.disableKeyboardShortcut(e,n)});var r=t.getCacheKey(e,n);t.globalCallbacks[r]&&(t.cacheKeysToEnable[r]=1,t.disabledGlobalCallbacks[r]=t.globalCallbacks[r],t.globalCallbacks[r]=[])}),S(v(t),"enableKeyboardShortcut",function(e,n){var r=t.getCacheKey(e,n);return t._enableKeyboardShortcut(r)}),S(v(t),"_enableKeyboardShortcut",function(e){t.globalCallbacks[e]&&t.disabledGlobalCallbacks[e]&&(t.globalCallbacks[e]=[].concat(a(t.globalCallbacks[e]),a(t.disabledGlobalCallbacks[e])),delete t.disabledGlobalCallbacks[e])}),S(v(t),"enableAllKeyboardShortcut",function(){Object.keys(t.cacheKeysToEnable).forEach(function(e){return t._enableKeyboardShortcut.call(v(t),e)})}),S(v(t),"unbindAllKeyboardShortcuts",function(){Object.keys(t.cacheKeysToClear).forEach(function(e){return t._unbindKeyboardShortcut.call(v(t),e)})}),t.cacheKeysToClear={},t.cacheKeysToEnable={},t.globalCallbacks=C,t.disabledGlobalCallbacks={},t}h(n,t);var r=m(n);return p(n,[{key:"componentWillUnmount",value:function(){this.unbindAllKeyboardShortcuts(),this.enableAllKeyboardShortcut()}},{key:"getCacheKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(e,"_").concat(t)}},{key:"render",value:function(){return j.a.createElement(e,o({},this.props,{bindKeyboardShortcut:this.bindKeyboardShortcut,unbindKeyboardShortcut:this.unbindKeyboardShortcut,disableKeyboardShortcut:this.disableKeyboardShortcut,enableKeyboardShortcut:this.enableKeyboardShortcut}))}}]),n}(w.PureComponent),S(t,"BaseComponent",e.BaseComponent||e),S(t,"displayName",e.displayName||"KeyBoardShortCutsDecorator"),n}},,,,function(e,t,n){"use strict";var r=n(29),o=(n.n(r),n(101)),a=Object(o.a)(window.location.href),i=a.query;t.a=i.sstkdebug?"true"===i.sstkdebug:r.client.debug},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w,r=arguments.length>3?arguments[3]:void 0,o=Math.ceil(n/16),a=window.setInterval(function(){var n=(e-t.scrollTop)/o;o?(o--,t.scrollTop+=n,r&&r()):window.clearInterval(a)},16);return a}t.a=b,n.d(t,"b",function(){return j});var m=n(0),g=n.n(m),v=n(4),y=n.n(v),O=n(38),S=n(272),w=250,j=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"refControllerCallback",O.a.refControllerCallback.bind(f(r))),h(f(r),"onScroll",(e=r).onScroll.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"onScroll",value:function(e){var t=this.props.onScroll;Object(S.a)(),t&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.style,r=e.className,o=e.refFunction;return g.a.createElement("div",{className:y()("panel-contents-container",r),ref:o||this.refControllerCallback,onScroll:this.onScroll,style:n},g.a.createElement("div",{className:"panel-contents"},t))}}]),t}(m.PureComponent)},,function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){e.canvas=t;var n=e._objects||e._paths;n&&n.forEach(function(e){l(e,t)})}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var p=n(1),h=n(14),b=n(17),m=n(334),g=n(8),v=n(87),y=n(44),O=n(110),S=n(6),w=n(801),j=g.fabric.util.createClass(g.fabric.StaticCanvas,{enableRetinaScaling:!1,pageId:0,lastState:null,renderOnAddRemove:!1,initialize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(S.a)();this.vignetteAsset=t.vignetteAsset,this.callSuper("initialize",e.element,e),this.lowerCanvasEl.style.width="",this.lowerCanvasEl.style.height=""},renderFromFabricData:function(e,t){var n=this;if(e===this.lastState)return Promise.resolve();var o=[e.backgroundImage].concat(e.objects);return Object(w.a)(o).then(function(o){n.lastState=e,n.lastEnlived=o,n.backgroundImage=o[0],n.backgroundImage.renderCheckboard=!1,n.add.apply(n,r(o.slice(1))),n.renderAllExport(t)})},renderFromFabricCanvas:function(e){var t=this;this.lastState=null;var n=Object(S.a)(),r=n.getObjects(),o=n.getArtboard();o&&(o.canvas=this),this.backgroundImage=o;var a;o&&(a=this.backgroundImage.renderCheckboard),o&&(this.backgroundImage.renderCheckboard=!1),r.forEach(function(e){e===n._activeObject&&(e.originalCropping=e.isCropping,e.isCropping=!1),l(e,t)}),this._objects=r,this.cachedBackgroundImage=n.getBackgroundImage(),this.renderAllExport(e),r.forEach(function(e){l(e,n),e.isCropping=e.originalCropping,delete e.originalCropping}),o&&(o.canvas=n),o&&(this.backgroundImage.renderCheckboard=a),this.backgroundImage=null,this.cachedBackgroundImage=null,this._objects=[]},dataUrlToFit:function(e,t,n){var r=this.width,o=this.height,a=Object(v.c)(this,{width:e,height:e});this.setDimensions({width:r*a,height:o*a}),this.renderAllExport();var i=this.lowerCanvasEl.toDataURL(t,n);return this.setDimensions({width:r,height:o}),this.renderAllExport(),i},renderAllExport:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.width,n=void 0===t?m.a:t,r=e.height,o=void 0===r?m.a:r,a=this.backgroundImage||{width:1,height:1},i=Object(v.c)(a,{width:n,height:o}),c=a.width*i,u=a.height*i;c===this.width&&u===this.height||this.setDimensions({width:c,height:u}),this.viewportTransform=[i,0,0,i,0,0],this.callSuper("renderAllExport")},renderFromSrc:function(e){var t=this;return new Promise(function(n,r){var o=new Image;o.crossOrigin="anonymous",o.onload=function(){t.contextContainer.drawImage(o,0,0,t.lowerCanvasEl.width,t.lowerCanvasEl.height),n()},o.onerror=r,o.src=e})},setDimensions:function(e){for(var t in e)this._setBackstoreDimension(t,e[t]);return this}}),T=j,E=function(){function e(){s(this,e),this.thumbs={}}return d(e,[{key:"removeUnusedThumbs",value:function(e){var t=this,n=e.reduce(function(e,n){var r=n.get("id");return t.thumbs[r]&&(e[r]=t.thumbs[r]),e},{});this.thumbs=n}},{key:"initThumbnails",value:function(){var e=this,t=p.default.evaluate(h.k.pages);return this.removeUnusedThumbs(t),t.forEach(function(t){return e.getThumb(t)}),p.default.evaluate(b.B.fabricPages).forEach(function(t){var n=t.get("id");e.thumbs[n]&&(e.thumbs[n].lastState=t.get("data"))}),Promise.all(t.map(function(t){var n=t.get("thumbnail");return e.refreshThumbnail(t,n)})).then(function(){p.default.dispatch(O.c)})}},{key:"getElementCopy",value:function(e){var t=this.getThumb(e),n=t.element.cloneNode();return n.getContext("2d").drawImage(t.element,0,0),n}},{key:"getElementCopyToFit",value:function(e,t,n){var r,o=this,a=e.get("width"),i=e.get("height"),c=this.getThumb(e),u=Object(v.c)({width:a,height:i},t),l=n&&u>1,s=u;l&&(s=1,r=g.fabric.util.createCanvasElement()),a*=s,i*=s;var f=g.fabric.util.createCanvasElement();f.width=a,f.height=i;var d=new T({pageId:e.get("id"),width:a*s,height:i*s,element:f});if(e.get("active"))d.renderFromFabricCanvas({width:a,height:i}),l&&this.pixellationHandler({pixellatedCanvas:r,width:a,height:i,newCanvas:f,scaleRatio:u});else{f.getContext("2d").drawImage(c.element,0,0,a,i);var h=p.default.evaluate(b.B.fabricPage(e.get("id"))).get("data");d.renderFromFabricData(h,{width:a,height:i}).then(function(){l&&o.pixellationHandler({pixellatedCanvas:r,width:a,height:i,newCanvas:f,scaleRatio:u})})}return l?r:f}},{key:"pixellationHandler",value:function(e){var t=e.pixellatedCanvas,n=e.width,r=e.height,o=e.newCanvas,a=e.scaleRatio,i=Math.floor(a),c=n*a,u=r*a;t.width=c,t.height=u;var l=t.getContext("2d");l.setTransform(i,0,0,i,c/2,u/2),l.imageSmoothingEnabled=!1,l.drawImage(o,-n/2,-r/2,n,r)}},{key:"getThumb",value:function(e){var t=e.get("id");return this.thumbs[t]||(this.thumbs[t]=this.createBase(e)),this.thumbs[t]}},{key:"removeThumbnail",value:function(e){delete this.thumbs[e]}},{key:"refreshThumbnailById",value:function(e){var t=p.default.evaluate(h.k.pageById(e));t&&this.refreshThumbnail(t)}},{key:"refreshActiveThumbnail",value:function(){var e=p.default.evaluate(h.k.activePage);this.refreshThumbnail(e)}},{key:"createBase",value:function(e){var t=e.get("width"),n=e.get("height"),r=e.get("id"),o=Object(v.c)({width:t,height:n},{width:m.a,height:m.a});t*=o,n*=o;var a=new T({pageId:r,width:t,height:n}),i=new g.fabric.Image(a.lowerCanvasEl);return{element:a.lowerCanvasEl,image:i,canvas:a}}},{key:"refreshThumbnail",value:function(e,t){var n,r=this.getThumb(e),o=r.image,a=r.canvas;if(e.get("active"))a.renderFromFabricCanvas(),n=Promise.resolve();else if(t)n=a.renderFromSrc(t);else{var i=p.default.evaluate(b.B.fabricPage(e.get("id"))),c=i.get("data");c?n=a.renderFromFabricData(i.get("data")):(y.a.noticeError(new Error("fabricPageState is null in refreshThumbnail()")),n=Promise.resolve())}return o.excludeFromExport=!0,o.isOnScreen=function(){return!0},o.evented=!1,o.scaleX=o.scaleY=Math.max(e.get("width"),e.get("height"))/m.a,r.unused=!1,n}}]),e}(),C=new E;t.a=C},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"n",function(){return a}),n.d(t,"m",function(){return i}),n.d(t,"k",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"j",function(){return l}),n.d(t,"h",function(){return s}),n.d(t,"g",function(){return f}),n.d(t,"i",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"f",function(){return h}),n.d(t,"o",function(){return b}),n.d(t,"p",function(){return m}),n.d(t,"e",function(){return g}),n.d(t,"c",function(){return v});var r="CREATE_PAGE",o="DELETE_PAGE",a="SELECT_PAGE",i="RESIZE_PAGE",c="PAGE_ASSET",u="DUPLICATE_PAGE",l="MOVE_PAGE_UP",s="MOVE_PAGE_DOWN",f="MOVE_PAGE_BEGINNING",d="MOVE_PAGE_END",p="RESET_PAGES",h="MOVE_PAGE",b="SET_PAGE_SELECTION_RANGE",m="TOGGLE_PAGE_SELECTION",g="MOVE_BY_INDEX",v="DELETE_STORED_THUMBS"},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="transparent"},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return e+t}n.d(t,"c",function(){return m}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"f",function(){return O}),n.d(t,"e",function(){return T}),n.d(t,"d",function(){return E});var a,i,c,u,l,s,f=n(129),d=n.n(f),p=n(2),h=n(68),b=n.n(h),m="PIXELS",g="INCHES",v="CENTIMETERS",y=Object(p.c)(b.a),O=(a={},r(a,m,{dimensions:y.bind(null,"image.dimensions_pixels"),short:y("image.units.px_abbrev"),long:y("image.units.px")}),r(a,g,{dimensions:y.bind(null,"image.dimensions_inches"),short:y("image.units.in_abbrev"),long:y("image.units.in")}),r(a,v,{dimensions:y.bind(null,"image.dimensions_centimeters"),short:y("image.units.cm_abbrev"),long:y("image.units.cm")}),a),S=(l={},r(l,g,(i={},r(i,g,1),r(i,v,2.54),r(i,"METERS",.0254),i)),r(l,v,(c={},r(c,v,1),r(c,g,.393701),r(c,"METERS",.01),c)),r(l,"METERS",(u={},r(u,"METERS",1),r(u,g,39.3701),r(u,v,100),u)),l),w=(s={},r(s,m,0),r(s,g,3),r(s,v,2),r(s,"METERS",4),s),j=function(e,t){var n=w[e];return t.toFixed(n)},T=function(e,t){var n=j(e,t);return parseFloat(n)},E=d()(function(e,t){if(!S.hasOwnProperty(e)||!S.hasOwnProperty(t))throw new Error("Invalid units converting from ".concat(e," to ").concat(t));var n=S[e][t];return function(e){return T(t,e*n)}},o);d()(function(e,t){var n=E(t,e)(1);return function(e){return e*n}},o)},function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"b",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return T}),n.d(t,"e",function(){return E}),n.d(t,"f",function(){return C});var l=n(33),s=n(49),f=n(14),d=n(17),p=Object(l.a)(["presets"]),h=Object(l.a)(p.concat("builtin")),b=Object(l.a)(p.concat("consumerProvidedPresets")),m=Object(l.a)(h,s.b,function(e,t){return e.unshift.apply(e,r(t))}),g=Object(l.a)(f.a,function(e){return e?e.get("presetId"):null}),v=Object(l.a)(g,h,s.b,f.b,function(e,t,n,r){if(null==e||-1===e)return r;var o=function(t){return t.get("id")===e};return n.find(o)||t.find(o)}),y=Object(l.a)(v,function(e){return e?e.get("label"):null}),O=Object(l.a)(p.concat("defaultId")),S=Object(l.a)(O,h,function(e,t){return t.find(function(t){return t.get("id")===e})}),w=Object(l.a)(O,h,function(e,t){var n=t.find(function(t){return t.get("id")===e});return n&&n.get("label")}),j=Object(l.a)(h,function(e){return e.slice(1)}),T=Object(l.a)(m,d.w,function(e,t){var n=e.toJS(),r=n.find(function(e){return 0===e.id});return r&&t?(r.width=t.get("width"),r.height=t.get("height")):r&&(r.width=1200,r.height=1200),n}),E=Object(l.a)(b,function(e){return e.toJS()}),C=Object(l.a)(T,E,function(e,t){return(t.length>0?t:e).reduce(function(e,t){return t.custom?e[0].push(t):e[1].push(t),e},[[],[]])});t.c={partitionedPresets:C,formattedPresets:T,formattedSdkPresets:E,presets:p,builtinPresets:h,consumerProvidedPresets:b,allPresets:m,activePreset:v,activePresetId:g,activePresetLabel:y,defaultPreset:S,defaultPresetId:O,defaultPresetLabel:w,templatePresets:j}},function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}function l(e){var t;if(!/original/i.test(e)){if(/^[0-9]+x[0-9]+$/.test(e)){var n=e.split("x").map(function(e){return parseInt(e,10)}),o=r(n,2),a=o[0],i=o[1];a>N.minimumWidth&&a<Object(I.b)()&&i>N.minimumHeight&&i<Object(I.b)()&&(t=Object(x.fromJS)({width:a,height:i}))}else b.default.evaluate(P.c.builtinPresets).concat(b.default.evaluate(P.c.consumerProvidedPresets)).some(function(n){return n.get("label").toLowerCase().replace(/ /g,"-")===e.toLowerCase()&&(t=n,!0)});t&&(m.g.applyPreset(t),T.a.resetUndoStack())}}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type=e,Object(M.a)("setBackgroundFromId",t),ce.getLoadedAsset(t).then(function(e){return h(e,t)}).catch(function(e){throw e})}function f(e,t){return t.canvas=e,s("dataImage",t)}function d(e,t){return t.url=e,s("userImage",t)}function p(e,t){return t.id=e,s("editorImage",t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(g.a)(),r=n.getBackgroundImage();r?(t.resizeArtboard=Object(A.e)(r),n.remove(r)):t.changeDims||(t.resizeArtboard=Object(A.d)());var o=e.sourceImage,a=b.default.evaluate(w.b).toJS(),i=Object(S.b)(o,a);return R.b.setArtboard(),ae[e.type](B()(t,{id:e.license.imageId.toString(),assetId:e.id,scaleX:i,scaleY:i,isBackground:!0,selectable:!1,disableAnimationEntry:!0,autoSave:b.default.evaluate(j.g),position:{x:a.width/2,y:a.height/2}}))}var b=n(1),m=n(131),g=n(6),v=n(15),y=n(825),O=n(18),S=n(87),w=n(14),j=n(30),T=n(39),E=n(225),C=n(554),k=n(44),x=n(12),P=n(117),_=n(212),I=n(380),N=Object(_.b)(["defaultCanvasBounds"]).toJS(),M=n(385),A=n(269),R=n(57),D=n(21),L=n.n(D),G=n(332),B=n.n(G),F=n(448),z=n.n(F),U=n(90),H=n(7),W=n(64),V=n(106),K=n(284),X=n(109),Y=n(79),q=n(25),Z=n(148),J=n(180),$=n(355),Q=n(19),ee=n(17),te=n(542),ne=n(357),re=n(65);t.c=s,t.d=d,t.b=p;var oe={editorImage:p,userImage:d},ae={editorImage:A.a,userImage:A.b,dataImage:A.b},ie=z()(function(){var e=Object(O.k)();"number"==typeof e&&H.b.track("ready for interaction",{time_since_navigation:e})}),ce={getLoadedAsset:te.b,setBackgroundFromUserImageId:d,setBackgroundFromId:p,handleConsumerSuppliedParams:function(e){var t=b.default.getStore().subscribe(function(){if(b.default.evaluate(ee.B.fabricEventsBound)&&(t(),e.embed))try{if(e.unit&&e.unit,!isNaN(e.width)&&!isNaN(e.height)){m.g.applyDimensions({width:Number(e.width),height:Number(e.height)});Object(g.a)().fire("save")}if(e.fill&&$.a.setBackgroundColor({color:e.fill,saveHistory:!0}),e.format&&b.default.dispatch(E.i,"png"===e.format?"png":"jpg"),e.quality&&b.default.dispatch(E.k,e.quality/100),e.presets&&Object(C.a)(),e.units&&(re.default.setRulerUnits(e.units),re.default.setPrintResolution(e.units)),e.dpiMode&&re.default.setDPIMode(e.dpiMode),e.searchLicense){var n=e.searchLicense.split(",");Object(ne.e)(n)}}catch(e){k.a.noticeError(e)}});e.preset&&l(e.preset)},fromId:function(e){return ce.setBackgroundFromId(e,{forBackground:!0,changeDims:!0}).then(ce.onReady)},loadDesignFromId:function(e,t){return U.g(e,t).then(ce.onReady)},fromUrl:function(e){return Object(M.a)("fromUrl"),d(e,{forBackground:!0,changeDims:!0}).then(ce.onReady)},fromCanvas:function(e){return f(e,{forBackground:!0,changeDims:!0}).then(ce.onReady)},setNewImage:function(e,t,n){return oe[t](e,{forBackground:!0}).then(function(){H.b.track("Changed background image",{imageId:e,source:n,type:t})}).catch(function(e){throw b.default.dispatch(Q.G,null),e})},onReady:function(){var e=W.a.isLoggedIn();if(b.default.dispatch(Q.k,{loggedIn:e}),V.a){var t=Object(g.a)(),r=t.filterBackend.supportsWebGL,o="",a=0;if(r&&t.filterBackend&&t.filterBackend._impl){o=t.filterBackend._impl.captureGPUInfo().renderer}try{var i=document.createElement("canvas"),c=i.getContext("webgl");a=c.getParameter(c.MAX_TEXTURE_SIZE)}catch(e){console.log("error getting webgl texture info")}console.log("gpu =>",o,"\nmax texture size => ",a)}"undefined"!=typeof window&&(document.body.className+=" ready"),ie(),Object(K.a)(function(){Object(O.n)()&&Object(Y.j)()}),Object(K.b)();var u=L()(document,"referrer");return u&&H.a.getLilSis().customEvent("openEditor",{eventValue:{referring_url:u}}),e&&("undefined"!=typeof window&&window.isAppImpersonated&&v.b.actions.setFlag("autoSave",!1),y.a.onLogin().then(function(){var e=b.default.evaluate(Z.g);if(e&&e.size>0&&!q.d()&&v.b.isEnabled("collectionstour")){n(513).default.showCollectionTour()}}).catch(function(e){k.a.noticeError(e)})),window.__pageStartTime&&H.b.track("page ready",{loadTime:Date.now()-window.__pageStartTime,sdk:v.b.isEnabled("embed")}),X.a.initThumbnails().then(function(){T.a.resetUndoStack(),Object(g.a)().fire("setData"),R.b.setThumbnail(),T.a.takeSnapshot(),v.b.isEnabled("embed")&&T.a.on("historyChanged",function(){return Object(J.d)("designChanged")})})}};t.a=ce},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(null==e)return{};var n,r,o=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=g();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){"@babel/helpers - typeof";return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function j(e,t,n){return t&&w(e.prototype,t),n&&w(e,n),e}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function C(e){var t=P();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==O(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){"@babel/helpers - typeof";return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&L(e,t)}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=z();return function(){var n,r=U(e);if(t){var o=U(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}function B(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?F(e):t}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e){"@babel/helpers - typeof";return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function K(e,t,n){return t&&V(e.prototype,t),n&&V(e,n),e}function X(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=$();return function(){var n,r=Q(e);if(t){var o=Q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Z(this,n)}}function Z(e,t){return!t||"object"!==H(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Q(e){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ee(e){"@babel/helpers - typeof";return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ne(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function re(e,t,n){return t&&ne(e.prototype,t),n&&ne(e,n),e}function oe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ae(e,t)}function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ie(e){var t=le();return function(){var n,r=se(e);if(t){var o=se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ce(this,n)}}function ce(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?ue(e):t}function ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function le(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function se(e){return(se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fe(e){"@babel/helpers - typeof";return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t,n){return t&&pe(e.prototype,t),n&&pe(e,n),e}function be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ge(e){var t=Oe();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(e,t){return!t||"object"!==fe(t)&&"function"!=typeof t?ye(e):t}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e){"@babel/helpers - typeof";return(je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t,n){return t&&Ee(e.prototype,t),n&&Ee(e,n),e}function ke(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xe(e,t)}function xe(e,t){return(xe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pe(e){var t=Ne();return function(){var n,r=Me(e);if(t){var o=Me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _e(this,n)}}function _e(e,t){return!t||"object"!==je(t)&&"function"!=typeof t?Ie(e):t}function Ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ne(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e){"@babel/helpers - typeof";return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t,n){return t&&Le(e.prototype,t),n&&Le(e,n),e}function Be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=We();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?He(e):t}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){"@babel/helpers - typeof";return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){return t&&qe(e.prototype,t),n&&qe(e,n),e}function Je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=nt();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?tt(e):t}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function at(e){"@babel/helpers - typeof";return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ct(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ut(e,t,n){return t&&ct(e.prototype,t),n&&ct(e,n),e}function lt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&st(e,t)}function st(e,t){return(st=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){var t=ht();return function(){var n,r=bt(e);if(t){var o=bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dt(this,n)}}function dt(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?pt(e):t}function pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function bt(e){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gt(e){"@babel/helpers - typeof";return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),e}function St(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=Ct();return function(){var n,r=kt(e);if(t){var o=kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==gt(t)&&"function"!=typeof t?Et(e):t}function Et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pt(e){"@babel/helpers - typeof";return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function It(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nt(e,t,n){return t&&It(e.prototype,t),n&&It(e,n),e}function Mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){var t=Gt();return function(){var n,r=Bt(e);if(t){var o=Bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dt(this,n)}}function Dt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?Lt(e):t}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Bt(e){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(e){"@babel/helpers - typeof";return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t,n){return t&&Ht(e.prototype,t),n&&Ht(e,n),e}function Vt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kt(e,t)}function Kt(e,t){return(Kt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){var t=Zt();return function(){var n,r=Jt(e);if(t){var o=Jt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(e,t){return!t||"object"!==zt(t)&&"function"!=typeof t?qt(e):t}function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Jt(e){return(Jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $t(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qt(e){"@babel/helpers - typeof";return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function tn(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){en(c,r,o,a,i,"next",e)}function i(e){en(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t,n){return t&&rn(e.prototype,t),n&&rn(e,n),e}function an(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function un(e){var t=fn();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ln(this,n)}}function ln(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?sn(e):t}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hn(e){"@babel/helpers - typeof";return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t,n){return t&&mn(e.prototype,t),n&&mn(e,n),e}function vn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yn(e,t)}function yn(e,t){return(yn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=jn();return function(){var n,r=Tn(e);if(t){var o=Tn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Sn(this,n)}}function Sn(e,t){return!t||"object"!==hn(t)&&"function"!=typeof t?wn(e):t}function wn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Tn(e){return(Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function En(e){"@babel/helpers - typeof";return(En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t,n){return t&&kn(e.prototype,t),n&&kn(e,n),e}function Pn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){var t=An();return function(){var n,r=Rn(e);if(t){var o=Rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(e,t){return!t||"object"!==En(t)&&"function"!=typeof t?Mn(e):t}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Dn,Ln,Gn,Bn,Fn,zn,Un,Hn,Wn,Vn,Kn,Xn,Yn=n(2),qn=n(0),Zn=n.n(qn),Jn=n(710),$n=n.n(Jn),Qn=n(4),er=n.n(Qn),tr=n(102),nr=n(70),rr=(n(819),n(48)),or=n(282),ar=n(5),ir=n.n(ar),cr=n(11),ur=n(21),lr=n.n(ur),sr=n(23),fr=n(532),dr=n(89),pr=function(e){function t(e){var r;return l(this,t),r=n.call(this,e),y(m(r),"onScroll",function(e){e.target.className.includes(er()("sticky-container"))&&(e.target.scrollTop>40?r.setState({animateHeader:"scrolled"}):void 0!==r.state.animateHeader&&r.setState({animateHeader:void 0}))}),r.state={animate:lr()(e,"header.props.animate"),animateHeader:void 0,fadingIn:!1},r}d(t,e);var n=h(t);return f(t,[{key:"componentWillReceiveProps",value:function(e){this.props.enterKey!==e.enterKey&&this.props.onEnter&&this.props.onEnter()}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({fadingIn:!0})},10)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.header,r=e.footer,o=e.children,a=e.sticky,i=this.state.fadingIn,c=null;return n&&(c=this.state.animate?Zn.a.cloneElement(n,{className:er()(lr()(n,"props.className"),this.state.animateHeader)}):n),Zn.a.createElement("div",{className:er()("cmpModal","modal-dialog",t,{"fade-in":i})},a&&Zn.a.createElement(fr.a,{header:c,footer:r,className:"modal-content",onScroll:this.state.animate&&this.onScroll},o),!a&&Zn.a.createElement("div",{className:"modal-content"},o))}}]),t}(qn.PureComponent);y(pr,"displayName","Modal");var hr=(Ln=Dn=function(e){function t(){return l(this,t),n.apply(this,arguments)}d(t,e);var n=h(t);return f(t,[{key:"render",value:function(){var e=this.props,t=e.tagName,n=e.className,r=e.children,o=(e.closeTrack,e.onDisabledClick,c(e,["tagName","className","children","closeTrack","onDisabledClick"]));return Zn.a.createElement(t,i(i({},o),{},{className:er()("cmpModalCloseButton",n)}),r)}}]),t}(qn.PureComponent),y(Dn,"displayName","ModalCloseButton"),y(Dn,"defaultProps",{tagName:"button",onClick:rr.a.hideModal}),Ln);pr.CloseButton=Object(dr.a)({onClick:"closeTrack"})(hr);var br=(Bn=Gn=function(e){function t(){return l(this,t),n.apply(this,arguments)}d(t,e);var n=h(t);return f(t,[{key:"render",value:function(){var e=this.props,t=e.tagName,n=e.className,r=e.children,o=c(e,["tagName","className","children"]);return Zn.a.createElement(t,i(i({},o),{},{className:er()("cmpModalSmallAction",n)}),r)}}]),t}(qn.PureComponent),y(Gn,"displayName","ModalSmallAction"),y(Gn,"defaultProps",{tagName:"div",onClick:rr.a.hideModal}),Bn);pr.SmallAction=Object(dr.a)({onClick:"closeTrack"})(br);var mr=(zn=Fn=function(e){function t(){return l(this,t),n.apply(this,arguments)}d(t,e);var n=h(t);return f(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onClose,r=c(e,["className","onClose"]);return Zn.a.createElement(sr.b,o({},r,{name:"close",className:er()("cmpModalHeaderCloseButton ".concat(t)),onClick:n}))}}]),t}(qn.PureComponent),y(Fn,"displayName","ModalHeaderCloseButton"),y(Fn,"propTypes",{onClose:ir.a.func.isRequired}),zn);pr.HeaderCloseIcon=Object(dr.a)({onClose:"closeTrack"})(mr),pr.Header=(Hn=Un=function(e){function t(){return l(this,t),n.apply(this,arguments)}d(t,e);var n=h(t);return f(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.iconName,r=e.showCloseButton,o=e.onClose,a=e.type,i=e.closeTrack,c=er()("cmpModalHeader",{"modal-header":!0,error:!!a},t),u=o||rr.a.hideModal;return Zn.a.createElement("div",{className:c},this.props.children||Zn.a.createElement("div",null,r&&Zn.a.createElement(pr.HeaderCloseIcon,{onClose:u,closeTrack:i}),n&&Zn.a.createElement("div",{className:"circle"},Zn.a.createElement(sr.b,{name:n}))),this.props.animationText&&Zn.a.createElement("div",{className:"modal-header-animation-text"},n&&Zn.a.createElement(sr.b,{name:n}),this.props.animationText))}}]),t}(qn.PureComponent),y(Un,"displayName","ModalHeader"),y(Un,"propTypes",{onClose:ir.a.func}),y(Un,"defaultProps",{showCloseButton:!0}),Hn),pr.Body=(Vn=Wn=function(e){function t(){return l(this,t),n.apply(this,arguments)}d(t,e);var n=h(t);return f(t,[{key:"render",value:function(){return Zn.a.createElement("div",{className:er()("cmpModalBody modal-body",this.props.className),onScroll:this.props.onScroll,style:this.props.style},this.props.children)}}]),t}(qn.PureComponent),y(Wn,"displayName","ModalBody"),Vn),pr.Footer=(Xn=Kn=function(e){function t(){return l(this,t),n.apply(this,arguments)}d(t,e);var n=h(t);return f(t,[{key:"render",value:function(){return Zn.a.createElement("div",{className:"cmpModalFooter modal-footer"},this.props.children)}}]),t}(qn.PureComponent),y(Kn,"displayName","ModalFooter"),Xn);var gr=Object(cr.a)(function(e){return{enterKey:or.enterKey(e)}})(pr),vr=(rr.a,n(838)),yr=n(77),Or=n.n(yr),Sr=n(7),wr=n(44),jr=n(476),Tr=n(1466),Er=n.n(Tr),Cr=Object(Yn.c)(Er.a),kr=window.sstkCdnPrefix||"",xr="Login Modal Showing",Pr=function(e){function t(){var e;S(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),I(x(e),"onMessage",function(t){var n=t.data;if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return}if("load"===n.event){var r=n.location.href||"";return void(r.indexOf("shutterstock.com/login")>0?e.mode="login":r.indexOf("shutterstock.com/users/new")>0&&(e.mode="signup"))}var o=t.data&&t.data.identity&&null!=t.data.identity.guid;if(e.loginIframe){if(t.source===e.loginIframe.contentWindow&&o){delete window.identity.authUrl,Or()(window.identity,t.data.identity),Or()(window.editor,t.data.editor),e.wasLoggedInBeforeUnmount=!0,Object(jr.a)(xr),rr.a.hideModal(),Sr.b.track("login");var a=Object(nr.onLogin)({signup:"signup"===e.mode,isRealLogin:!0}),i=e.props.modalProps.get("callback");"function"==typeof i&&a.then(function(){return i()})}}else Object(wr.b)(new Error("Message while loginIframe does not exist:\n        origin: ".concat(t.origin,"\n        data: ").concat(t.data)))}),I(x(e),"onClose",function(){var t=e.props.modalProps;t&&t.get("onHeaderClose",rr.a.hideModal)()}),e}T(t,e);var n=C(t);return j(t,[{key:"componentDidMount",value:function(){window.addEventListener("message",this.onMessage),this.props.bindKeyboardShortcut(["esc"],this.onClose),Sr.b.track("Login prompt appearing"),Object(jr.b)(xr)}},{key:"componentWillUnmount",value:function(){if(!this.wasLoggedInBeforeUnmount){var e=this.props.modalProps.get("onDismiss");e&&e(),Sr.b.track("Login prompt closed without login")}window.removeEventListener("message",this.onMessage)}},{key:"renderCarousel",value:function(){var e=[{caption:Cr("modal.login.marketing-slide-caption-1"),image:$n()(kr,"/editor/image/assets/images/Login_modal/left-carousel-screen-1.jpg")},{caption:Cr("modal.login.marketing-slide-caption-2"),image:$n()(kr,"/editor/image/assets/images/Login_modal/left-carousel-screen-2-new.jpg")},{caption:Cr("modal.login.marketing-slide-caption-3"),image:$n()(kr,"/editor/image/assets/images/Login_modal/left-carousel-screen-3.jpg")}],t={width:404,height:345,fontSize:13},n={margin:"0 auto",width:384,height:305},r=e.map(function(e,t){return Zn.a.createElement("div",{className:"slide-contents",key:t},Zn.a.createElement("div",{style:n},Zn.a.createElement("img",{src:e.image,alt:"",style:{width:"390px",height:"310px"}})),Zn.a.createElement("p",{style:{marginTop:"10px"}},e.caption))});return Zn.a.createElement("div",{className:er()("col-md-6")},Zn.a.createElement("h1",{style:{margin:"0px 0px 20px 0px"}},Cr("modal.login.marketing-title")),Zn.a.createElement(vr.a,{visibleSlides:1,scrollBy:1,slideStyle:t,scrollInterval:6e3,showPips:!0,autoScroll:!0,loop:!0},r),Zn.a.createElement("div",{className:"separator"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.modalProps,r=t.hideOnClick,o=window.identity.authUrl,a="col-md-6",i=n.get("iframeUrl");return"signup"===i?o=window.identity.authUrlSignup:"login"===i&&(o=window.identity.authUrlLogin,a="col-md-12"),Zn.a.createElement(gr,{className:er()("cmpLoginModal",i)},Zn.a.createElement(gr.Header,{iconName:"login-modal-header",showCloseButton:r,onClose:this.onClose}),Zn.a.createElement(gr.Body,null,Zn.a.createElement("div",{className:"row login-modal-row"},"login"!==i&&this.renderCarousel(),Zn.a.createElement("div",{className:er()(a,"iframe-column")},Zn.a.createElement("div",{className:"iframe-wrapper"},Zn.a.createElement("iframe",{title:"loginIframe",ref:function(t){e.loginIframe=t},id:"loginIframe",className:"login-iframe",style:{maxWidth:"".concat(370,"px"),maxHeight:"".concat(520,"px")},scrolling:"no",src:o}))))))}}]),t}(qn.PureComponent);I(Pr,"displayName","LoginModal");var _r=Object(tr.a)(Pr),Ir=n(1467),Nr=n.n(Ir),Mr=Object(Yn.c)(Nr.a),Ar=function(e){function t(){return M(this,t),n.apply(this,arguments)}D(t,e);var n=G(t);return R(t,[{key:"_renderDefaultErrorBody",value:function(){var e=this.props.title||Mr("error-modal.title"),t=this.props.desc||Mr("error-modal.sub-title");return Zn.a.createElement("div",null,Zn.a.createElement("h1",{className:"light"},e),Zn.a.createElement("p",null,t))}},{key:"render",value:function(){return Zn.a.createElement(gr,{className:"cmpErrorModal"},Zn.a.createElement(gr.Header,{type:"error",iconName:"error"}),Zn.a.createElement(gr.Body,null,this._renderDefaultErrorBody()),Zn.a.createElement(gr.Footer,null,Zn.a.createElement(gr.CloseButton,{className:"btn btn-lg btn-primary error"},Mr("error-modal.ok-btn"))))}}]),t}(qn.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ar,"displayName","ErrorModal");var Rr=n(187),Dr=n(131),Lr=n(158),Gr=n.n(Lr),Br=Object(Yn.c)(Gr.a),Fr=function(e){function t(){return W(this,t),n.apply(this,arguments)}X(t,e);var n=q(t);return K(t,[{key:"render",value:function(){return Zn.a.createElement(gr,{className:"cmpDeletePresetModal DeletePresetModal"},Zn.a.createElement(gr.Header,{iconName:"delete",showCloseButton:!1}),Zn.a.createElement(gr.Body,null,Zn.a.createElement("h1",{className:"light"},Br("presetsizes.warning.delete")),Zn.a.createElement("p",null,Br("presetsizes.warning.cannot-undo"))),Zn.a.createElement(gr.Footer,null,Zn.a.createElement("button",{name:"submit",className:"btn btn-lg btn-primary",onClick:Dr.f},Br("action.delete_preset")),Zn.a.createElement("button",{name:"cancel",className:"btn btn-lg btn-default-light",onClick:Dr.e},Br("action.cancel"))))}}]),t}(qn.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fr,"displayName","DeletePresetModal");var zr=n(257),Ur=n(15),Hr=n(727),Wr=n.n(Hr),Vr=n(728),Kr=n.n(Vr),Xr=n(9),Yr=Object(Yn.c)(Kr.a),qr=function(e){function t(e){var r;te(this,t),r=n.call(this,e);var o=Object(zr.b)();return r.globalShortcuts=[o.help,o.undo,o.redo,o.save,o.zoomin,o.zoomout,o.zoomwheel,o.zoomarea,o.pan,o.fullscreen,o.copy,o.paste,o.ruler,o.preview,o.selectall],Ur.b.isEnabled("embed")&&(r.globalShortcuts=Wr()(r.globalShortcuts,o.save)),r.objectShortcuts=[o.objectmove,o.objectmovemore,o.objectmoveless,o.objectzindexbackwards,o.objectzindextoback,o.objectzindexforwards,o.objectzindextofront,o.duplicate,o.delete,o.skew,o.resize,o.snap],r}oe(t,e);var n=ie(t);return re(t,[{key:"createColumn",value:function(e){return e.map(function(e,t){return Zn.a.createElement("tr",{key:t},Zn.a.createElement("td",{dangerouslySetInnerHTML:{__html:e.key}}),Zn.a.createElement("td",null,e.text))})}},{key:"render",value:function(){return Zn.a.createElement(gr,{className:"cmpShortcutMenuModal",header:Zn.a.createElement(gr.Header,{iconName:"info-icon",closeTrack:Xr._33}),sticky:!0},Zn.a.createElement(gr.Body,null,Zn.a.createElement("div",{className:"cmpShortcutMenuModal-headers clearfix"},Zn.a.createElement("h1",{className:"cmpShortcutMenuModal-title"},Yr("shortcutmenu.title")),Zn.a.createElement("h2",{className:"cmpShortcutMenuModal-subtitle"},Yr("shortcutmenu.globalshortcuts")),Zn.a.createElement("h2",{className:"cmpShortcutMenuModal-subtitle"},Yr("shortcutmenu.designshortcuts"))),Zn.a.createElement("div",{className:"cmpShortcutMenuModal-columns clearfix"},Zn.a.createElement("div",{className:"cmpShortcutMenuModal-column"},Zn.a.createElement("table",{className:"cmpShortcutMenuModal-list"},Zn.a.createElement("tbody",null,this.createColumn(this.globalShortcuts)))),Zn.a.createElement("div",{className:"cmpShortcutMenuModal-column"},Zn.a.createElement("table",{className:"cmpShortcutMenuModal-list"},Zn.a.createElement("tbody",null,this.createColumn(this.objectShortcuts)))))))}}]),t}(qn.PureComponent),Zr=n(519),Jr=n(1),$r=n(259),Qr=n.n($r),eo=n(197),to=n(19),no=Object(Yn.c)(Qr.a),ro=function(e){function t(){var e,r;de(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),we(ye(r),"state",{edit:!0,lightboxname:""}),we(ye(r),"handleSave",(e=r).handleSave.bind(e)),we(ye(r),"setEdit",(e=r).setEdit.bind(e)),r}be(t,e);var n=ge(t);return he(t,[{key:"handleSave",value:function(){var e=this;Object(nr.ensureLoggedIn)().then(function(){var t=e.props.modalProps.get("actionFunction"),n=e.props.modalProps.get("showLoader");n&&(rr.a.hideModal(),Jr.default.dispatch(to.G,"roundSpinner")),t&&t(e.state.lightboxname),n||rr.a.hideModal()})}},{key:"modalBodyTitle",value:function(){return Zn.a.createElement("div",null,Zn.a.createElement("h1",{className:"light create-lightbox-title"},no("collection.create-collection")))}},{key:"setEdit",value:function(e){this.setState({edit:0===e.trim().length,lightboxname:e})}},{key:"modalBodyForm",value:function(){return Zn.a.createElement(eo.a,{className:"saveDesignForm",inputClassName:"saveDesignInput create-lightbox-input",value:this.state.lightboxname,onSubmit:this.handleSave,placeholder:no("collection.placeholder"),onChange:this.setEdit,validate:function(e){return!!e.trim()},dataTrack:Xr.x})}},{key:"render",value:function(){var e=this.props.iconName;return Zn.a.createElement(gr,{onEnter:this.state.edit&&this.handleSave,className:"cmpSaveDesignModal create-lightbox-modal"},Zn.a.createElement(gr.Header,{iconName:e,closeTrack:Xr.v}),Zn.a.createElement(gr.Body,null,this.modalBodyTitle(),this.modalBodyForm()),Zn.a.createElement(gr.Footer,null,Zn.a.createElement("div",{className:"btn-group"},Zn.a.createElement("button",{id:"createBtn",className:"btn btn-lg btn-primary create-lightbox-submit",onClick:this.handleSave,disabled:this.state.edit,"data-track":Xr.w},no("action.create")),Zn.a.createElement(gr.CloseButton,{className:"btn btn-lg btn-default-light",closeTrack:Xr.u},no("action.cancel")))))}}]),t}(qn.PureComponent);we(ro,"displayName","NewLightbox");var oo=Object(Yn.c)(Qr.a),ao=function(e){function t(e){var r,o;return Te(this,t),o=n.call(this,e),Ae(Ie(o),"handleAction",(r=o).handleAction.bind(r)),Ae(Ie(o),"setEdit",(r=o).setEdit.bind(r)),o.state={edit:!0,lightboxname:e.modalProps.get("name")},o}ke(t,e);var n=Pe(t);return Ce(t,[{key:"handleAction",value:function(){var e=this.props.modalProps.get("actionFunction"),t=this.props.modalProps.get("showLoader");t&&(rr.a.hideModal(),Jr.default.dispatch(to.G,"roundSpinner")),e&&e(this.state.lightboxname),t||rr.a.hideModal()}},{key:"modalBodyTitle",value:function(){return Zn.a.createElement("div",null,Zn.a.createElement("h1",{className:"light"},oo("collection.rename-collection")))}},{key:"setEdit",value:function(e){var t=this.props.modalProps,n=t.get("name");this.setState({edit:0===e.trim().length&&n!==e.trim(),lightboxname:e})}},{key:"modalBodyForm",value:function(){return Zn.a.createElement(eo.a,{className:"saveDesignForm",inputClassName:"saveDesignInput rename-lightbox-input",value:this.state.lightboxname,onSubmit:this.handleAction,placeholder:oo("collection.placeholder"),onChange:this.setEdit,validate:function(e){return!!e.trim()}})}},{key:"render",value:function(){var e=this.props.iconName;return Zn.a.createElement(gr,{onEnter:this.state.edit&&this.handleAction,className:"cmpSaveDesignModal rename-lightbox-modal"},Zn.a.createElement(gr.Header,{iconName:e}),Zn.a.createElement(gr.Body,null,this.modalBodyTitle(),this.modalBodyForm()),Zn.a.createElement(gr.Footer,null,Zn.a.createElement("div",{className:"btn-group"},Zn.a.createElement("button",{id:"createBtn",className:"btn btn-lg btn-primary rename-lightbox-submit",onClick:this.handleAction,disabled:this.state.edit},oo("action.rename")),Zn.a.createElement(gr.CloseButton,{className:"btn btn-lg btn-default-light"},oo("action.cancel")))))}}]),t}(qn.PureComponent);Ae(ao,"displayName","RenameLightbox");var io=Object(Yn.c)(Qr.a),co=function(e){function t(){var e,r;De(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),Ke(He(r),"handleAction",(e=r).handleAction.bind(e)),r}Be(t,e);var n=ze(t);return Ge(t,[{key:"handleAction",value:function(){var e=this.props.modalProps.get("actionFunction"),t=this.props.modalProps.get("showLoader");t&&(rr.a.hideModal(),Jr.default.dispatch(to.G,"roundSpinner")),e&&e(),t||rr.a.hideModal()}},{key:"modalBodyTitle",value:function(){return Zn.a.createElement("div",null,Zn.a.createElement("h1",{className:"light delete-lightbox-title"},io("collection.delete-collection-title")),Zn.a.createElement("p",null,io("collection.delete-from-collection-sub-title")))}},{key:"render",value:function(){var e=this.props.iconName;return Zn.a.createElement(gr,{onEnter:this.handleAction,className:"cmpSaveDesignModal delete-lightbox-modal"},Zn.a.createElement(gr.Header,{iconName:e}),Zn.a.createElement(gr.Body,null,this.modalBodyTitle()),Zn.a.createElement(gr.Footer,null,Zn.a.createElement("div",{className:"btn-group"},Zn.a.createElement("button",{id:"createBtn",className:"btn btn-lg btn-primary delete-lightbox-submit",onClick:this.handleAction},io("action.delete")),Zn.a.createElement(gr.CloseButton,{className:"btn btn-lg btn-default-light"},io("action.cancel")))))}}]),t}(qn.PureComponent);Ke(co,"displayName","DeleteLightbox");var uo=n(12),lo=n(159),so=function(e){function t(){return Ye(this,t),n.apply(this,arguments)}Je(t,e);var n=Qe(t);return Ze(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.style,r=e.onClick,o=e.noButton,a=er()("cmpDropdownToggle dropdown-toggle",{"btn btn-default btn-block":!o});return Zn.a.createElement("div",{className:a,type:"button",title:t,style:n,onClick:r},this.props.dangerousLabel&&Zn.a.createElement("div",{className:"dropdown-label",dangerouslySetInnerHTML:{__html:this.props.dangerousLabel}})||Zn.a.createElement("div",{className:"dropdown-label"},this.props.label),Zn.a.createElement("span",{className:"caret"},Zn.a.createElement(sr.b,{name:"down-arrow"})))}}]),t}(qn.PureComponent);ot(so,"displayName","DropdownToggle"),ot(so,"propTypes",{title:ir.a.string,onClick:ir.a.func,label:ir.a.oneOfType([ir.a.string,ir.a.number,ir.a.array,ir.a.element]),style:ir.a.object});var fo=n(256),po=n.n(fo),ho=function(e){function t(){var e;it(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),mt(pt(e),"state",{hovered:!1}),mt(pt(e),"onMouseEnter",function(){e.setState({hovered:!0})}),mt(pt(e),"onMouseLeave",function(){e.setState({hovered:!1})}),e}lt(t,e);var n=ft(t);return ut(t,[{key:"handleClickOutside",value:function(){this.props.open&&this.props.onClick()}},{key:"renderToggle",value:function(){var e,t=this.props.children;if(this.props.toggle)e=Object(qn.cloneElement)(this.props.toggle,{isDropdownOpen:this.props.open});else{var n=t.find(function(e){return e.props.selected})||t.first(),r=lr()(n,"props.children");e=Zn.a.createElement(so,{label:r,onClick:this.props.disabled?null:this.props.onClick})}return e}},{key:"render",value:function(){var e=er()("cmpDropdown",this.props.className,{dropdown:!0,open:this.props.open,disabled:this.props.disabled}),t=this.props.open||this.state.hovered;return Zn.a.createElement("div",{className:e,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.renderToggle(),Zn.a.createElement("ul",{className:"dropdown-menu",role:"menu",style:this.props.menuStyle},t&&this.props.children))}}]),t}(qn.PureComponent);mt(ho,"displayName","Dropdown"),mt(ho,"propTypes",{className:ir.a.string,title:ir.a.string,toggle:ir.a.element,menuStyle:ir.a.object,onClick:ir.a.func,open:ir.a.bool,disabled:ir.a.bool}),mt(ho,"defaultProps",{open:!1,labelType:"default",disabled:!1});var bo=po()({event:"mousedown"})(Object(dr.a)()(ho)),mo=function(e){function t(){var e,r;vt(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),xt(Et(r),"handleClick",(e=r).handleClick.bind(e)),r}St(t,e);var n=jt(t);return Ot(t,[{key:"_getSelectedEl",value:function(){if(this.props.selected)return Zn.a.createElement("div",{className:"dropdown-item-selected"})}},{key:"_getItemLabel",value:function(){if(this.props.dangerousContent){var e={__html:this.props.dangerousContent};return Zn.a.createElement("div",{className:"dropdown-item-label",dangerouslySetInnerHTML:e})}return Zn.a.createElement("div",{className:"dropdown-item-label"},this.props.children)}},{key:"handleClick",value:function(e){e.preventDefault(),!this.props.disabled&&this.props.onClick&&this.props.onClick.apply(this)}},{key:"render",value:function(){var e=this._getSelectedEl();return Zn.a.createElement("li",{className:er()("cmpDropdownItem",this.props.className,{disabled:this.props.disabled}),style:this.props.style,role:"presentation",onClick:this.handleClick},Zn.a.createElement("a",{role:"menuitem",className:er()(this.props.anchorClassName,"cmpDropdownItem-anchor",{selected:this.props.selected}),tabIndex:"-1",href:"javascript:void(0)"},this._getItemLabel(),e))}}]),t}(qn.PureComponent);xt(mo,"displayName","DropdownItem");var go=Object(dr.a)()(mo),vo=n(148),yo=Object(Yn.c)(Qr.a),Oo=function(e){function t(){var e,r;_t(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),Ft(Lt(r),"state",{open:!1,edit:!0,lightboxName:"",lightboxId:-1,inputDisabled:!1}),Ft(Lt(r),"handleAction",(e=r).handleAction.bind(e)),Ft(Lt(r),"setEdit",(e=r).setEdit.bind(e)),Ft(Lt(r),"setLightbox",(e=r).setLightbox.bind(e)),Ft(Lt(r),"handleDropdownClick",function(){r.setState({open:!r.state.open})}),r}Mt(t,e);var n=Rt(t);return Nt(t,[{key:"handleAction",value:function(){var e=this.props.modalProps.get("actionFunction"),t=this.props.modalProps.get("showLoader"),n=this.props.modalProps.get("metricSource"),r=this.state.lightboxName.trim();t&&(rr.a.hideModal(),Jr.default.dispatch(to.G,"roundSpinner")),-1===this.state.lightboxId&&""!==r?Object(nr.ensureLoggedIn)().then(function(){lo.b.addLightbox(r,n).then(function(t){e&&e(t.id)})}):e&&e(this.state.lightboxId),t||rr.a.hideModal()}},{key:"modalBodyTitle",value:function(){return Zn.a.createElement("div",null,Zn.a.createElement("h1",{className:"light"},yo("collection.save-to-collection")))}},{key:"setEdit",value:function(e){this.setState({edit:0===e.trim().length,lightboxName:e,lightboxId:-1,open:!1})}},{key:"setLightbox",value:function(e){this.setState({inputDisabled:-1!==e,lightboxId:e,open:!1})}},{key:"modalBodyForm",value:function(){var e=this,t=this.props,n=t.lightboxes,r=t.activeLightbox,o=yo("collection.create-or-choose"),a=this.state.lightboxId||r&&r.id,i=this.state.inputDisabled||a>0,c=n.unshift(Object(uo.fromJS)({id:-1,title:o}));return Zn.a.createElement("div",null,Zn.a.createElement(bo,{open:this.state.open,onClick:this.handleDropdownClick},c.map(function(t){var n=t.get("title"),r=t.get("id");return Zn.a.createElement(go,{key:r,onClick:function(){e.setLightbox(r)},selected:a===r},Zn.a.createElement("div",{className:"primary"},n))},this)),-1===this.state.lightboxId&&Zn.a.createElement(eo.a,{className:"saveDesignForm",inputClassName:"saveDesignInput",value:this.state.lightboxName,onSubmit:this.handleAction,placeholder:yo("collection.placeholder"),onChange:this.setEdit,validate:function(e){return!!e.trim()},disabled:i}))}},{key:"render",value:function(){var e=yo("action.save"),t=yo("collection.create-label"),n=-1!==this.state.lightboxId?e:t;return Zn.a.createElement(gr,{onEnter:this.state.edit&&this.handleAction,className:"cmpSaveDesignModal cmpSaveToLightbox"},Zn.a.createElement(gr.Header,{iconName:"icon-modal-add"}),Zn.a.createElement(gr.Body,null,this.modalBodyTitle(),this.modalBodyForm()),Zn.a.createElement(gr.Footer,null,Zn.a.createElement("div",{className:"btn-group"},Zn.a.createElement("button",{id:"createBtn",className:"btn btn-lg btn-primary",onClick:this.handleAction,disabled:this.state.edit&&this.state.lightboxId<1},n),Zn.a.createElement(gr.CloseButton,{className:"btn btn-lg btn-default-light"},yo("action.cancel")))))}}]),t}(qn.PureComponent);Ft(Oo,"displayName","SaveToLightbox");var So=Object(cr.a)(function(e){return{lightboxes:vo.g(e),activeLightbox:vo.b(e)}})(Oo),wo=Object(Yn.c)(Qr.a),jo=function(e){function t(){var e,r;Ut(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),$t(qt(r),"handleAction",(e=r).handleAction.bind(e)),r}Vt(t,e);var n=Xt(t);return Wt(t,[{key:"handleAction",value:function(){var e=this.props.modalProps.get("actionFunction"),t=this.props.modalProps.get("showLoader");t&&(rr.a.hideModal(),Jr.default.dispatch(to.G,"roundSpinner")),e&&e(),t||rr.a.hideModal()}},{key:"modalBodyTitle",value:function(){return Zn.a.createElement("div",null,Zn.a.createElement("h1",{className:"light delete-from-lightbox-title"},wo("collection.delete-from-lightbox-title")),Zn.a.createElement("p",null,wo("collection.delete-from-collection-sub-title")))}},{key:"render",value:function(){var e=this.props.iconName;return Zn.a.createElement(gr,{onEnter:this.handleAction,className:"cmpSaveDesignModal delete-from-lightbox-modal"},Zn.a.createElement(gr.Header,{iconName:e}),Zn.a.createElement(gr.Body,null,this.modalBodyTitle()),Zn.a.createElement(gr.Footer,null,Zn.a.createElement("div",{className:"btn-group"},Zn.a.createElement("button",{id:"createBtn",className:"btn btn-lg btn-primary delete-lightbox-submit",onClick:this.handleAction},wo("action.delete")),Zn.a.createElement(gr.CloseButton,{className:"btn btn-lg btn-default-light"},wo("action.cancel")))))}}]),t}(qn.PureComponent);$t(jo,"displayName","DeleteFromLightbox");var To=n(134),Eo=n(515),Co=n(65),ko=n(30),xo=Object(Yn.c)(Kr.a),Po=function(e){function t(){var e;nn(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),pn(sn(e),"state",{open:!1}),pn(sn(e),"handleDropdownItemClick",function(t){e.setState({open:!e.state.open,selected:t})}),pn(sn(e),"handleDropdownClick",function(){e.setState({open:!e.state.open})}),pn(sn(e),"handleApply",function(){var t=e.state.selected;t?e.gotoLang(t):rr.a.hideModal()}),e}an(t,e);var n=un(t);return on(t,[{key:"gotoLang",value:function(){function e(e){return t.apply(this,arguments)}var t=tn(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ur.b.isEnabled("autoSave")){e.next=5;break}if(!Jr.default.evaluate(ko.g)){e.next=5;break}return rr.a.hideModal(),e.next=5,Co.default.flushAutoSave({showLoader:!0});case 5:Sr.b.track("language seclect",{lang:t}),document.location=Object(Eo.b)(t);case 7:case"end":return e.stop()}},e)}));return e}()},{key:"_renderBody",value:function(){var e=this,t=this.state.selected,n=t||Jr.default.evaluate(To.a);return Zn.a.createElement("div",null,Zn.a.createElement(bo,{clickTrack:Xr._36,open:this.state.open,onClick:this.handleDropdownClick},Object.keys(Eo.c).map(function(t){return Zn.a.createElement(go,{clickTrack:Xr._37,key:t,onClick:function(){return e.handleDropdownItemClick(t)},selected:n===t},Zn.a.createElement("div",{className:"primary"},Eo.c[t]))},this)))}},{key:"render",value:function(){var e=er()("btn btn-lg btn-primary"),t=er()("btn btn-lg btn-default-light"),n=xo("languageselect.apply"),r=xo("action.cancel");return Zn.a.createElement(gr,{onEnter:this.handleDelete,className:"cmpLanguageSelect"},Zn.a.createElement(gr.Header,{iconName:"earth",showCloseButton:!1}),Zn.a.createElement(gr.Body,null,this._renderBody()),Zn.a.createElement(gr.Footer,null,Zn.a.createElement("button",{className:e,onClick:this.handleApply,"data-track":Xr._34},n),Zn.a.createElement(gr.CloseButton,{className:t,closeTrack:Xr._35},r)))}}]),t}(qn.PureComponent);pn(Po,"displayName","LanguageSelect");var _o=n(223),Io=n(967),No=function(e){function t(){return bn(this,t),n.apply(this,arguments)}vn(t,e);var n=On(t);return gn(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.onEnter,r=e.children,o=e.header,a=e.footer;return Zn.a.createElement(gr,{className:er()(t,"cmpPreviewModal"),onEnter:n,header:o,footer:a,sticky:!0},Zn.a.createElement(gr.Body,{className:"contents-wrapper"},Zn.a.createElement(Io.a,{hideMultipageOption:this.props.hideMultipageOption,containerWidth:160,containerHeight:160}),Zn.a.createElement("div",{className:"contents-container"},r)))}}]),t}(qn.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(No,"displayName","cmpPreviewModal");var Mo=Object(cr.a)(function(e){return{allowedToDownload:_o.a.allowedToDownload(e),editorialUseOnly:_o.a.editorialUseOnly(e),editorialUseOnlyChecked:_o.a.editorialUseOnlyChecked(e),redownloadSubscriptions:_o.a.redownloadSubscriptions(e),checkGoogleDriveAuth:_o.a.checkGoogleDriveAuth(e),dropBoxAuthToken:_o.a.dropBoxAuthToken(e)}})(No),Ao=n(913),Ro=n(1469),Do=n.n(Ro),Lo=Object(Yn.c)(Do.a),Go=function(e){function t(){return Cn(this,t),n.apply(this,arguments)}Pn(t,e);var n=In(t);return xn(t,[{key:"componentDidMount",value:function(){Sr.b.track("Opened share no credits modal",{"share eligibility":"no credits remaining"})}},{key:"render",value:function(){return Zn.a.createElement(Mo,{className:"cmpNoDownloadsModal",hideMultipageOption:!0,header:Zn.a.createElement(gr.Header,{type:"error'",iconName:"error"}),footer:Zn.a.createElement(gr.Footer,null,Zn.a.createElement(Ao.a,null,Lo("publish.multidownload.renew-button")))},Zn.a.createElement("div",null,Zn.a.createElement("h1",{className:"light"},Lo("publish.multidownload.renew")),Zn.a.createElement("p",null,Lo("publish.multidownload.renew-message"))))}}]),t}(qn.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Go,"displayName","NoCreditsModal");var Bo=n(147),Fo=n(25),zo=n(121),Uo=n(839),Ho=n.n(Uo);n.d(t,"f",function(){return Vo}),n.d(t,"d",function(){return qo}),n.d(t,"c",function(){return Zo}),n.d(t,"b",function(){return Jo}),n.d(t,"e",function(){return ea}),n.d(t,"a",function(){return ta}),n.d(t,"g",function(){return la});var Wo=Object(Yn.c)(Ho.a),Vo={component:Bo.a,iconName:"not-visible",hideOnClick:!1,className:"cmpShareFailModal",title:Wo("share-fail-modal.title"),message:Wo("share-fail-modal.sub-title"),primaryActionLabel:Wo("share-fail-modal.primary-action-label"),alternativeActionLabel:Wo("share-fail-modal.secondary-action-label")},Ko={component:Ar,hideOnClick:!0},Xo={component:_r,hideOnClick:!1},Yo={component:_r,hideOnClick:!0},qo={component:Rr.a,hideOnClick:!0,titleText:Wo("delete-modal.title"),subTitleText:Wo("delete-modal.sub-title"),confirmButtonText:Wo("action.delete"),exitButtonText:Wo("action.cancel")},Zo={component:Rr.a,hideOnClick:!0,titleText:Wo("action.page.delete-title"),subTitleText:Wo("action.page.delete-sub-title"),confirmButtonText:Wo("action.delete"),exitButtonText:Wo("action.cancel")},Jo={component:Rr.a,hideOnClick:!0,titleText:Wo("template-modal.delete-title"),subTitleText:Wo("template-modal.delete-sub-title"),confirmButtonText:Wo("action.delete"),exitButtonText:Wo("action.cancel")},$o={component:Fr,hideOnClick:!0},Qo={component:qr,hideOnClick:!0},ea={component:Zr.a,modalType:"info",hideOnClick:!0,titleText:Wo("newdesign-modal.title-text"),subTitleText:Wo("newdesign-modal.subtitle-text")},ta={key:zo.e,modalType:"info",hideOnClick:!0,title:Wo("background-modal.title-text"),message:Wo("background-modal.subtitle-text"),primaryActionLabel:Wo("background-modal.confirmation-btn-text"),checkboxLabel:Wo("background-modal.optout-text"),iconName:"icon-modal"},na={component:ro,modalType:"info",iconName:"icon-modal-add",hideOnClick:!0},ra={component:ao,modalType:"info",iconName:"icon-modal-rename",hideOnClick:!0},oa={component:So,iconName:"icon-modal-add",hideOnClick:!0,titleText:Wo("action.save"),primaryActionText:Wo("action.save"),secondaryActionText:Wo("action.cancel")},aa={component:co,modalType:"info",iconName:"icon-modal-delete",hideOnClick:!0},ia={component:jo,iconName:"icon-modal-delete",hideOnClick:!0},ca={component:Po,hideOnClick:!0},ua={component:Go,hideOnClick:!1},la=function(e){return{key:zo.s,modalType:"info",hideOnClick:!1,className:"template-warning-modal",title:Wo("template-warning.title"),message:Wo("template-warning.sub-title"),primaryActionLabel:Wo("template-warning.apply-btn"),primaryActionDataTrack:Object(Xr._114)(e),secondaryActionLabel:Wo("template-warning.cancel-btn"),secondayActionDataTrack:Object(Xr._115)(e),checkboxLabel:Wo("template-warning.check-box"),checkboxDataTrack:Object(Xr._118)(e),closeDataTrack:Object(Xr._117)(e),iconName:"icon-modal",secondaryAction:Fo.a}};t.h={ShareFailModal:Vo,ErrorModal:Ko,LoginModal:Xo,DismissibleLoginModal:Yo,DeleteUploadModal:qo,DeletePageModal:Zo,DeleteDesignModal:Jo,DeletePresetModal:$o,ShortcutMenuModal:Qo,NewDesignModal:ea,BackgroundWarningModal:ta,CreateNewLightboxModal:na,RenameLightboxModal:ra,SaveToALightboxModal:oa,DeleteLightboxModal:aa,DeleteFromLightboxModal:ia,LanguageSelect:ca,NoCreditsModal:ua,TemplateWarningModal:la}},function(e,t,n){"use strict";t.a=function(e){return new Promise(function(t){return setTimeout(t,e)})}},function(e,t,n){"use strict";n.d(t,"n",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"r",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"s",function(){return s}),n.d(t,"k",function(){return f}),n.d(t,"l",function(){return d}),n.d(t,"v",function(){return p}),n.d(t,"i",function(){return h}),n.d(t,"u",function(){return b}),n.d(t,"t",function(){return m}),n.d(t,"c",function(){return g}),n.d(t,"q",function(){return v}),n.d(t,"o",function(){return y}),n.d(t,"p",function(){return O}),n.d(t,"a",function(){return S}),n.d(t,"d",function(){return w}),n.d(t,"m",function(){return j}),n.d(t,"g",function(){return T});var r="SET_PREVIEW_MODE",o="SET_CUSTOM_PRESETS",a="SET_BACKGROUND_WARNING",i="SET_RULER_ENABLED",c="SET_ACTIVE_ASSETS_TAB",u="SET_EXPAND_SECTION",l="SET_DOWNLOAD_PREFERENCE",s="SET_TEMPLATE_WARNING",f="SET_FTUE_SEEN",d="SET_IS_FIRST_TIME_USER",p="SET_WELCOME_SEEN_TYPE",h="SET_ELEMENT_PANEL",b="SET_USER_SEEN_BEFORE",m="SET_USER_SEEN_AT",g="SET_ALL_SETTINGS",v="SET_RECENTLY_USED_COLOR_CANDIDATE",y="SET_RECENTLY_USED_COLOR",O="SET_RECENTLY_USED_COLORS",S="ADD_RECENTLY_USED_COLOR",w="SET_BACKGROUND_REMOVAL_SEEN",j="SET_NEW_TEMPLATES_SEEN",T="SET_DARKMODE"},function(e,t,n){"use strict";function r(e){var t=e.width,n=e.height,r=Object(l.a)(),o=r.getArtboard()||{};o.width=t,o.height=n,o.top=n/2,o.left=t/2}var o=n(802),a=n(674),i=n(703),c=n(704),u=n(807),l=n(6),s=n(211),f=n(549);n.d(t,!1,function(){return o.a}),n.d(t,"d",function(){return a.a}),n.d(t,"a",function(){return i.a}),n.d(t,!1,function(){return c.a}),n.d(t,"c",function(){return u.a}),n.d(t,!1,function(){return r}),n.d(t,!1,function(){return s.a}),n.d(t,!1,function(){return f.a});t.b={isTextSelected:o.a,updateOrEnlivenObjects:a.a,createPreviews:i.a,filterThumbs:c.a,putStateIntoCanvas:u.a,adaptArtboardToNewPageValues:r,getNewObjectId:s.a,refocusTextbox:f.a}},,,,,function(e,t,n){"use strict";(function(e){function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return j});var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(4),O=n.n(y),S=n(23),w={getItem:function(e){try{window.sessionStorage.getItem(e)}catch(e){}},setItem:function(e,t){try{window.sessionStorage.setItem(e,t)}catch(e){}}},j=function(t){function n(){var e;o(this,n);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return e=r.call.apply(r,[this].concat(a)),h(f(e),"uniqueNum",Math.random()),h(f(e),"state",{loaded:e.props.disableFade||e.props.fadeOnce&&w.getItem("alreadyFaded_".concat(e.props.src))||!1}),h(f(e),"onLoad",function(){e.setState({loaded:!0}),e.props.onLoad&&e.props.onLoad(),e.props.fadeOnce&&w.setItem("alreadyFaded_".concat(e.props.src),!0)}),e}c(n,t);var r=l(n);return i(n,[{key:"componentDidMount",value:function(){!this.props.src&&this.props.fallbackIcon&&e(this.onLoad)}},{key:"render",value:function(){var e=this.props,t=e.noShrink,n=e.className,r=e.containerStyle,o=e.draggable,a=e.crossOrigin,i=e.title,c=e.src,u=e.alt,l=e.children,s=e.fallbackIcon,f=e.checkerboard,d=void 0===f||f;return m.a.createElement("div",{className:O()(n,"fade-in-image-container",{"no-shrink":t,"faded-in":this.state.loaded}),style:r},c?m.a.createElement("img",{alt:u,crossOrigin:a,title:i,src:c,className:O()("fade-in-image",{"transparent-checkerboard":d}),onLoad:this.state.loaded?null:this.onLoad,draggable:o}):m.a.createElement("div",{className:"fade-in-image fallbackContainer"},m.a.createElement(S.b,{name:s})),l)}}]),n}(b.PureComponent);h(j,"displayName","Field"),h(j,"propTypes",{className:v.a.string,noShrink:v.a.bool,fadeOnce:v.a.bool,disableFade:v.a.bool,src:v.a.string,onLoad:v.a.func})}).call(t,n(294).setImmediate)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=b();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return C});var g=n(0),v=n.n(g),y=n(710),O=n.n(y),S=n(29),w=n.n(S),j=n(69),T=n.n(j),E=["onClick","className","externalUrl","style","draggable"],C=function(e){function t(){return c(this,t),n.apply(this,arguments)}s(t,e);var n=d(t);return l(t,[{key:"render",value:function(){var e=this.props,t=e.src,n=e.externalUrl,r=a(e,["src","externalUrl"]),i=w.a.client,c=i.cdn?"".concat(i.cdn).concat(i.basePath):i.basePath,u=n?t:O()(c,"/assets/images/",t);return v.a.createElement("img",o({className:"cmpAssetImage",src:u,alt:t},T()(r,E)))}}]),t}(g.PureComponent)},,function(e,t,n){"use strict";function r(){o.a.showModal({modal:"ErrorModal"})}Object.defineProperty(t,"__esModule",{value:!0}),t.showErrorModal=r;var o=n(48);t.default={showErrorModal:r}},function(e,t,n){"use strict";function r(e,t){var n=e.width/e.height,r=t.width/t.height;return Math.abs(n-r)<.001}function o(e,t,n){var o=Object(K.a)();o._discardActiveObject();var a=o.getArtboard(),i=o.getObjects().filter(function(e){return e!==n}),c=i.filter(function(e){return e.isContainedWithinObject(a,!0)}),u=i.filter(function(e){return e.intersectsWithObject(a,!0)&&-1===c.indexOf(e)}),l=i.filter(function(e){return-1===c.indexOf(e)&&-1===u.indexOf(e)}),s=r(e,t);if(i.length){var f,d=t.width/e.width,p=t.height/e.height;if(c.length){var h=new R.fabric.Group(c),b=h.width,m=h.height;if(s)f=d;else{var g=b/e.width,v=m/e.height,y=Math.max(g,v),O=Object(X.c)(h,t);f=O*y}var S=h.aCoords.tl.x/e.width,w=1-h.aCoords.br.x/e.width,j=1-h.aCoords.br.y/e.height,T=h.aCoords.tl.y/e.height,E=b*f,C=m*f,k=t.width-E,x=t.height-C,P=k*S/(S+w),_=x*T/(T+j),I=h.left,N=h.top;h.left=P+E/2,h.top=_+C/2,h.scaleX=f,h.scaleY=f;var M=h.item(0),A=M.calcTransformMatrix();h.left=I,h.top=N,h.scaleX=1,h.scaleY=1,h.destroy();var D=new R.fabric.Group(c.concat(u));D.scaleX=f,D.scaleY=f;var L=D.item(0),G=L.calcTransformMatrix();D.left+=A[4]-G[4],D.top+=A[5]-G[5],D.destroy(),l.forEach(function(e){e.scaleX*=f,e.scaleY*=f,e.top*=p,e.left*=d})}else i.forEach(function(e){e.left*=d,e.top*=p,e.scaleX*=d,e.scaleY*=d});i.forEach(function(e){"editorTextBox"===e.type&&q.a.scaleProperties(e,e.scaleX),"userImage"===e.type&&e.scaleX>J&&Object(Z.n)({fileTitle:e.fileTitle||e.imageId})})}}function a(e,t,n){if(r(t,n)){var o=n.width/t.width;e.scaleX*=o,e.scaleY*=o,e.top*=o,e.left*=o}else{var a=Object(K.a)(),i=a.getArtboard(),c=i.angle;i.rotate(e.angle);var u=i.getBounds();i.rotate(c);var l=Object(X.b)(e,u);e.scaleX=l,e.scaleY=l,e.top=i.top,e.left=i.left}}function i(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(u,r,o,a,c,"next",e)}function c(e){i(u,r,o,a,c,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return Object(A.fromJS)(I()({id:Math.floor(9900*Math.random()+100),custom:!0},M()(e,["width","height","label"])))}function d(e,t){var n=t.ignoreObjects,r=void 0!==n&&n,o=t.nextBackground;de(e,{ignoreObjects:r,nextBackground:void 0===o?null:o});var a=P.default.evaluate(re.d);P.default.dispatch($.m,{pageId:a,width:Math.round(e.width),height:Math.round(e.height)})}function p(e){return h.apply(this,arguments)}function h(){return h=c(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t,e.t0){e.next=5;break}return e.next=4,Object(ee.a)({type:"GET",url:fe,dataType:"json"});case 4:e.t0=e.sent;case 5:return n=e.t0,Object(G.d)(n.presets),e.abrupt("return",n.presets);case 8:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function b(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=P.default.evaluate(F.c.customPresets),r=f(e);return n=n.unshift(r),Object(G.d)(n),t&&E(n),r}function m(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=P.default.evaluate(F.c.customPresets);n=n.filterNot(function(t){return t.get("id")===e}),Object(G.d)(n),t&&E(n)}function g(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=P.default.evaluate(F.c.customPresets);r=r.map(function(n){return n.get("id")===e?n.merge(t):n}),Object(G.d)(r),n&&E(r)}function v(){P.default.dispatch(le.c)}function y(){P.default.dispatch(le.a,-1)}function O(e){P.default.dispatch(le.a,e),Object(H.c)({modal:"DeletePresetModal"})}function S(){var e=P.default.evaluate(se.a.requestDeletePresetId);y(),ge.deleteCustomPreset(e),Object(H.b)()}function w(){y(),Object(H.b)()}function j(e){Object(D.g)({Modal:L.a,props:{preset:e.toJS(),locked:P.default.evaluate(se.a.lockedRatio),displayUnits:P.default.evaluate(z.g)}})}function T(e){var t=Object(Q.b)(e);return me=me.then(function(){return Object(ee.a)({type:"POST",url:fe,contentType:"application/json",dataType:"json",data:t})}).then(function(e){return Object(ue.a)(1e3).then(function(){return e})})}function E(e){return ge.ajaxCustomPresets(e).catch(function(t){return ne.a.noticeError(t),Object(te.showErrorModal)(),e})}function C(e){P.default.dispatch(le.b,e)}function k(e,t,n){if(n!==ie.c){var r=z.h(t.width,e),o=z.h(t.height,e);ge.applyPreset({width:r,height:o},{shouldSave:!1});Object(K.a)().fire("setData")}W.default.setPrintResolution(n,e),W.default.setRulerUnits(n),ce.a.takeSnapshot(),P.default.evaluate(U.I)&&W.default.autoSave()}function x(e){W.default.setPrintResolution(e),W.default.setRulerUnits(e),ce.a.takeSnapshot(),P.default.evaluate(U.I)&&W.default.autoSave()}var P=n(1),_=n(1385),I=n.n(_),N=n(69),M=n.n(N),A=n(12),R=n(8),D=n(25),L=n(679),G=n(554),B=n(117),F=n(49),z=n(163),U=n(17),H=n(48),W=n(65),V=n(122),K=n(6),X=n(87),Y=n(22),q=n(193),Z=n(79),J=P.default.evaluate(Y.n),$=n(110),Q=n(18),ee=n(43),te=n(130),ne=n(44),re=n(14),oe=n(80),ae=n(30),ie=n(116),ce=n(39),ue=n(120),le=n(706),se=n(381);n.d(t,"b",function(){return he}),n.d(t,"c",function(){return be}),t.a=b,t.h=m,t.d=O,t.f=S,t.e=w,t.i=j,t.j=C,t.k=x;var fe=Object(Q.e)("userSettings"),de=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.ignoreObjects,r=void 0!==n&&n,i=t.nextBackground,c=void 0===i?null:i,u=P.default.evaluate(re.b).toJS(),l=Object(K.a)(),s=l.getBackgroundImage();V.b.adaptArtboardToNewPageValues(e),s&&a(s,u,e),r||o(u,e,s||c)},pe=Object(oe.a)(function(e){0===P.default.evaluate(B.a).get("id")&&Object(G.b)({id:-1,label:""}),d(e,{ignoreObjects:!0}),Object(K.a)().fire("save",{autoSave:P.default.evaluate(ae.g)})}),he=Object(oe.a)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.toJS&&(e=e.toJS()),e.height=Math.round(e.height),e.width=Math.round(e.width);var n=l({shouldSave:!0},t);d(e,t),Object(G.b)(e);var r=Object(K.a)();n.shouldSave&&r.fire("save",{autoSave:P.default.evaluate(ae.g)}),r.requestRenderAll()}),be=function(){var e=Object(K.a)(),t=e.getActiveObjects();if(he.apply(void 0,arguments),t.length>1){var n=new R.fabric.ActiveSelection(t,{canvas:e});e.setActiveObject(n)}else 1===t.length&&e.setActiveObject(t[0])},me=Promise.resolve(),ge={deleteCustomPreset:m,ajaxCustomPresets:T,applyPreset:he};t.g={_applyDimensionsOnCanvas:de,applyDimensions:pe,applyPreset:he,applyPresetMaintainSelected:be,fetchCustomPresets:p,addCustomPreset:b,deleteCustomPreset:m,updateCustomPreset:g,showCustomPresets:v,resetDeletePresetState:y,askPresetDeleteConfirmation:O,confirmPresetDelete:S,cancelPresetDelete:w,editPreset:j,ajaxCustomPresets:T,saveCustomPresets:E,lockAspectRatio:C,setDocumentDpi:k,setDocumentUnits:x,helpers:ge}},,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=T();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=n(0),k=n.n(C),x=n(4),P=n.n(x),_=n(23),I=n(89),N=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"getHeaderCloseHandler",function(){var t=e.props.onCloseClick;if(t)return t()}),e}c(t,e);var n=l(t);return i(t,[{key:"getCircleStyle",value:function(){var e=this.props.scrolled;return{transform:e?"scale(0)":"scale(1)",opacity:e?0:1}}},{key:"getHeaderTextStyle",value:function(){var e=this.props.scrolled;return{transform:e?"translateY(0)":"translateY(10px)",opacity:e?1:0}}},{key:"getHeaderImage",value:function(){return k.a.createElement("img",{src:this.props.headerImage,alt:"shutterstock logo",className:"modal-header-image"})}},{key:"render",value:function(){return k.a.createElement("div",{className:"alt-modal-header",style:{backgroundColor:this.props.color}},this.props.headerImage&&this.getHeaderImage(),this.getHeaderText(),this.props.showHeaderCloseBtn&&k.a.createElement(_.b,{name:"close",onClick:this.getHeaderCloseHandler}),this.props.showAlertIcon&&k.a.createElement("div",{className:"circle",style:this.getCircleStyle()},this.props.iconName&&k.a.createElement(_.b,{name:this.props.iconName,style:{color:this.props.color}})))}},{key:"getHeaderText",value:function(){return this.props.title?k.a.createElement("div",{className:"alt-modal-header-text",style:this.getHeaderTextStyle()},k.a.createElement(_.b,{name:this.props.iconName,style:{color:"inherit"}}),k.a.createElement("span",null,this.props.title)):null}}]),t}(C.PureComponent);h(N,"defaultProps",{showAlertIcon:!0});var M=Object(I.a)({onCloseClick:"trackCloseLabel"})(N),A=n(25);n.d(t,"a",function(){return R});var R=function(e){function t(){return m(this,t),n.apply(this,arguments)}y(t,e);var n=S(t);return v(t,[{key:"render",value:function(){return k.a.createElement("div",{className:P()("alt-modal",this.props.className),id:this.props.id||null,style:this.props.style,onDragOver:this.props.onDragOver,onDragEnter:this.props.onDragEnter,onDragLeave:this.props.onDragLeave},!this.props.hideHeader&&k.a.createElement(M,{color:this.props.color,iconName:this.props.iconName||"icon-modal",trackCloseLabel:this.props.closeDataTrack||null,onCloseClick:this.props.onHeaderCloseBtn||A.a,scrolled:this.props.scrolled,title:this.props.title,showAlertIcon:void 0===this.props.showAlertIcon&&!0||this.props.showAlertIcon,showHeaderCloseBtn:this.props.showHeaderCloseBtn,headerImage:this.props.headerImage}),k.a.createElement("div",{className:"alt-modal-body",onScroll:this.props.onScroll},this.props.children))}}]),t}(C.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(R,"defaultProps",{showHeaderCloseBtn:!0})},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(33),o=Object(r.a)(["Locale"]),a=Object(r.a)(o.concat(["currentLang"])),i=Object(r.a)(o,a,function(e,t){return e.getIn(["strings",t])}),c=Object(r.a)(o.concat(["explicit"]));t.b={locale:o,currentLang:a,tr:i,explicit:c}},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return C});var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(4),O=n.n(y),S=n(133),w=n(456),j=n(670),T=n.n(j),E=n(152),C=function(e){function t(e){var r,a=e.initialInputValue,i=e.initialCheckboxChecked;return o(this,t),r=n.call(this),h(f(r),"onCheckboxChange",r.onCheckboxChange.bind(f(r))),h(f(r),"onInputChange",r.onInputChange.bind(f(r))),h(f(r),"onInputKeyDown",r.onInputKeyDown.bind(f(r))),h(f(r),"useDefaultResultValueGetter",r.useDefaultResultValueGetter.bind(f(r))),h(f(r),"onPrimaryButtonClick",r.onPrimaryButtonClick.bind(f(r))),h(f(r),"onAlternativeActionClick",r.onAlternativeActionClick.bind(f(r))),r.state={inputValue:a||"",checkboxChecked:i||!1},r}c(t,e);var n=l(t);return i(t,[{key:"componentWillMount",value:function(){if(!this.useDefaultResultValueGetter()&&"function"!=typeof this.props.getResultValueOverride)throw new Error("Please provide a 'getResultValueOverride' function, which will be passed the instance, and the return value of which the modal will resolve with")}},{key:"render",value:function(){var e=T()(this.props);return e.style=e.style||{},e.style.width=e.width||400,m.a.createElement(S.a,e,m.a.createElement(w.a,{title:this.props.title,message:this.props.message}),this.getInput(),this.props.preButtonMessage&&m.a.createElement("p",{className:"alt-modal-note"},this.props.preButtonMessage),this.getCheckbox(),this.getContents(),this.getImage(),this.getButtons(),this.getAlternativeAction())}},{key:"inputShouldBeVisible",value:function(){var e=this.props,t=e.placeholder,n=e.initialInputValue;return"string"==typeof t||"string"==typeof n}},{key:"getInput",value:function(){var e=this;return this.inputShouldBeVisible()?m.a.createElement("input",{autoFocus:!0,onFocus:this.onInputFocus,className:"alt-modal-input",onChange:this.onInputChange,placeholder:this.props.placeholder||"",onKeyDown:this.onInputKeyDown,value:this.state.inputValue,ref:function(t){e.input=t}}):null}},{key:"getImage",value:function(){if(this.props.imgSource)return m.a.createElement("img",{src:this.props.imgSource,alt:"introduction",className:"modal-image"})}},{key:"primaryActionShouldBeDisabled",value:function(){var e=this.state.inputValue;return this.inputShouldBeVisible()&&0===e.trim().length}},{key:"getCheckbox",value:function(){return this.props.checkboxLabel?m.a.createElement("div",{className:"alt-modal-checkbox"},m.a.createElement("label",null,m.a.createElement("input",{className:"alt-modal-checkbox-input",type:"checkbox",value:"on","data-track":this.props.checkboxDataTrack,onChange:this.onCheckboxChange}),m.a.createElement("span",{className:"alt-modal-checkbox-label"},this.props.checkboxLabel))):null}},{key:"getButtons",value:function(){var e=[];if(this.props.primaryActionLabel){var t=this.primaryActionShouldBeDisabled();e.push(m.a.createElement("button",{key:"primary",autoFocus:!this.inputShouldBeVisible(),className:O()("btn btn-lg btn-primary",this.props.primaryActionClass),disabled:t,"data-track":"".concat(this.props.primaryActionDataTrack).concat(t?"-disabled":""),onClick:this.onPrimaryButtonClick},this.props.primaryActionLabel))}return this.props.secondaryActionLabel&&e.push(m.a.createElement("button",{key:"secondary",className:O()("btn btn-lg btn-default-light",this.props.secondaryActionClass),"data-track":this.props.secondayActionDataTrack,onClick:this.props.secondaryAction||this.props.reject.bind(null,void 0)},this.props.secondaryActionLabel)),e.length?m.a.createElement("div",{className:"alt-modal-buttons"},e):null}},{key:"getContents",value:function(){var e=this.props.content;return e||null}},{key:"onCheckboxChange",value:function(e){this.setState({checkboxChecked:e.target.checked}),this.props.onCheckboxChange&&this.props.onCheckboxChange(e.target.checked)}},{key:"onInputFocus",value:function(e){var t=e.target,n=t.value;n&&(t.selectionStart=0,t.selectionEnd=n.length)}},{key:"onInputChange",value:function(e){this.setState({inputValue:e.target.value}),this.props.onChange&&this.props.onChange(e)}},{key:"onInputKeyDown",value:function(e){if(e.keyCode===E.e){if(this.primaryActionShouldBeDisabled())return;this.props.primaryAction&&this.props.primaryAction(e.target.value),this.props.resolve(e.target.value)}else e.keyCode===E.f&&this.props.reject()}},{key:"useDefaultResultValueGetter",value:function(){return!(this.props.checkboxLabel&&this.inputShouldBeVisible())}},{key:"getResultValue",value:function(){return this.useDefaultResultValueGetter()?this.props.checkboxLabel?this.state.checkboxChecked:this.input?this.input.value:null:this.props.getResultValueOverride(this)}},{key:"onPrimaryButtonClick",value:function(){var e=this.getResultValue();this.props.primaryAction&&this.props.primaryAction(e),this.props.resolve(e)}},{key:"getAlternativeAction",value:function(){var e=this.props,t=e.alternativeActionLabel,n=e.alternativeActionDataTrack;return t?m.a.createElement("p",{className:"alt-modal-bypass-action"},m.a.createElement("a",{href:"#",onClick:this.onAlternativeActionClick,"data-track":n},t)):null}},{key:"onAlternativeActionClick",value:function(e){e.preventDefault(),this.props.alternativeAction&&this.props.alternativeAction()}}]),t}(b.PureComponent);C.propTypes={resolve:v.a.func.isRequired,reject:v.a.func.isRequired}},function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return m});var r=n(33),o=Object(r.a)(["Lightbox"]),a=Object(r.a)(o.concat(["lightboxes"])),i=Object(r.a)(o.concat(["activeLightboxId"])),c=Object(r.a)(o.concat(["activeImageInfo"])),u=Object(r.a)(a,i,function(e,t){return e.find(function(e){return e.get("id")===t})}),l=Object(r.a)(o.concat(["lightboxRequestPending"])),s=Object(r.a)(o.concat(["lightboxesRequestPending"])),f=Object(r.a)(o.concat(["recentlyViewedImages"])),d=Object(r.a)(o.concat(["lightboxError"])),p=Object(r.a)(o.concat(["pageSize"])),h=Object(r.a)(o.concat(["totalItemCount"])),b=Object(r.a)(o.concat(["pageNumber"])),m=Object(r.a)(o.concat(["firstLoadComplete"]));t.d={lightbox:o,lightboxes:a,activeLightboxId:i,activeImageInfo:c,activeLightbox:u,lightboxRequestPending:l,lightboxesRequestPending:s,recentlyViewedImages:f,lightboxError:d,pageSize:p,totalItemCount:h,pageNumber:b,firstLoadComplete:m}},function(e,t,n){"use strict";function r(){var e=Object(B.a)(),t=e.getArtboard(),n=t.getBounds(),r=.005*n.height,o=.005*n.width,a=Math.min(r,o);return Math.round(a/(1+e.getZoom()))}function o(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=t||e.canvas.getArtboard(),a=n*e.canvas.backgroundSnapMultiple,c=S(e.getBounds()),u=S(o.getBounds()),l={};return l.snaps={top:!1,bottom:!1,left:!1,right:!1,hCenter:!1,vCenter:!1},l.verticalLock=r.top||r.bottom||r.vCenter,l.horizontalLock=r.left||r.right||r.hCenter,l.newTop=c.top,l.newLeft=c.left,V.forEach(function(e){Object.assign(l,e(c,u,n,l))}),i(e,o)&&W.forEach(function(e){Object.assign(l,e(c,u,a,l))}),{top:l.newTop,left:l.newLeft,snapLocations:l.snaps}}function a(e,t,n){return z()(e,t-n,t+n+1)}function i(e,t){return e.onMoveStart&&e.onMoveStart.isBackground&&e.canvas.getArtboard()===t}function c(e,t,n,r){var o=r.verticalLock,i=r.newTop,c=r.snaps;return a(e.top,t.top,n)&&(o||(i=t.original.top),o&&!a(i,t.top,1)||(o=!0,c.top=!0)),{verticalLock:o,newTop:i,snaps:c}}function u(e,t,n,r){var o=r.verticalLock,i=r.newTop,c=r.snaps;return a(e.top,t.bottom,n)&&(o||(i=t.original.bottom),o&&!a(i,t.bottom,1)||(o=!0,c.top=!0)),{verticalLock:o,newTop:i,snaps:c}}function l(e,t,n,r){var o=r.verticalLock,i=r.newTop,c=r.snaps;return a(e.bottom,t.top,n)&&(o||(i=t.original.top-e.original.height),o&&!a(i+e.height,t.top,1)||(o=!0,c.bottom=!0)),{verticalLock:o,newTop:i,snaps:c}}function s(e,t,n,r){var o=r.verticalLock,i=r.newTop,c=r.snaps;return a(e.bottom,t.bottom,n)&&(o||(i=t.original.bottom-e.original.height),o&&!a(i+e.height,t.bottom,1)||(o=!0,c.bottom=!0)),{verticalLock:o,newTop:i,snaps:c}}function f(e,t,n,r){var o=r.verticalLock,i=r.newTop,c=r.snaps;return a(e.vCenter,t.vCenter,n)&&(o||(i=t.original.vCenter-e.original.height/2),o&&!a(i+e.height/2,t.vCenter,1)||(o=!0,c.vCenter=!0)),{verticalLock:o,newTop:i,snaps:c}}function d(e,t,n,r){var o=r.horizontalLock,i=r.newLeft,c=r.snaps;return a(e.left,t.left,n)&&(o||(i=t.original.left),o&&!a(t.left,i,1)||(o=!0,c.left=!0)),{horizontalLock:o,newLeft:i,snaps:c}}function p(e,t,n,r){var o=r.horizontalLock,i=r.newLeft,c=r.snaps;return a(e.left,t.right,n)&&(o||(i=t.original.right),o&&!a(t.right,i,1)||(o=!0,c.left=!0)),{horizontalLock:o,newLeft:i,snaps:c}}function h(e,t,n,r){var o=r.horizontalLock,i=r.newLeft,c=r.snaps;return a(e.right,t.left,n)&&(o||(i=t.original.left-e.original.width),o&&!a(i+e.width,t.left,1)||(o=!0,c.right=!0)),{horizontalLock:o,newLeft:i,snaps:c}}function b(e,t,n,r){var o=r.horizontalLock,i=r.newLeft,c=r.snaps;return a(e.right,t.right,n)&&(o||(i=t.original.right-e.original.width),o&&!a(i+e.width,t.right,1)||(o=!0,c.right=!0)),{horizontalLock:o,newLeft:i,snaps:c}}function m(e,t,n,r){var o=r.horizontalLock,i=r.newLeft,c=r.snaps;return a(e.hCenter,t.hCenter,n)&&(o||(i=t.original.hCenter-e.original.width/2),o&&!a(i+e.width/2,t.hCenter,1)||(o=!0,c.hCenter=!0)),{horizontalLock:o,newLeft:i,snaps:c}}function g(e,t,n,r){return e.top>t.top?c(e,t,n,r):r}function v(e,t,n,r){return e.bottom<t.bottom?s(e,t,n,r):r}function y(e,t,n,r){return e.left>t.left?d(e,t,n,r):r}function O(e,t,n,r){return e.right<t.right?b(e,t,n,r):r}function S(e){var t={};return t.height=Math.floor(e.height),t.width=Math.floor(e.width),t.top=Math.floor(e.top),t.left=Math.floor(e.left),t.vCenter=t.top+t.height/2,t.hCenter=t.left+t.width/2,t.right=t.left+t.width,t.bottom=t.top+t.height,t.original=e,t.original.vCenter=e.top+e.height/2,t.original.hCenter=e.left+e.width/2,t.original.right=e.left+e.width,t.original.bottom=e.top+e.height,t}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(t.e&&(t.e.ctrlKey||t.e.metaKey)){var n=Object(B.a)();if(e===n.getActiveObject()&&!e.isCropping){var r=t.e.deltaY>0?.95:1.05;(!(e.scaleX>10&&e.scaleY>10&&r>1)||r<1)&&(e.beforeVals&&(e.beforeVals.scaleX*=r,e.beforeVals.scaleY*=r),e.scaleX*=r,e.scaleY*=r,n.clearContext(n.contextTop),n.requestRenderAll(),e.fire("onMouseWheelEnd"))}}}function k(e,t){e.isRotating=!0,t&&t.shiftKey?(e.snapAngle=0,e.snapThreshold=0):(e.snapAngle=K.fabric.Object.prototype.snapAngle,e.snapThreshold=K.fabric.Object.prototype.snapThreshold)}function x(e,t){if(!e.isCropping){e.onMoveStart||_(e,t),P(e,t);var n=e.top,a=e.left,i=[],c=Object(B.a)(),u=t.shiftKey?[]:c.getObjects().slice();u.unshift(c.getArtboard());var l={},s=r();u.forEach(function(t){if(!(t.group||t===e||l.top&&l.vCenter&&l.bottom&&l.left&&l.hCenter&&l.right)){var r=e.getBounds(),c=o(e,t,s,l),u=c.top,f=c.left,d=c.snapLocations,p=u+r.height/2,h=f+r.width/2,b=d.top||d.bottom||d.vCenter;p!==n&&b&&(e.top=p,l.top=d.top||l.top,l.bottom=d.bottom||l.bottom,l.vCenter=d.vCenter||l.vCenter);var m=d.left||d.right||d.hCenter;h!==a&&m&&(e.left=h,l.left=d.left||l.left,l.right=d.right||l.right,l.hCenter=d.hCenter||l.hCenter),"editorArtboard"!==t.type&&(d.top||d.bottom||d.left||d.right||d.vCenter||d.hCenter)&&(t.snapLocations=d,i.push(t))}}),e.onMoveStart.isBackground!==e.isBackground()&&_(e),c.snappedObjects=i,c.guides=l}}function P(e,t){var n=Object(B.a)();if(t.shiftKey){if(e.shiftPressCache||I(e,t),e.lockMovementX&&(n.moveCursor="ns-resize"),e.lockMovementY&&(n.moveCursor="ew-resize"),!1===e.lockMovementX&&!1===e.lockMovementY){var r=Math.abs(e.shiftPressCache.top-e.top),o=Math.abs(e.shiftPressCache.left-e.left),a=r+o;r>o&&a>10?(e.lockMovementX=!0,e.lockMovementY=!1):o>r&&a>10&&(e.lockMovementY=!0,e.lockMovementX=!1)}}else n.moveCursor="move",e.lockMovementX=!1,e.lockMovementY=!1,e.shiftPressCache&&delete e.shiftPressCache}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.movementY||0,r=t.movementX||0,o=Object(B.a)();e.onMoveStart={top:e.top-=n/o.getZoom(),left:e.left-=r/o.getZoom(),isBackground:N(e)}}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.movementY||0,r=t.movementX||0,o=Object(B.a)();e.shiftPressCache={top:e.top-=n/o.getZoom(),left:e.left-=r/o.getZoom(),isBackground:N(e)}}function N(e){var t=e.top,n=e.left,r=t,o=n;e.top=e.onMoveStart&&e.onMoveStart.top||t,e.left=e.onMoveStart&&e.onMoveStart.left||n;var a=Object(B.a)(),i=2/a.getZoom(),c=e.isBackground(i);return e.top=r,e.left=o,c}var M=n(174),A=n.n(M),R=n(71),D=n.n(R),L=n(166),G=n.n(L),B=n(6),F=n(666),z=n.n(F),U=[c,u,l,s,f],H=[d,p,h,b,m],W=[g,v,y,O],V=U.concat(H),K=n(8);n.d(t,"a",function(){return X}),n.d(t,"c",function(){return Y}),n.d(t,"b",function(){return C}),n.d(t,"e",function(){return k}),n.d(t,"d",function(){return x});var X=function(){function e(t){w(this,e),E(this,"onMouseWheelEnd",Y.bind(this)),this.onSelected=this.onSelected.bind(this),this.onModified=this.onModified.bind(this),this.onRotate=this.onRotate.bind(this),this.onHover=this.onHover.bind(this),this.onHoverOut=this.onHoverOut.bind(this),this.onMoving=this.onMoving.bind(this),this.onMouseWheel=this.onMouseWheel.bind(this),this.onMouseWheelEnd=this.onMouseWheelEnd.bind(this),this.onDeselect=this.onDeselect.bind(this),this.fabricObject=t}return T(e,[{key:"bindEvents",value:function(){this.fabricObject.on("modified",this.onModified),this.fabricObject.on("onMouseWheelEnd",this.onMouseWheelEnd),this.fabricObject.on("selected",this.onSelected),this.fabricObject.on("rotating",this.onRotate),this.fabricObject.on("mouseover",this.onHover),this.fabricObject.on("mouseout",this.onHoverOut),this.fabricObject.on("moving",this.onMoving),this.fabricObject.on("deselected",this.onDeselect),this.fabricObject.on("mousewheel",G()(this.onMouseWheel,50,{leading:!0}))}},{key:"unbindEvents",value:function(){this.fabricObject.off()}},{key:"onModified",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({shouldSave:!0},e),n=this.fabricObject;if(n.lastGoodLeft=n.left,n.lastGoodTop=n.top,n.__corner=0,n.isRotating=!1,n.isScaling=!1,n.onMoveStart=null,t.shouldSave){Object(B.a)().fire("save",{target:t.isBackground?null:n})}}},{key:"onHover",value:function(){var e=Object(B.a)();this.isActiveObject()||this.fabricObject.group||!this.fabricObject.selectable||e.requestRenderAll(),this.fabricObject.__corner&&(this.fabricObject.__corner=0,e.requestRenderAll())}},{key:"onHoverOut",value:function(){if(!this.isActiveObject()&&!this.fabricObject.group){Object(B.a)().requestRenderAll()}}},{key:"onSelected",value:function(){this.fabricObject.hasControls=!0}},{key:"onDeselect",value:function(){this.fabricObject.isLocked&&(this.fabricObject.selectable=!1)}},{key:"isActiveObject",value:function(){var e=Object(B.a)();return A()(this.fabricObject,e.getActiveObject())}},{key:"onRotate",value:function(e){k(this.fabricObject,e.e)}},{key:"onMoving",value:function(e){x(this.fabricObject,e.e)}},{key:"onMouseWheel",value:function(e){if(this.fabricObject.isLocked)return!1;C(this.fabricObject,e)}}]),e}(),Y=D()(function(){this.fabricObject.setCoords(),this.onModified()},200)},function(e,t,n){"use strict";var r=n(8),o=(n.n(r),n(95)),a=r.fabric.util.createClass(o.a,{type:"GammaFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec3 uGamma;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec3 correction = (1.0 / uGamma);\n      color.r = pow(color.r, correction.r);\n      color.g = pow(color.g, correction.g);\n      color.b = pow(color.b, correction.b);\n      gl_FragColor = color;\n      gl_FragColor.rgb *= color.a;\n    }",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){if(e=e||{},e.rGamma&&e.bGamma&&e.gGamma&&(this.gamma=[e.rGamma,e.gGamma,e.bGamma]),"gamma"in e){var t=e,n=t.gamma;Array.isArray(n)||(e.gamma=[n,n,n])}this.callSuper("initialize",e)},applyTo2d:function(e){var t=e.imageData,n=t.data,r=1/this.gamma[0],o=1/this.gamma[1],a=1/this.gamma[2];null==this.rVals&&(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256));for(var i=0;i<256;i++)this.rVals[i]=255*Math.pow(i/255,r),this.gVals[i]=255*Math.pow(i/255,o),this.bVals[i]=255*Math.pow(i/255,a);for(var c=0,u=n.length;c<u;c+=4)n[c]=this.rVals[n[c]],n[c+1]=this.gVals[n[c+1]],n[c+2]=this.bVals[n[c+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)},toObject:function(){return r.fabric.util.object.extend(this.callSuper("toObject"),{gamma:this.gamma.slice()})}});a.fromObject=r.fabric.Image.filters.EnhancedFilter.fromObject,r.fabric.Image.filters||(r.fabric.Image.filters={}),r.fabric.Image.filters.GammaFilter=a,t.a=a},,function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"j",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return s}),n.d(t,"b",function(){return f}),n.d(t,"d",function(){return d});var r=9,o=13,a=27,i=37,c=38,u=39,l=40,s=109,f=189,d=69},function(e,t,n){"use strict";function r(e){var t=v.default.evaluate(_.i).get("canAddPage");if(T.a.click("pagePanel.addPage",{source:e,denied:!t}),t){var n=Object(j.generate)(),r=v.default.evaluate(_.d);return v.default.dispatch(I.a,{id:n,activePageId:r}),c(n).then(function(){return k.a.refreshThumbnailById(n)}).then(function(){return i()})}return Object(w.o)(),Promise.resolve()}function o(e,t){v.default.dispatch(I.e,{dragIndex:e,hoverIndex:t}),i()}function a(e,t){v.default.dispatch(I.f,{pageId:e,beforeId:t}),i()}function i(){C.a.takeSnapshot(),v.default.dispatch(S.M,{loadedTimeStamp:Date.now()}),x.default.autoSave()}function c(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=v.default.evaluate(_.a),o=r.get("id");if(!t&&e===o)return Promise.resolve();Object(P.b)();var a={skipReactivation:!0};E.b.updateCoordsAndStateDebounced.flush();var i=function(){v.default.dispatch(I.n,e),v.default.dispatch(S.e,o),v.default.dispatch(S.O)};return n||k.a.refreshThumbnail(r),O.c(e)?(v.default.dispatch(S.G,"searchProgress"),O.a(e).then(function(){return i(),y.b.putStateIntoCanvas(e,a).then(function(){return v.default.dispatch(S.G,null)})})):(i(),y.b.putStateIntoCanvas(e,a))}function u(e){v.default.dispatch(I.o,e)}function l(e){v.default.dispatch(I.p,e)}function s(e,t){var n=v.default.evaluate(_.d),r=e||n;if(v.default.dispatch(I.b,r),e===n){n=v.default.evaluate(_.d);M.selectPage(n,!0,!0)}k.a.removeThumbnail(r),T.a.click("panel.page-delete",{source:t}),i()}function f(e,t){var n=v.default.evaluate(_.i).get("canAddPage");if(!n)return Object(w.o)();var r=v.default.evaluate(_.d);e===r&&Object(P.b)();var o=e||r,a=v.default.evaluate(_.q);if(a.size>1){var l=a.map(function(e){return e.get("id")}),s=l.last(),f=v.default.evaluate(Object(_.m)(s)),d=l.reverse().map(function(e){var t=Object(j.generate)();return v.default.dispatch(I.d,{pageId:e,newId:t,position:f}).then(function(){k.a.refreshThumbnailById(t)}),t});c(d.last()),u(d.first())}else{var p=Object(j.generate)();v.default.dispatch(I.d,{pageId:o,newId:p}).then(function(){c(p).then(function(){k.a.refreshThumbnailById(p)})})}i(),T.a.click("pagePanel.duplicatePage",{source:t,denied:!n})}function d(e,t,n){v.default.dispatch(n,e||v.default.evaluate(_.d)),i(),T.a.click("pagePanel.".concat(n.split("_").map(function(e){return"".concat(e[0]).concat(e.slice(1).toLowerCase())}).join("")),{source:t})}function p(e,t){d(e,t,I.j)}function h(e,t){d(e,t,I.h)}function b(e,t){d(e,t,I.i)}function m(e,t){d(e,t,I.g)}function g(e){v.default.dispatch(N.c,e)}var v=n(1),y=n(122),O=n(708),S=n(19),w=n(79),j=n(190),T=(n.n(j),n(7)),E=n(57),C=n(39),k=n(109),x=n(65),P=n(80),_=n(14),I=n(110),N=n(494),M={addPage:r,movePageAt:a,moveByIndex:o,selectPage:c,deletePage:s,duplicatePage:f,movePageUp:p,movePageDown:h,movePageEnd:b,movePageBeginning:m,setPageSelectionRange:u,togglePageSelection:l,setMaxPages:g};t.a=M},function(e,t,n){"use strict";function r(e){var t=f()(e,{id:m++,type:"error",message:"",dismissAfter:null,dismissable:!0});u.default.dispatch(l.C,t)}function o(e){var t=f()(e,{id:g++,type:"toast",dismissAfter:null,dismissable:!1});u.default.dispatch(l.H,t)}function a(e){u.default.dispatch(l.f,e)}function i(e){u.default.dispatch(l.g,e)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=u.default.evaluate(h.B.editorImages),r=u.default.evaluate(p.h.imageObjectLimit),o=u.default.evaluate(h.B.backgroundImage);return t>1&&(e=!1),e&&o&&"editorImage"===o.type&&r++,n.length+t>r&&!b.b.isEnabled("ignoreImageObjectLimit")&&(Object(d.m)(),!0)}t.e=r,t.f=o,t.a=a,t.b=i,t.d=c;var u=n(1),l=n(19),s=n(332),f=n.n(s),d=n(79),p=n(22),h=n(17),b=n(15),m=0,g=0;t.c={flashAlert:r,toastAlert:o,closeFlashAlert:a,closeToastAlert:i,displayImageAlert:c}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=b();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){"@babel/helpers - typeof";return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t,n){return t&&S(e.prototype,t),n&&S(e,n),e}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function E(e){var t=x();return function(){var n,r=P(e);if(t){var o=P(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?k(e):t}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=n(0),N=n.n(I),M=n(4),A=n.n(M),R=n(38),D=function(e){function t(e){var r;return c(this,t),r=n.call(this,e),g(h(r),"onDragStart",function(e){r.setState({dragClass:r.props.onDragStartClass||"dragging"}),r.props.onDragStart&&r.props.onDragStart(e)}),g(h(r),"onDrag",function(e){r.setState({dragClass:r.props.onDragClass||"during-dragging"}),r.props.onDrag&&r.props.onDrag(e)}),g(h(r),"onDragEnd",function(e){r.setState({dragClass:r.props.onDragEndClass||"not-dragging"}),r.props.onDragEnd&&r.props.onDragEnd(e)}),g(h(r),"refControllerCallback",R.a.refControllerCallback.bind(h(r))),r.state={dragClass:"not-dragging"},r}s(t,e);var n=d(t);return l(t,[{key:"render",value:function(){var e=this.props,t=e.component,n=void 0===t?"div":t,r=(e.onDragStart,e.onDragEnd,e.children),i=e.className,c=e.draggable,u=e.onMouseDown,l=e.onClick,s=e.style,f=e.title,d=e.href,p=a(e,["component","onDragStart","onDragEnd","children","className","draggable","onMouseDown","onClick","style","title","href"]),h=p,b=n;return"string"==typeof b&&(h={ref:this.refControllerCallback}),N.a.createElement(b,o({},h,{className:A()(i,this.state.dragClass),draggable:c||!0,onDragStart:this.onDragStart,onDrag:this.onDrag,onDragEnd:this.onDragEnd,onClick:l,onMouseDown:u,style:s,title:f,href:d}),r)}}]),t}(I.PureComponent),L=n(6),G=n(517),B=n(391);n.d(t,"a",function(){return F});var F=function(e){function t(){var e;O(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),_(k(e),"onDragStart",function(t){var n=e.props,r=n.effectAllowed,o=n.setData,a=n.onDragStart,i=n.onCanvasDrop;o&&Object.keys(o).forEach(function(e){t.dataTransfer.setData(e,o[e])}),r&&(t.dataTransfer.effectAllowed=r),Object(B.a)()?t.dataTransfer.setData("text","dragfromapp"):t.dataTransfer.setData("dragfromapp","");var c=Object(L.a)();Object(G.c)(t.target),Object(G.d)(i),c.renderPageHighlight(c.contextTop),a&&a(t)}),_(k(e),"onDragEnd",function(t){var n=Object(L.a)();n.clearContext(n.contextTop),n.draggedElement=void 0,e.props.onDragEnd&&e.props.onDragEnd(t)}),e}j(t,e);var n=E(t);return w(t,[{key:"render",value:function(){return N.a.createElement(D,y({},this.props,{className:A()("draggabletocanvas",this.props.className,{noHoverState:!this.props.hoverState,previewable:this.props.previewable}),onDragStart:this.onDragStart,onDragEnd:this.onDragEnd}),this.props.children)}}]),t}(I.PureComponent);_(F,"defaultProps",{hoverState:!0})},,,function(e,t,n){"use strict";e.exports={action:{cancel:"Cancel","click-to-lock":"Click to lock ratio","click-to-unlock":"Click to unlock ratio",edit_preset:"Edit preset",delete_preset:"Delete preset",save:"Save",select:"Select",hover:{"preset-title":"Select type of preset","preset-dropdown":"Set preset","unit-function":"Select unit of measurement"},"change-dpi":"Select resolution"},image:{dimensions:"__WIDTH__ x __HEIGHT__ px",width:"Width","width-title":"Set width","height-title":"Set height"},preset:{emailheader:"Email Header",errors:{"enter-dimensions":"Please enter dimensions","enter-preset-name":"Please enter a preset name","max-size":"Maximum size is __WIDTH__ x __HEIGHT__ pixels","max-size-converted":"Maximum size is __WIDTH__ x __HEIGHT__ __UNITS__","max-size-converted-dpi":"Maximum size is __WIDTH__ x __HEIGHT__ __UNITS__ at __DPI__ DPI"},custom:"Custom",freeform:"Freeform",facebookcover:"Facebook Cover",facebookimage:"Facebook Image",facebooklink:"Facebook Link",facebookstory:"Facebook Story",instragrampost:"Instagram Post",instragramstory:"Instagram Story","linkedin-banner":"LinkedIn Profile Picture","linkedin-post":"LinkedIn Post","linkedin-profile":"LinkedIn Profile Picture",original:"Original",pinintrestpost:"Pinintrest Post","pinterest-post":"Pinterest Post",presentation:"Presentation",presentationwide:"Presentation Wide",twitterheader:"Twitter Header",twitterpost:"Twitter Post","ebook-cover":"E-book Cover",linkedinpost:"Linkedin Post",flyer:"Flyer",brochurecover:"Brochure Cover (A4)",postcard:"Postcard",photoprint:"Photo print",youtubeprofilepimage:"YouTube Profile Image",youtubechannelcoverphoto:"YouTube Channel Cover Photo",facebookcovernew:"Facebook Cover New",facebookcovermobile:"Facebook Cover (mobile)",twitterbanner:"Twitter Banner",businesscard:"Business Card",coupon:"Coupon",giftcertificate:"Gift Certificate",certificate:"Certificate",youtubechannelart:"YouTube Channel Art"},dimensions:{width:"Width",height:"Height"},presetsizes:{"create-preset-label":"Create custom preset size",create:"Create custom preset","create-preset-description":"Set your own preset size to use again later","custom-preset-basic-title":"You can create __LIMIT__ custom size preset for free. Upgrade to Shutterstock Editor Pro and get unlimited presets!","your-presets":"Your presets","editor-presets":"Editor presets",entername:"Enter name",dimensions:"Dimensions",canvassize:"Canvas Size",savecustomdimensions:"Save Custom Dimensions",saveaspreset:"Save as preset","saveaspreset-title":"Save current width and height as a preset",savesize:"Save size",savesizetitle:"Save custom dimensions as a preset size",select:"Select a preset size",selected:"Selected","set-custom-size-label":"Set your own image size and save for later",setcustomsize:"Set Custom Size",warning:{"cannot-undo":"NOTE: You cannot undo this.",delete:"Are you sure you want to delete your preset size?"}}}},function(e,t,n){"use strict";function r(){var e=arguments.length<=0?void 0:arguments[0];"string"!=typeof e&&(e=null),g.default.dispatch(S.f,e),Object(m.showErrorModal)()}function o(e){g.default.dispatch(S.j,e)}function a(){if(O.a.isLoggedIn()&&!g.default.evaluate(w.e))return i()}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.metrics,n=void 0===t||t,o=e.pageNumber,a=void 0===o?1:o,i=e.pageSize,c=void 0===i?10:i;n&&v.b.track("load lightbox",{source:y._39}),g.default.dispatch(S.e,a);var u=function(e){g.default.dispatch(S.l,e)},l="".concat(Object(h.e)("collections"));return Object(b.a)({contentType:"application/json",dataType:"json",type:"GET",cache:!1,data:{pageNumber:a,pageSize:c},url:l}).then(u).catch(r.bind(null,"lightboxes"))}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y._39;v.b.track("create lightbox",{source:t,lightbox_name:e});var n=function(e){var t=e.id,n=e.title,r=e.totalItemCount;return g.default.dispatch(S.b,{id:t,title:n,totalItemCount:r}),{id:t,title:n,totalItemCount:r}};return Object(b.a)({contentType:"application/json",data:JSON.stringify({title:e}),dataType:"json",type:"POST",url:Object(h.e)("collection")}).then(n).catch(r.bind(null,"addToLightbox"))}function u(e){v.b.track("delete lightbox",{source:y._39,lightbox_id:e});var t=function(t){g.default.dispatch(S.g,{id:e,transactionId:t.transactionId})},n="".concat(Object(h.e)("collection"),"/").concat(e);return Object(b.a)({contentType:"application/json",dataType:"json",type:"DELETE",url:n}).then(t).catch(r)}function l(e,t){v.b.track("rename lightbox",{source:y._39,lightbox_id:e,lightbox_name:t});var n=function(){g.default.dispatch(S.h,{id:e,title:t})},o="".concat(Object(h.e)("collection"),"/").concat(e);return Object(b.a)({contentType:"application/json",dataType:"json",type:"PATCH",data:JSON.stringify({title:t}),url:o}).then(n).catch(r)}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y._39;v.b.track("save to lightbox",{source:n,lightbox_id:t,image_id:e.id});var o=function(){g.default.dispatch(S.a,{lightboxId:t,imageObject:e})},a="".concat(Object(h.e)("collection"),"/").concat(t,"/image");return Object(b.a)({contentType:"application/json",dataType:"json",type:"PUT",data:JSON.stringify({images:[e.id]}),url:a}).then(o).catch(r)}function f(e,t){var n=function(){g.default.dispatch(S.c,{lightboxId:e,imageId:t})},o="".concat(Object(h.e)("collection"),"/").concat(e,"/image/").concat(t);return Object(b.a)({contentType:"application/json",dataType:"json",type:"DELETE",data:JSON.stringify({id:e,imageId:t}),url:o}).then(n).catch(r)}function d(e){g.default.dispatch(S.k,e)}function p(e){g.default.dispatch(S.d);var t="".concat(Object(h.e)("collection"),"/").concat(e.get("id"));return Object(b.a)({contentType:"application/json",dataType:"json",type:"GET",data:{perPage:e.get("totalItemCount")},url:t}).then(d).catch(r.bind(null,"lightbox"))}t.d=i,t.a=s,t.c=f;var h=n(18),b=n(43),m=n(130),g=n(1),v=n(7),y=n(9),O=n(64),S=n(509),w=n(148);t.b={setActiveLightboxId:o,initialLightboxLoad:a,loadLightboxes:i,addLightbox:c,deleteLightbox:u,renameLightbox:l,addToLightbox:s,deleteFromLightbox:f,getLightbox:p}},,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){b(c,r,o,a,i,"next",e)}function i(e){b(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function g(){Object(C.g)("templates")}function v(e){T.default.dispatch(H.b,e)}function y(){var e=T.default.evaluate(E.b),t=T.default.evaluate(B.a);return"assets"!==e&&Object(C.g)("assets"),"designs"!==t&&T.default.dispatch(F.b,"designs"),e}function O(e){return S.apply(this,arguments)}function S(){return S=m(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.id,r=t.activeDesign,o=t.hasUnsavedChanges,a=t.applyPartial,i=void 0!==a&&a,c=!1,Object(z.b)(),!D.b.isEnabled("autoSave")){e.next=12;break}if(!T.default.evaluate(G.g)){e.next=8;break}return e.next=7,L.default.flushAutoSave({showLoader:!0});case 7:c=!0;case 8:if(o&&!i){e.next=12;break}return e.next=11,w.g(n,null,{applyPartial:i});case 11:return e.abrupt("return",e.sent);case 12:if(u=function(){Object(R.a)(),w.g(n)},l=U.a.getUndoLength()>1,!r){e.next=31;break}if(e.prev=15,c){e.next=23;break}return e.next=19,Object(R.g)({Modal:A,props:{activeDesign:r,alternativeAction:u}});case 19:return T.default.dispatch(j.G,"searchProgress"),e.next=22,w.k(r.get("id"),r.get("title"),!0);case 22:T.default.dispatch(j.G,null);case 23:return e.abrupt("return",w.g(n));case 26:e.prev=26,e.t0=e.catch(15),T.default.dispatch(j.G,"");case 29:e.next=50;break;case 31:if(!l){e.next=48;break}return e.prev=32,e.next=35,Object(R.g)({Modal:A,props:{activeDesign:r,alternativeAction:u}});case 35:return s=e.sent,T.default.dispatch(j.G,"searchProgress"),e.next=39,w.i(s);case 39:return T.default.dispatch(j.G,null),e.abrupt("return",w.g(n));case 43:e.prev=43,e.t1=e.catch(32),T.default.dispatch(j.G,"");case 46:e.next=50;break;case 48:return T.default.dispatch(j.G,"searchProgress"),e.abrupt("return",w.g(n));case 50:case"end":return e.stop()}},e,null,[[15,26],[32,43]])})),S.apply(this,arguments)}var w=n(90),j=n(19),T=n(1),E=n(99),C=n(16),k=n(0),x=n.n(k),P=n(2),_=n(339),I=n.n(_),N=n(147),M=Object(P.c)(I.a),A=function(e){function t(){return a(this,t),n.apply(this,arguments)}u(t,e);var n=s(t);return c(t,[{key:"getTitle",value:function(){var e=this.props.activeDesign;return M(e?"template-modal.save-title":"template-modal.unsave-title")}},{key:"getMessage",value:function(){return this.props.activeDesign?x.a.createElement("p",null,M("template-modal.save-sub-title")):x.a.createElement("div",null,x.a.createElement("p",null,M("template-modal.unsave-sub-title")),x.a.createElement("p",null,M("template-modal.unsave-sub-title2")))}},{key:"render",value:function(){var e=this.props,t=e.activeDesign,n=e.alternativeAction;return x.a.createElement(N.a,o({},this.props,{iconName:"icon-modal-check",title:this.getTitle(),message:this.getMessage(),placeholder:!t&&M("template-modal.save-placeholder"),primaryActionLabel:M("action.save"),secondaryActionLabel:M("action.cancel"),alternativeAction:n&&function(){n()},alternativeActionLabel:M("template-modal.small-action-label")}))}}]),t}(k.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(A,"displayName","LoadDesign");var R=n(25),D=n(15),L=n(65),G=n(30),B=n(49),F=n(121),z=n(80),U=n(39),H=n(452);t.e=g,t.d=v,t.c=y,t.b=O;t.a={startTemplate:g,setInformationOverlay:v,openDesignsPanel:y,loadDesign:O}},,function(e,t,n){"use strict";function r(e,t){var n=u.default.evaluate(l);e=+e;var r=e*t/n;return Math.round(100*r)/100}function o(e,t){return function(n){if(n=+n,e===i.c)return n;if(n/=t,e===i.b)return Math.floor(100*n)/100;var r=Object(i.d)(i.b,e)(n);return Math.floor(100*r)/100}}function a(e,t){return function(n){if(n=+n,e===i.c)return n;if(e===i.a)return Object(i.d)(i.a,i.b)(n)*t;if(n*=t,e===i.b)return Math.round(100*n)/100;var r=Object(i.d)(i.b,e)(n);return Math.round(100*r)/100}}n.d(t,"c",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"d",function(){return f}),n.d(t,"g",function(){return d}),t.h=r,n.d(t,"f",function(){return p}),n.d(t,"a",function(){return h});var i=n(116),c=n(33),u=n(1),l=function(e){return Number(Object(c.a)(["doc","printResolution","dotsPerUnit"])(e))},s=Object(c.a)(["doc","printResolution","units"]),f=Object(c.a)(["doc","printResolution","dpiMode"]),d=Object(c.a)(["doc","ruler","units"]),p=Object(c.a)(s,l,o),h=Object(c.a)(s,l,a),b=Object(c.a)(d,l,o),m=Object(c.a)(d,l,a);t.b={printResolutionDPI:l,printResolutionUnits:s,printResolutionDPIMode:f,rulerUnits:d,updatePixelValue:r,genConvertToUnits:o,genConvertToPx:a,pxToCurrentUnits:p,currentUnitsToPx:h,pxToRulerUnits:b,rulerUnitsToPx:m}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return T});var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(4),O=n.n(y),S=n(7),w=n(921),j=n(295),T=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"onCloseButtonClick",(e=r).onCloseButtonClick.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"onCloseButtonClick",value:function(){var e=this.props,t=e.closeTrack,n=e.onCloseButtonClick;t&&S.a.click(t),n&&n(t)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.overlay,o=e.showOverlay,a=e.handleBack,i=e.noClose,c=e.label,u=e.isPlaceholder,l=e.isUpperPlaceholder,s=e.forwardRef,f=O()("cmpPanel",t,{"overlay-open":o,"panel-exiting":l,"panel-entering":!l&&!u,"is-absolute":u||l}),d=c||!i;return m.a.createElement("div",{className:f,ref:s},m.a.createElement("div",{className:"cmpPanel-main"},m.a.createElement("div",{className:O()({"label-container":d})},m.a.createElement("span",{className:"cmpPanel-label"},c),!i&&m.a.createElement(w.a,{onClick:this.onCloseButtonClick})),d&&m.a.createElement("div",{className:"cmpPanel-divider"}),n),r&&m.a.createElement(j.a,{show:o,handleBack:a,onKeyDown:r.props.onKeyDown},r))}}]),t}(b.PureComponent);h(T,"propTypes",{onCloseButtonClick:v.a.func,overlay:v.a.element,showOverlay:v.a.bool,handleBack:v.a.func,noClose:v.a.bool})},function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return"".concat((Math.round(1e4*e)/100).toFixed(0),"%")}function s(e,t){var n=v()(t,T);Object.assign(e,n)}var f=n(1),d=n(8),p=n(129),h=n.n(p),b=n(71),m=n.n(b),g=n(69),v=n.n(g),y=n(19),O=n(87),S=n(467),w=n(6),j=n(824);t.d=l,t.c=s,n.d(t,"a",function(){return E}),n.d(t,"b",function(){return C}),n.d(t,"e",function(){return k});var T=["withDispatches","zoomMode","maxZoomLevel","minZoomLevel","zoomMargins","withInfinitePan","fitToPageMargins","zoomRange","zoomChangeCallback"],E=function(e){var t={id:e,withDispatches:!0,zoomMode:"manual",maxZoomLevel:5,minZoomLevel:.05,zoomMargins:100,fitToPageMargins:100,fabricCanvas:Object(w.a)(),withInfinitePan:!0,zoomRange:[.01,.02,.03,.04,.05,.0625,.125,.1875,.25,.5,.75,1,1.25,1.5,1.75,2,3,4,5],zoomChangeCallback:function(){},getColorFromCoords:function(e){var n=t.fabricCanvas.getPointer(e,!0),r=t.fabricCanvas.contextContainer.getImageData(n.x*d.fabric.devicePixelRatio,n.y*d.fabric.devicePixelRatio,1,1).data;return{rgb:{r:r[0],g:r[1],b:r[2],a:1}}},getSuggestedMargins:function(){var e=t.fabricCanvas,n=e.width,r=e.height,o=5*t.fitToPageMargins;return n<o||r<o?Math.max(Math.round(Math.min(n,r)/5),28):t.fitToPageMargins},getScaledRatio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,o=t.getSuggestedMargins();return Object(O.c)({width:n||t.fabricCanvas.getArtboard().width,height:r||t.fabricCanvas.getArtboard().height},{width:t.fabricCanvas.width-2*o,height:t.fabricCanvas.height-2*o})},captureCanvas:function(e,t,n){return e._toCanvasElement(t,n)},panCanvas:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.x,r=e.y,o=t.fabricCanvas.viewportTransform,a=o.concat();return a[4]=o[4]+n,a[5]=o[5]+r,(a[4]!==o[4]||a[5]!==o[5])&&(t.withInfinitePan||(a=t.costrainViewport(a[4],a[5],a[0])),t.fabricCanvas.viewportTransform=a,t.fabricCanvas.requestRenderAll(),!0)},zoomCanvas:function(e,n,r,o,a){var i=t.zoomMode;t.withDispatches&&1!==e&&"auto"===i&&a&&f.default.dispatch(y.Q);var c={x:n,y:r},u=t.fabricCanvas.viewportTransform.slice(0),l=t.fabricCanvas.restorePointerVpt({x:n,y:r}),s=u[0]*e;u[0]=s,u[3]=s;var p=d.fabric.util.transformPoint(l,u);u[4]+=c.x-p.x,u[5]+=c.y-p.y;var h=t.fabricCanvas.viewportTransform,b=t.costrainViewport(u[4],u[5],u[0]),m=b[0];return!(m===h[0]&&!o)&&(t.fabricCanvas.viewportTransform=b,t.fabricCanvas.requestRenderAll(),t.zoomChangeCallback(m),!0)},growToPanelChange:function(e){var n=e.widthDiff,r=e.heightDiff,o=t.fabricCanvas,a=o.getWidth(),i=o.getHeight();o.setDimensions({width:a+n,height:i+r}),o.viewportTransform[4]+=n/2,o.viewportTransform[5]+=r/2,o.setViewportTransform(o.viewportTransform),o.getArtboard()&&o.getArtboard().setCoords(),o.renderAll()},getZoomRange:function(){return t.zoomRange.map(function(e){return Math.max(e,t.getScaledRatio()/2)}).reduce(function(e,t){return e.includes(t)?e:[].concat(r(e),[t])},[])},costrainViewport:function(e,n,r){var o=t.zoomMode,a=t.getSuggestedMargins(),i=t.fabricCanvas.width,c=t.fabricCanvas.height,u=t.maxZoomLevel,l=t.getScaledRatio(),s=t.fabricCanvas.getArtboard().width,f=t.fabricCanvas.getArtboard().height,d=Math.max(t.minZoomLevel,l/2);"auto"===o?r=l:(r>u&&"manual"===o&&(r=u),r<d&&(r=d));var p,h,b=s*r,m=f*r;if(b>t.fabricCanvas.width||m>t.fabricCanvas.height?p=h=t.zoomMargins:(p=Math.min(a,t.fabricCanvas.width-b/2),h=Math.min(a,t.fabricCanvas.height-m/2)),b+2*p>i){var g=i-b-p;e=Math.max(g,Math.min(p,e))}else e=(i-b)/2;if(m+2*h>c){var v=c-m-h;n=Math.max(v,Math.min(h,n))}else n=(c-m)/2;return[r,0,0,r,e,n]},calculateZoomFactorByArea:function(e,n){var r=Math.abs(e.x-n.x),o=Math.abs(e.y-n.y);return Object(O.c)({width:r,height:o},t.fabricCanvas)},centerViewportOnPoint:function(e,n){var r=t.fabricCanvas.width,o=t.fabricCanvas.height;return{x:-(e.x*n-r/2),y:-(e.y*n-o/2)}},viewportForFitToPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width,r=e.height,o=t.getScaledRatio({width:n,height:r}),a=t.centerViewportOnPoint({x:n/2,y:r/2},o);return[o,0,0,o,a.x,a.y]},putThePointInTheUpperPart:function(e,n){var r=t.fabricCanvas,o=r.width,a=r.height;return{x:-(e.x*n-o/2),y:-(e.y*n-a/4)}},viewportForFitToObject:function(e){var n=e.getBoundingRect(!0),r=Object(O.c)(n,{width:.66*t.fabricCanvas.width,height:t.fabricCanvas.height/2-j.a-50}),o=t.putThePointInTheUpperPart({x:e.left,y:e.top},r);return[r,0,0,r,o.x,o.y]},fitToObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.fabricCanvas.getActiveObject();e&&(t.fabricCanvas.viewportTransform=t.viewportForFitToObject(e),t.fabricCanvas.requestRenderAll())},handleZoomAndPanChange:function(){var e=t.fabricCanvas.viewportTransform,n=e[0],r=e[4],o=e[5];t.withDispatches&&S.a.zoomAndPan(n,r,o),t.fabricCanvas.setViewportTransform(e);var a=t.fabricCanvas.getArtboard();a&&a.setCoords()},getCurrentZoomlevel:function(){return t.fabricCanvas.getZoom()},fitToPage:function(){var e=t.fabricCanvas.getArtboard();t.fabricCanvas.viewportTransform=t.viewportForFitToPage({width:e.width,height:e.height}),t.fabricCanvas.requestRenderAll(),t.updateZoom(t.getCurrentZoomlevel())},nextZoom:function(){var e=t.getCurrentZoomlevel(),n=t.zoomRange.find(function(t){return t>e});n||(n=t.maxZoomLevel),t.updateZoom(n)},prevZoom:function(){var e=t.getCurrentZoomlevel(),n=t.zoomRange.slice(0).reverse().find(function(t){return t<e});n||(n=t.minZoomLevel),t.updateZoom(n)},updateZoom:function(e){var n=t.fabricCanvas.viewportTransform;t.fabricCanvas.viewportTransform=t.costrainViewport(n[4],n[5],e),f.default.dispatch("SET_ZOOM_LEVEL",e),t.zoomChangeCallback(t.getCurrentZoomlevel()),t.fabricCanvas.requestRenderAll()}};return t.handleZoomAndPanChangeDebounced=m()(t.handleZoomAndPanChange,100),t},C=function(){return E()},k=h()(E)},,,,,,,,,,,function(e,t,n){"use strict";function r(){u.default.dispatch(d.a)}function o(){u.default.dispatch(d.b)}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;u.default.dispatch(d.c,{event:e,id:t,source:n,type:r}),p.a.click("canvas.contextMenu",{source:n})}function i(e){var t,n,r=e.imageId,o=Object(b.g)(r),a=o.get("height"),i=o.get("width"),c=e.getElementWidth(),u=e.getElementHeight(),s=0!==e.cropX||0!==e.cropY||e.width!==c||e.height!==u,f=i/c;return s?(n=e.height*f,t=e.width*f):(n=a,t=i),Object(l.b)({width:t,height:n,id:s?-1:0},{shouldSave:!1,nextBackground:e}),e.scaleX=f,e.scaleY=f,e.top=n/2,e.left=t/2,{width:t,height:n}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.metricSource,r=void 0===n?m.H:n,o=t.save,a=void 0===o||o,c=t.flashAlert,u=void 0===c||c;p.b.track("Apply fit to canvas context option",{source:r});var l=i(e),d=Object(s.a)();d.setActiveObject(e),d.getBackgroundImage()!==e&&Object(f.a)(r,{shouldSave:!1}),a&&d.fire("save"),u&&Object(h.i)(l),d.requestRenderAll()}t.b=r,t.d=o,t.e=a,t.a=i,t.c=c;var u=n(1),l=n(131),s=n(6),f=n(495),d=n(367),p=n(7),h=n(79),b=n(14),m=n(9)},,,function(e,t,n){"use strict";function r(){return s.isOwnedByOtherUser.apply(s,arguments)}function o(){return s.getObjectOwnerColor.apply(s,arguments)}function a(){return s.getObjectOwnerName.apply(s,arguments)}function i(){return s.socketEmitActiveChange.apply(s,arguments)}function c(){return s.socketEmitActiveManual.apply(s,arguments)}function u(){return s.socketMiddleware.apply(s,arguments)}function l(){return s.CollaborateButton.apply(s,arguments)}n.d(t,"e",function(){return s}),t.f=r,t.c=o,t.d=a,t.g=i,t.h=u,t.a=l;var s={isOwnedByOtherUser:function(){return!1},getObjectOwnerColor:function(){return""},getObjectOwnerName:function(){return""},socketEmitActiveChange:function(){},socketEmitActiveManual:function(){},socketMiddleware:function(){return function(e){return function(t){return e(t)}}},CollaborateButton:function(){return null}};t.b={implementations:s,isOwnedByOtherUser:r,getObjectOwnerColor:o,getObjectOwnerName:a,socketEmitActiveChange:i,socketEmitActiveManual:c,socketMiddleware:u,CollaborateButton:l}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return u(e)||c(e)||i(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Promise.resolve(e.apply(void 0,o(n.filter(function(e){return void 0!==e})))).catch(function(e){throw f(e)})}catch(e){return Promise.reject(f(e))}}}function f(e){if(e instanceof Error)return{error:!0,message:e.message,stack:e.stack};var t={error:!0};try{t.context=JSON.parse(JSON.stringify(e))}catch(e){t.message="was not able to serialize error"}return t}function d(){var e=Object(T.a)(window&&window.location.href||"").query.embed,t=!!Object(T.a)(window&&window.location.href||"").query.target;e&&!v&&(v=Object(y.wire)({name:y.wireName,postHandler:function(e){t&&window.opener?window.opener.postMessage(e,"*"):parent.postMessage(e,"*")}}),window.addEventListener("message",function(e){"object"===r(e.data)&&e.data.hasOwnProperty("_w")&&(Object(S.a)(e.origin)?v.process(e.data):Object(O.a)())}),v.on("error",function(){}),v.once("wire.connect",function(){Object(w.a)("wire.connect event"),Object(j.c)().then(function(){Object(w.a)("all apis defined"),Object(E.a)(function(e){var t=e.keyPath,n=e.value;return v.registerCall(t,s(n))})(Object(j.a)()),Object(w.a)("all apis registered"),Object(w.a)("sending api.init event"),v.publish("api.init")})}),k.forEach(function(e){var t;return(t=v).on.apply(t,o(e))}),x.forEach(function(e){var t;return(t=v).once.apply(t,o(e))}),C.forEach(function(e){var t;return(t=v).publish.apply(t,o(e))}))}function p(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!v)return void C.push(n);(e=v).publish.apply(e,n)}function h(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!v)return void k.push(n);(e=v).on.apply(e,n)}function b(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!v)return void x.push(n);(e=v).once.apply(e,n)}function m(){var e;v&&(e=v).off.apply(e,arguments)}function g(){var e;if(v)return(e=v).callApi.apply(e,arguments)}t.b=d,n.d(t,"d",function(){return p}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return g});var v,y=n(364),O=(n.n(y),n(650)),S=n(614),w=n(385),j=n(541),T=n(101),E=n(446),C=[],k=[],x=[];Object.assign(d,{publish:p,on:h,once:b,off:m,defineApi:j.b,callApi:g})},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.forEach(function(e){e&&("group"!==e.type?t.push(e):r(e.objects||e._objects,t))}),t}t.a=r},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return{fn:function(n){var r=n.instance.options.modifiers.preventOverflow;if(!n.instance.popper.offsetParent)return n;var o=n.instance.popper.offsetParent.getBoundingClientRect().height,a=n.offsets.popper,c=a.height;return 0===n.placement.indexOf("left")||0===n.placement.indexOf("right")?c=o:0===n.placement.indexOf("bottom")?c=o-a.top:0===n.placement.indexOf("top")&&(c=a.bottom),r&&r.enabled&&i()(r.padding)&&(c-=2*r.padding),c=Math.max(e,c),c=Math.min(t,c),n.styles.height="".concat(c,"px"),n.offsets.popper.height=c,n},order:2,enabled:!0}}function o(){return{fn:function(e){var t=e.offsets.popper.left-Math.floor(e.offsets.popper.left);return t>0&&(e.styles.left="".concat(t,"px")),e},order:875,enabled:!0}}t.b=r,t.a=o;var a=n(789),i=n.n(a)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.blockLoader,r=t.givenTemplates,o=t.type,a="text"===o?Object(T.g)():Object(T.e)();return(r?Promise.resolve():a).then(function(){var t=T.j.concat(T.i),a=r||t,i=a.find(function(t){return t.id===e});return n||l.default.dispatch(d.G,"searchProgress"),i&&i.state?i:"text"===o?Object(m.a)({url:"".concat(Object(h.e)("template"),"/").concat(e),dataType:"json"}).then(function(e){return i.state=e,i}):Object(m.a)({url:"".concat(Object(h.e)("templatesUas"),"/").concat(e),dataType:"json"}).then(function(e){return i&&(i.state=e.state),e})})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.blockLoader,o=t.givenTemplates,a=t.type,i=t.allowColorCoercion;return r(e,{blockLoader:n,givenTemplates:o,type:a}).then(function(t){var r=function(){var r=l.default.evaluate(s.k.activePageId);f.f(r);var o=+new Date;l.default.dispatch(d.K,{templateId:e,type:a,loadedTimeStamp:o,width:t.width,height:t.height}),u.a.takeSnapshot(),n||l.default.dispatch(d.G,null),b.b.track("template applied",{template_id:e});var i="text"===a?a:"template";b.a.getLilSis().templateLoaded({isFree:t.isFree?"true":"false",trackingType:i,editorTemplateId:e,editorTemplateSize:"".concat(t.width,"-").concat(t.height)}),l.default.dispatch(d.M,{loadedTimeStamp:o})},o=function(n){l.default.dispatch(d.G,null),b.b.track("template failed to apply",{template_id:e,image_id:t&&t.assetId||null}),v.a.noticeError(n),Object(g.showErrorModal)()},c="text"===a;return Object(p.b)(t,{applyPartial:c,allowColorCoercion:i}).then(r).catch(o)})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.blockLoader,r=t.givenTemplates,a=t.type,i=t.trackingKey,c=t.ignoreWarning,u=void 0!==c&&c,s=t.allowColorCoercion,f=void 0!==s&&s,d=Object(j.a)(function(){return o(e,{blockLoader:n,givenTemplates:r,type:a,allowColorCoercion:f})});if(!u&&!Object(S.isInTour)()){var p=l.default.evaluate(O.c.templateWarning);return y.b.showReplaceWarningModal(Object(w.g)(i),p).then(d).catch(function(e){return v.a.noticeError(e),d()})}return d()}function i(){a(c.client.blankCanvasTemplateId,{ignoreWarning:!0})}t.a=o,t.d=a,t.c=i;var c=n(29),u=(n.n(c),n(39)),l=n(1),s=n(14),f=n(57),d=n(19),p=n(537),h=n(18),b=n(7),m=n(43),g=n(130),v=n(44),y=n(56),O=n(49),S=n(65),w=n(119),j=n(80),T=n(273);t.b={_getTemplateById:o,setTemplate:a,setBlankTemplate:i}},,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(){return O.a.createElement(I,{message:_("popup.message-skip"),buttonText:_("popup.button"),onClick:function(){k.a.click(x.l),Object(C.f)()}})}function b(){return O.a.createElement(I,{message:_("popup.message-presets"),buttonText:_("popup.button"),onClick:C.f})}function m(){return O.a.createElement(I,{message:_("popup.message-blankcanvas"),buttonText:_("popup.button"),onClick:C.f})}function g(){return O.a.createElement(I,{message:_("popup.message-templates"),buttonText:_("popup.button"),onClick:C.f})}function v(){return O.a.createElement(I,{message:_("popup.message-advanced-toggle"),buttonText:_("popup.button"),onClick:C.f,direction:"bottom"})}n.d(t,"a",function(){return I}),t.e=h,t.d=b,t.c=m,t.f=g,t.b=v;var y=n(0),O=n.n(y),S=n(4),w=n.n(S),j=n(2),T=n(338),E=n.n(T),C=n(25),k=n(7),x=n(9),P=n(23),_=Object(j.c)(E.a),I=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"buildTitle",value:function(){var e=this.props,t=e.title,n=e.count,r=e.total,o=e.showCount;return O.a.createElement("div",{className:"popup-title"},t,o&&O.a.createElement("span",null,"".concat(n,"/").concat(r)))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.message,r=e.buttonText,o=e.onClick,a=e.secondaryClick,i=e.secondaryText,c=e.direction,u=e.close,l=e.onCloseClick,s=e.className;return O.a.createElement("div",{className:w()("popup-arrow-container",{"attached-right":"right"===c,"attached-left":"left"===c,"attached-top":"top"===c,"attached-bottom":"bottom"===c},s)},O.a.createElement("div",{className:"popup-content"},u&&O.a.createElement(P.b,{name:"close",onClick:l}),t&&this.buildTitle(),O.a.createElement("div",{className:"popup-text"},n),O.a.createElement("div",{className:"popup-footer"},a&&O.a.createElement("button",{className:"popup-button-secondary",onClick:a},i),o&&O.a.createElement("button",{className:"popup-button",onClick:o},r))))}}]),t}(y.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(I,"defaultProps",{showCount:!1,count:1,total:1,message:"",buttonText:null,title:null,direction:"left"})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=h();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return x});var g=n(0),v=n.n(g),y=n(5),O=n.n(y),S=n(4),w=n.n(S),j=n(472),T=(n.n(j),n(474)),E=n(182),C=n(473),k=n.n(C),x=function(e){function t(){var e;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),m(p(e),"PopperGateway",void 0),e}l(t,e);var n=f(t);return u(t,[{key:"render",value:function(){var e=this.props,n=e.open,r=e.children,o=e.style,i=e.className,c=e.placement,u=e.modifiers,l=e.popper,s={open:this.props.open};return v.a.createElement(j.Manager,{style:o,className:i},v.a.createElement(j.Target,{className:w()(s)},r),v.a.createElement(T.a,{into:"popover-layer"},n&&v.a.createElement(j.Popper,{className:"popper",placement:c,modifiers:a(a({},t.defaultProps.modifiers),u)},l)))}}]),t}(g.PureComponent);m(x,"displayName","PopoverAnchor"),m(x,"propTypes",{toggleClassName:O.a.string,popper:O.a.element.isRequired,listClassName:O.a.string,title:O.a.string,menuStyle:O.a.object,handleClickOutside:O.a.func,open:O.a.bool,disabled:O.a.bool,placement:O.a.string,modifiers:O.a.object}),m(x,"defaultProps",{open:!1,labelType:"default",disabled:!1,placement:"right",modifiers:{flip:Object.assign({},k.a.Defaults.modifiers.flip,{enabled:!1}),offset:Object.assign({},k.a.Defaults.modifiers.offset,{enabled:!1}),preventOverflow:Object.assign({},k.a.Defaults.modifiers.preventOverflow,{boundariesElement:"viewport",escapeWithReference:!0}),subpixelOffset:Object(E.a)()}})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return E});var m=n(0),g=n.n(m),v=n(5),y=n.n(v),O=n(1),S=n(134),w=n(4),j=n.n(w),T=n(147),E=function(e){function t(){return a(this,t),n.apply(this,arguments)}u(t,e);var n=s(t);return c(t,[{key:"render",value:function(){var e=this.props,t=e.titleText,n=e.subTitleText,r=e.confirmButtonText,a=e.exitButtonText,i=O.default.evaluate(S.a);return g.a.createElement(T.a,o({},this.props,{title:t,iconName:"icon-delete-modal",message:n,primaryActionLabel:r,primaryActionClass:j()({deleteButtonStyle:"en"!==i}),secondaryActionLabel:a,secondaryActionClass:j()({closeButtonStyle:"en"!==i})}))}}]),t}(m.PureComponent);b(E,"displayName","DeleteModal"),b(E,"propTypes",{titleText:y.a.string,subTitleText:y.a.string,confirmButtonText:y.a.string,exitButtonText:y.a.string})},function(e,t,n){"use strict";function r(){a({width:1200,height:1200,presetId:-1,label:"custom"},"")}function o(){var e=Object(u.a)();c.default.dispatch(y.p,!1),c.default.dispatch(d.l),c.default.dispatch(f.G,null),c.default.dispatch(d.k,{id:0}),c.default.dispatch(p.a,-1),e._discardActiveObject(),e._objects=[],m.a.resetBackground(!1)}function a(e){var t=e.width,n=e.height,r=e.presetId,a=e.label,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"templates",f=Object(u.a)();o(),b.a.zoomAuto(),v.b.track("new design modal",{size:a,width:t,height:n}),Object(h.b)({width:t,height:n,id:r},{shouldSave:!1}),l.a.resetUndoStack(),f.fire("save",{autoSave:c.default.evaluate(O.g)}),!s.b.isEnabled("embed")&&i&&g.e.openLeftPanel(i),Object(S.a)()}function i(){b.a.zoomAuto(),g.e.openLeftPanel("preset_size"),Object(S.a)()}t.a=r,t.b=o,t.c=a,t.d=i;var c=n(1),u=n(6),l=n(39),s=n(15),f=n(19),d=n(110),p=n(452),h=n(131),b=n(467),m=n(355),g=n(16),v=n(7),y=n(210),O=n(30),S=(n(519),n(25));n(119)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(0),c=n.n(i),u=n(4),l=n.n(u),s=n(552),f=n(24),d=(n.n(f),Object(f.makeStyles)(function(){return{root:function(e){var t=e.size;return{width:t,height:t,lineHeight:1,display:"inline-block","& svg":{width:"inherit",height:"inherit",fill:"currentColor",stroke:"inherit"}}}}})),p=function(e){var t=e.color,n=e.icon,r=e.title,a=e.className,i=void 0===a?"":a,u=e.onClick,f=e.size,p=void 0===f?20:f,h=e.svgStyle,b=e.onDragEnd,m=e.onDragStart,g=e.onDrag,v=e.draggable,y=e.component,O=void 0===y?"div":y,S=e.dataTourStop,w=e.dataAutomation,j=o(o({},d({size:p})),Object(s.c)({color:t}));return c.a.createElement(O,{onClick:u,title:r,"data-tour-stop":S,"data-automation":w,className:l()(i,j.root,j.sstkTextColor),dangerouslySetInnerHTML:{__html:n},style:h,onDragEnd:b,onDragStart:m,onDrag:g,draggable:v})};t.a=p},,,function(e,t,n){"use strict";n.d(t,"f",function(){return s}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"g",function(){return g});var r=n(12),o=n.n(r),a=n(33),i=n(18),c=n(99),u=n(14),l=n(297),s=Object(a.a)(["container","windowHeight"]),f=Object(a.a)(s,c.e,c.t,function(e,t,n){return e-l.b-(n?0:t)}),d=Object(a.a)(s,c.i,c.t,function(e,t,n){return e-l.b-(n?0:t)}),p=Object(a.a)(["container","windowWidth"]),h=Object(a.a)(p,c.p,c.z,c.q,c.t,function(e,t,n,r,o){return e-(o?0:n)-(o?0:t)-(r?l.d:0)}),b=Object(a.a)(p,c.o,c.y,c.q,c.t,function(e,t,n,r,o){return e-(o?0:n)-(o?0:t)-(r?l.d:0)}),m=Object(a.a)(["zoom"]),g=Object(a.a)(m,function(e){return"auto"===e.getIn(["current","mode"])?"auto":"manual"}),v=Object(a.a)(m,h,f,function(e,t,n){var r=e.get("autoMargin"),o=5*r;return t<o||n<o?Math.round(Math.min(t,n)/6):r}),y=Object(a.a)(h,f,v,u.k.activePage,function(e,t,n,r){var o=Object(i.h)(r.get("width"),r.get("height"),e-2*n,t-2*n);return isNaN(o.ratio)||!isFinite(o.ratio)?1:o.ratio}),O=Object(a.a)(m,g,y,function(e,t,n){return"auto"===t?n:e.getIn(["current","level"])}),S=Object(a.a)(m.concat("autoMargin")),w=Object(a.a)(["zoom","range"]),j=Object(a.a)(y,w,function(e,t){var n=t.toArray(),r=n.findIndex(function(t){return t>e});return n.splice(r,0,e),o.a.List(n)}),T=Object(a.a)(w,function(e){return e.first()}),E=Object(a.a)(w,function(e){return e.last()}),C=function(e){return m(e).get("activeZoomLevel")},k=Object(a.a)(function(e){return e.get("container")},u.k.activePageWidth,u.k.activePageHeight,function(e,t,n){return"\n    ".concat(e.get("windowWidth"),"-").concat(e.get("windowHeight"),"-").concat(t,"-").concat(n,"\n  ")});t.e={windowHeight:s,containerHeight:f,containerNextHeight:d,windowWidth:p,containerWidth:h,containerNextWidth:b,zoom:m,zoomMode:g,zoomSuggestedMargins:v,scaledRatio:y,zoomLevel:O,zoomMargins:S,zoomRangeKeyPath:w,zoomRange:j,minZoomLevel:T,maxZoomLevel:E,activeZoomLevel:C,zoomRangeKey:k}},function(e,t,n){"use strict";function r(e){var t=e.fontSize,n=o.default.evaluate(a.k.activePageDims).toJS(),r=n.height,i=n.width,c=e.pxFontSize||Math.round(r*t),u=new f.fabric.IText(e.text,{fontFamily:e.font.familyName,fontSize:c,strokeWidth:2}),l=u.width+1,s=u.height,d=s/r,p=d*r,h=l/i;return{width:h*i,height:p,widthPercent:h,heightPercent:d}}var o=n(1),a=n(14),i=n(232),c=n(285),u=n.n(c),l=n(500),s=n.n(l),f=n(8),d=n(463),p=n(283),h=n(57),b=n(361),m=n(362),g=n(705),v=u()(g,m),y={capTextBoxWidth:function(e,t,n){var r=e._textLines.reduce(function(t,n,r){return Math.max(t,e.getLineWidth(r))},0);e.width>1.2*r&&(e.width=1.2*r),"justify"!==t&&e.setPositionByOrigin(n,t,"center"),e.setCoords()},_create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o.default.evaluate(a.b).toJS(),n=u()(e,v.defaults);return Promise.all([Object(i.a)(n.font.familyName),Object(b.a)(n.text)]).then(function(){var o=r(n);s()(n,o);var a=e.pxFontSize||Math.round(t.height*n.fontSize);return new p.a(n.text,{fill:n.color.fill,stroke:n.stroke.fill,strokeNofill:!0,strokeWidth:n.stroke.width,strokeDashArray:n.stroke.dashArray,fontSize:a,fontFamily:n.font.familyName,fontWeight:n.fontWeight||"normal",charSpacing:n.charSpacing||0,textAlign:n.textAlign||"left",width:n.width,height:n.height,textBackgroundColorNofill:n.textBackgroundColorNofill,shadow:new f.fabric.Shadow(n.shadow)})})},create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.selectAllText,n=void 0!==t&&t,r=e.allowColorCoercion;return y._create(e).then(function(t){return r&&(t=Object(d.a)(t)),Object(h.a)(t,e.position,{selectAllText:n})})},scaleProperties:function(e,t){t=Math.abs(t),e.set({scaleX:e.scaleX,scaleY:e.scaleY});var n,r=e.textAlign;if("justify"!==r){var o=e.getCenterPoint();n=e.translateToOriginPoint(o,r,"center")}e.scaleX=1,e.scaleY=1,e.lastGoodScale=1,e.width*=t,e.height*=t,e.set("fontSize",e.fontSize*t),e.strokeUniform||e.set("strokeWidth",e.strokeWidth*t),y.capTextBoxWidth(e,r,n),e.lastGoodLeft=e.left,e.lastGoodTop=e.top}};t.a=y},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return d});var r={},o=function(e,t){r[e]=t},a=function(){return n.e(0).then(n.bind(null,374)).then(function(e){return o("SharePanel",e.SharePanel),o("DownloadPanel",e.DownloadPanel),o("UnwatermarkPanel",e.UnwatermarkPanel),o("UnwatermarkPanelSingle",e.UnwatermarkPanel),e})},i=function(){return n.e(312).then(n.bind(null,969)).then(function(e){return o("BgRemovalPanel",e.BgRemovalPanel),e})},c=function(){return n.e(1).then(n.bind(null,2060)).then(function(e){return o("uploads",e.MyUploads),e})},u=function(){return n.e(1).then(n.bind(null,2061)).then(function(e){return o("custom_uploads",e.SdkUploadsPanel),e})},l=function(){return n.e(1).then(n.bind(null,2062)).then(function(e){return o("custom_templates",e.SdkTemplatesPanel),e})},s={SharePanel:a,DownloadPanel:a,UnwatermarkPanel:a,UnwatermarkPanelSingle:a,BgRemovalPanel:i,uploads:c,custom_uploads:u,custom_templates:l},f=function(){return Promise.resolve()},d=function(e){return(s[e]||f)()}},function(e,t,n){"use strict";e.exports={action:{back:"Back",done:"Done",next:"Next"},onboarding:{"get-inspired":{title:"Get inspiration",text:"Browse through our professional templates and customize them to fit your needs!"},"save-or-share":{title:"Save designs",text:"Design at your own pace and save your work for later."},skip:"Skip tour, I got it","start-designing":{title:"Start designing",text:"Add filters, text, shapes, or your own logo to customize your design."},gradients:{message1:"Select 'Gradient' from the dropdown. To adjust color, click on the color chip."},saveddesigns:{message1:"Your saved designs will be stored under 'Designs' tab."},background:{message1:"Select 'Image' from the dropdown. To adjust background, click here."},"background-remove":{message1:"Remove backgrounds from your image and make them transparent with our new Background remover!","got-it":"Got it!",title:"Remove backgrounds","avoid-highlighting":"Avoid highlighting","remove-backgrounds":"Remove Backgrounds",stepone:"Mark areas to keep and to remove. Make sure they stay within and do not cross boundaries.",steptwo:"Avoid highlighting and dont fill in an area."}}}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return x});var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(23),O=n(4),S=n.n(O),w=n(152),j=n(450),T=n(38),E=n(160),C=n.n(E),k=function(e){return null==e},x=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"state",{originalValue:e.props.defaultValue,editable:!1,value:e.props.defaultValue}),h(f(e),"blurElement",function(){return e.formInputRef.current.blur()}),h(f(e),"getValue",function(){return k(e.props.value)?e.state.value:e.props.value}),h(f(e),"blockBlurOn",function(){e.blockBlur=!0}),h(f(e),"blockBlurOff",function(){e.blockBlur=!1}),h(f(e),"formInputRef",m.a.createRef()),h(f(e),"onClick",function(t){t.stopPropagation();var n=e.getValue();k(e.props.editable)&&!e.state.editable&&e.setState({editable:!0,originalValue:n}),e.props.onClick&&e.props.onClick(n,t)}),h(f(e),"onIconClick",function(t){var n=e.props.onIconClick;t.persist();var r=e.formInputRef.current;e.onClick(t),n&&e.props.onIconClick(r.value),r.focus(),r.setSelectionRange(r.value.length,r.value.length)}),h(f(e),"onChange",function(t){var n=t.target.value;if(e.props.validateRegex){if(!e.props.validateRegex.test(n))return}k(e.props.value)&&e.setState({value:n}),e.props.onChange&&e.props.onChange(n,t)}),h(f(e),"onKeyDown",function(t){t.keyCode===w.e&&e.onSubmit(t),t.keyCode===w.f&&(e.setState({value:e.state.originalValue,originalValue:"",editable:!1}),e.blockBlurOn(),e.blurElement()),e.props.onKeyDown&&e.props.onKeyDown(t)}),h(f(e),"onSubmit",function(t,n){t.stopPropagation();var r=e.props,o=r.validate,a=r.onSubmit,i=r.editable,c=e.getValue(),u=Object(j.a)(c),l=!1;u&&(l=u!==e.state.originalValue||t.keyCode===w.e),k(i)&&e.state.editable&&e.setState({editable:!1,originalValue:a&&l&&c||""},function(){n||(e.ignoreBlurAfterSubmit=!0,e.blurElement())}),a&&l&&(!o||o(u)?a(u,t):e.props.defaultSubmitValue&&a(e.props.defaultSubmitValue,t))}),h(f(e),"onBlur",function(t){e.getValue()||e.setState({editable:!1}),!e.blockBlur&&e.props.onBlur&&e.props.onBlur(t),e.handleBlockingSubmit(t)}),h(f(e),"handleBlockingSubmit",function(t){if(e.blockBlur)return void e.blockBlurOff();e.props.submitOnBlur?e.onSubmit(t,!0):e.setState({editable:!1})}),h(f(e),"onFocus",function(e){var t=e.target,n=t.value;n&&(t.selectionStart=t.selectionEnd=n.length)}),h(f(e),"refControllerCallback",T.a.refControllerCallback.bind(f(e))),e}c(t,e);var n=l(t);return i(t,[{key:"componentDidUpdate",value:function(){this.props.forceClear&&""!==this.state.originalValue&&this.setState({originalValue:"",value:""})}},{key:"render",value:function(){var e=this.props,t=e.editable,n=e.value,r=this.props,o=r.className,a=r.inputClassName,i=r.icon,c=r.iconContainerClassName,u=r.iconClassName,l=r.forceClear,s=r.children,f=r.placeholder,d=r.disableAutofocus,p=r.maxLength,h=r.disabled,b=r.skipBlockBlur,g=r.title,v=r.growWithValue,O=r["data-tip"],w=r["data-for"],j=r["data-place"],T=r.dataTrack,E=r.style;return k(t)&&(t=this.state.editable),k(n)&&(n=this.state.value),l&&(n=""),m.a.createElement("div",{ref:this.refControllerCallback,className:S()(o,"form-input-container",{editable:t,"not-editable":!t}),onKeyDown:this.onKeyDown},m.a.createElement("input",{className:S()(a,"form-input",t?"enabled":"disabled"),ref:this.formInputRef,type:"text",onChange:this.onChange,value:n,onBlur:this.onBlur,placeholder:!t&&f||"",onClick:this.onClick,autoFocus:!d,onFocus:this.onFocus,maxLength:p,disabled:h,"aria-label":g,"data-tip":O,"data-for":w,"data-content":g,"data-track":T,size:v?n.length+2:null,style:E}),O&&m.a.createElement(C.a,{id:w,effect:"solid",place:j},g),i&&m.a.createElement("div",{className:S()("form-input-icon-container",c),onMouseDown:!b&&t?this.blockBlurOn:null,onClick:this.onIconClick},"string"==typeof i&&m.a.createElement(y.b,{name:i,className:S()("form-input-icon",u)})||i),t&&s)}}]),t}(b.PureComponent);h(x,"displayName","FormInput"),h(x,"propTypes",{className:v.a.string,inputClassName:v.a.string,defaultValue:v.a.string,editable:v.a.bool,value:v.a.string,onClick:v.a.func,onChange:v.a.func,onSubmit:v.a.func,onBlur:v.a.func,onIconClick:v.a.func,submitOnBlur:v.a.bool,disableAutofocus:v.a.bool,validate:v.a.func,icon:v.a.oneOfType([v.a.string,v.a.node]),iconContainerClassName:v.a.string,iconClassName:v.a.string}),h(x,"defaultProps",{defaultValue:""})},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"l",function(){return r}),n.d(t,"o",function(){return o}),n.d(t,"n",function(){return a}),n.d(t,"m",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return u}),n.d(t,"i",function(){return l}),n.d(t,"k",function(){return s}),n.d(t,"j",function(){return f}),n.d(t,"f",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return h}),n.d(t,"s",function(){return b}),n.d(t,"v",function(){return m}),n.d(t,"u",function(){return g}),n.d(t,"t",function(){return v}),n.d(t,"e",function(){return y}),n.d(t,"r",function(){return O}),n.d(t,"q",function(){return S}),n.d(t,"a",function(){return w}),n.d(t,"p",function(){return j}),n.d(t,"b",function(){return T});var r="SAVE_DESIGN_REQUESTED",o="SAVE_DESIGN_REQUEST_ERROR",a="SAVE_DESIGN_REQUEST_COMPLETE",i="SAVE_DESIGN_REQUEST_ABORTED",c="COPY_DESIGN_REQUESTED",u="COPY_DESIGN_REQUEST_COMPLETE",l="LOAD_DESIGN_REQUESTED",s="LOAD_DESIGN_REQUEST_ERROR",f="LOAD_DESIGN_REQUEST_COMPLETE",d="LOAD_ALL_DESIGNS_REQUESTED",p="LOAD_ALL_DESIGNS_REQUEST_ERROR",h="LOAD_ALL_DESIGNS_REQUEST_COMPLETE",b="UPDATE_DESIGN_REQUEST",m="UPDATE_DESIGN_REQUEST_ERROR",g="UPDATE_DESIGN_REQUEST_COMPLETE",v="UPDATE_DESIGN_REQUEST_ABORTED",y="DELETE_DESIGN",O="SET_AUTOSAVING",S="SET_AUTOSAVE_TIMER",w="CLEAR_AUTOSAVE_TIMER",j="SET_AUTOSAVE_INITIALIZED",T="CLEAR_REQUEST_ERROR"},function(e,t,n){"use strict";function r(){return"".concat(Object(a.generate)(),"-").concat(o.fabric.Object.__uid++)}t.a=r;var o=n(8),a=(n.n(o),n(190));n.n(a)},function(e,t,n){"use strict";function r(e){return"string"==typeof e?o.default.evaluate(a.h[e]):o.default.evaluate(a.h.config).getIn(e)}n.d(t,"b",function(){return r});var o=n(1),a=n(22);n(651);t.a={get:r,getters:a.h}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,o){if(this.getVisibility(o)){e.save(),e.translate(t,n),e.rotate(I(this.angle+o.angle)),e.beginPath(),e.lineWidth=6,e.lineCap="round",e.strokeStyle="#dfe2e8",e.moveTo(0,10),e.lineTo(0,0),e.lineTo(10,0),e.stroke(),e.restore()}}function c(e,t,n,r,o){if(this.visibility=!0,!this.getVisibility(o)||o.clippingPath)return void(this.visibility=!1);e.save(),e.translate(t,n),e.rotate(I(this.angle+o.angle)),e.beginPath(),e.lineWidth=4,e.lineCap="round",e.strokeStyle="#dfe2e8",e.moveTo(-6,0),e.lineTo(6,0),e.stroke(),e.restore()}function u(e,t,n,r,o){if(this.getVisibility(o)){e.save(),e.translate(t,n),e.rotate(I(this.angle+o.angle)),e.beginPath(),e.lineWidth=1,e.strokeStyle=r.cornerColor||o.cornerColor,e.moveTo(-6,-6),e.lineTo(6,6),e.moveTo(-6,6),e.lineTo(6,-6),e.stroke(),e.restore()}}function l(e,t,n,r,a){if(this.getVisibility(a)){_.fabric.controlsUtils.renderCircleControl.call(this,e,t,n,o(o({},r),{},{cornerSize:16}),a),e.save(),e.strokeStyle=a.borderColor,e.shadowColor="transparent",e.shadowBlur=0,e.translate(t,n),e.rotate(I(-150+this.angle+a.angle)),e.lineWidth=1,e.beginPath(),e.moveTo(4.5,0),e.lineTo(6,3),e.moveTo(4.5,0),e.lineTo(2,1.5),e.arc(0,0,4.5,I(0),I(300)),e.stroke(),e.restore()}}function s(e,t,n,r,o){var a=o.cornerSize,i=3,c=1.3;this.name!==o.__corner&&(i=2,c=2.2),e.save(),e.translate(t,n),e.strokeStyle=o.cornerColor,e.lineWidth=i,e.beginPath(),e.arc(0,0,a/c,0,2*Math.PI,!1),e.stroke(),e.closePath(),e.restore()}function f(e,t,n){return function(r,o,a,i,c){r.save(),r.shadowColor="rgba(12, 18, 28, 0.38)",r.shadowBlur=4,r.shadowOffsetX=e,r.shadowOffsetY=t,n.call(this,r,o,a,i,c),r.restore()}}function d(e,t,n){var r=Math.abs(e.x/n),o=Math.abs(e.y/t);return Math.min(r,o)}function p(e,t,n,r){var o=t,a=o.target.width,i=-a/2,c=o.target.getCenterPoint(),u=o.target.toLocalPoint(new _.fabric.Point(n,r),o.originX,o.originY),l=o.target.translateToOriginPoint(c,"right",o.originY),s=u.x/o.target.scaleX-i,f=a-s;return o.target.cropX+s<0&&(s=-o.target.cropX,f=a+o.target.cropX),f<=0&&(s+=f,f=0),o.target.width=f,o.target.setPositionByOrigin(l,"right",o.originY),o.target.cropX+=s,!0}function h(e,t,n,r){var o=t,a=o.target.width,i=o.target.getOriginalElementWidth(),c=a/2,u=o.target.getCenterPoint(),l=o.target.toLocalPoint(new _.fabric.Point(n,r),o.originX,o.originY),s=o.target.translateToOriginPoint(u,"left",o.originY),f=a-(c-l.x/o.target.scaleX);return f+o.target.cropX>i&&(f=i-o.target.cropX),f<0&&(f=0),o.target.width=f,o.target.setPositionByOrigin(s,"left",o.originY),!0}function b(e,t,n,r){var o=t,a=o.target.height,i=-a/2,c=o.target.getCenterPoint(),u=o.target.toLocalPoint(new _.fabric.Point(n,r),o.originX,o.originY),l=o.target.translateToOriginPoint(c,o.originX,"bottom"),s=u.y/o.target.scaleY-i,f=a-s;return o.target.cropY+s<0&&(s=-o.target.cropY,f=a+o.target.cropY),f<=0&&(s+=f,f=0),o.target.height=f,o.target.setPositionByOrigin(l,o.originX,"bottom"),o.target.cropY+=s,!0}function m(e,t,n,r){var o=t,a=o.target.height,i=o.target.getOriginalElementHeight(),c=a/2,u=o.target.getCenterPoint(),l=o.target.toLocalPoint(new _.fabric.Point(n,r),o.originX,o.originY),s=o.target.translateToOriginPoint(u,o.originX,"top"),f=a-(c-l.y/o.target.scaleY);return f+o.target.cropY>i&&(f=i-o.target.cropY),f<0&&(f=0),o.target.height=f,o.target.setPositionByOrigin(s,o.originX,"top"),!0}function g(e,t,n){var r=n.calcTransformMatrix(),o=n.getViewportTransform(),a=_.fabric.util.multiplyTransformMatrices(o,r);return _.fabric.util.transformPoint({x:-n.width/2-n.cropX,y:-n.height/2-n.cropY},a)}function v(e,t,n){var r=n.calcTransformMatrix(),o=n.getViewportTransform(),a=_.fabric.util.multiplyTransformMatrices(o,r),i=n.getOriginalElementWidth();return _.fabric.util.transformPoint({x:i-n.width/2-n.cropX,y:-n.height/2-n.cropY},a)}function y(e,t,n){var r=n.calcTransformMatrix(),o=n.getViewportTransform(),a=_.fabric.util.multiplyTransformMatrices(o,r),i=n.getOriginalElementWidth(),c=n.getOriginalElementHeight();return _.fabric.util.transformPoint({x:i-n.width/2-n.cropX,y:c-n.height/2-n.cropY},a)}function O(e,t,n){var r=n.calcTransformMatrix(),o=n.getViewportTransform(),a=_.fabric.util.multiplyTransformMatrices(o,r),i=n.getOriginalElementHeight();return _.fabric.util.transformPoint({x:-n.width/2-n.cropX,y:i-n.height/2-n.cropY},a)}function S(e,t,n,r){var o=t.target,a=o.getOriginalElementWidth(),i=o.getOriginalElementHeight(),c=i-o.height-o.cropY,u=o.cropX/o.width,l=c/o.height,s=o.getCenterPoint(),f=o.translateToOriginPoint(s,-u,1+l),p=o.toLocalPoint(new _.fabric.Point(n,r),-u,1+l),h=o.scaleX,b=o.scaleY,m=d(p,i,a),g=m/h,v=m/b,y=o.width/g,O=o.height/v,S=c/v,w=o.cropX/g,j=i-O-S;if(w+y>a||S+O>i)return!1;o.scaleX=m,o.scaleY=m,o.height=O,o.width=y,o.cropX=w,o.cropY=j,o.clippingPath&&(o.clippingPath.scaleX/=g,o.clippingPath.scaleY/=v);var T=S/o.height,E=o.cropX/o.width;return o.setPositionByOrigin(f,-E,1+T),!0}function w(e,t,n,r){var o=t.target,a=o.getOriginalElementWidth(),i=o.getOriginalElementHeight(),c=o.cropX/o.width,u=o.cropY/o.height,l=o.getCenterPoint(),s=o.translateToOriginPoint(l,-c,-u),f=o.toLocalPoint(new _.fabric.Point(n,r),-c,-u),p=o.scaleX,h=o.scaleY,b=d(f,i,a),m=b/p,g=b/h,v=o.width/m,y=o.height/g,O=o.cropX/m,S=o.cropY/g;if(O+v>a||S+y>i)return!1;o.scaleX=b,o.scaleY=b,o.height=y,o.width=v,o.cropX=O,o.cropY=S,o.clippingPath&&(o.clippingPath.scaleX/=m,o.clippingPath.scaleY/=g);var w=o.cropX/o.width,j=o.cropY/o.height;return o.setPositionByOrigin(s,-w,-j),!0}function j(e,t,n,r){var o=t.target,a=o.getOriginalElementWidth(),i=o.getOriginalElementHeight(),c=a-o.width-o.cropX,u=c/o.width,l=o.cropY/o.height,s=o.getCenterPoint(),f=o.translateToOriginPoint(s,1+u,-l),p=o.toLocalPoint(new _.fabric.Point(n,r),1+u,-l),h=o.scaleX,b=o.scaleY,m=d(p,i,a),g=m/h,v=m/b,y=o.width/g,O=o.height/v,S=c/g,w=a-y-S,j=o.cropY/v;if(y+c>a||O+j>i)return!1;o.scaleX=m,o.scaleY=m,o.height=O,o.width=y,o.cropX=w,o.cropY=j,o.clippingPath&&(o.clippingPath.scaleX/=g,o.clippingPath.scaleY/=v);var T=S/y,E=j/O;return o.setPositionByOrigin(f,1+T,-E),!0}function T(e,t,n,r){var o=t.target,a=o.getOriginalElementWidth(),i=o.getOriginalElementHeight(),c=a-o.width-o.cropX,u=i-o.height-o.cropY,l=1+c/o.width,s=1+u/o.height,f=o.getCenterPoint(),p=o.translateToOriginPoint(f,l,s),h=o.toLocalPoint(new _.fabric.Point(n,r),l,s),b=d(h,i,a),m=o.scaleX,g=o.scaleY,v=b/m,y=b/g,O=c/v,S=u/y,w=o.width/v,j=o.height/y,T=a-w-O,E=i-j-S;if(w+O>a||j+S>i)return!1;o.scaleX=b,o.scaleY=b,o.width=w,o.height=j,o.cropX=T,o.cropY=E,o.clippingPath&&(o.clippingPath.scaleX/=v,o.clippingPath.scaleY/=y);var C=1+O/w,k=1+S/j;return o.setPositionByOrigin(p,C,k),!0}function E(e,t,n){var r=n.currPerspectiveFilter,o=r&&r.perspective||Object(M.b)(),a=o[this.x];return _.fabric.util.transformPoint({x:(-n.width/2-n.cropX+a.x*n.getOriginalElementWidth())*n.scaleX,y:(-n.height/2-n.cropY+a.y*n.getOriginalElementHeight())*n.scaleY},t)}function C(e){return e.height!==B&&this.visible}function k(e){return e.width!==F&&this.visible}function x(e){var t=e.height;return e.width!==F&&t!==B&&this.visible}function P(){_.fabric.Control.prototype.activeStyle={fill:"#ffffff",stroke:"#ffffff"},ne.tl.name="tl",ne.tr.name="tr",ne.bl.name="bl",ne.br.name="br",ne.mr.name="mr",ne.ml.name="ml",ne.mt.name="mt",ne.mb.name="mb",ne.tl.getVisibility=x,ne.tr.getVisibility=x,ne.bl.getVisibility=x,ne.br.getVisibility=x,ne.ml.getVisibility=k,ne.mr.getVisibility=k,ne.mt.getVisibility=C,ne.mb.getVisibility=C,Object.values(ne).forEach(ae),Object.values(re).forEach(ae),ne.mtr=te,re.mr.name="mr",re.ml.name="ml",re.mtr=te,delete re.mt,delete re.mb}var _=n(8),I=_.fabric.util.degreesToRadians,N=n(337),M=n(465),A=function(e){return function(t,n,r,o){var a=e(t,n,r,o),i=n.target;return a&&i.clippingPath&&Object(N.a)(i.clippingPath,i.width,i.height),a}},R=A(function(e,t,n,r){var o=p(e,t,n,r),a=b(e,t,n,r);return o||a}),D=A(function(e,t,n,r){var o=h(e,t,n,r),a=m(e,t,n,r);return o||a}),L=A(function(e,t,n,r){var o=p(e,t,n,r),a=m(e,t,n,r);return o||a}),G=A(function(e,t,n,r){var o=h(e,t,n,r),a=b(e,t,n,r);return o||a});n.d(t,"a",function(){return J}),n.d(t,"c",function(){return $}),n.d(t,"d",function(){return ee}),n.d(t,"e",function(){return oe}),t.b=P;var B=0,F=0,z=_.fabric.controlsUtils.renderCircleControl,U=_.fabric.controlsUtils.scaleCursorStyleHandler,H=f(2,2,i),W=f(-2,2,i),V=f(2,-2,i),K=f(-2,-2,i),X=f(0,2,c),Y=f(0,-2,c),q=f(2,0,c),Z=f(-2,0,c),J={tlS:new _.fabric.Control({x:-.5,y:-.5,name:"tlS",cursorStyleHandler:U,positionHandler:g,actionHandler:T,render:z}),trS:new _.fabric.Control({x:.5,y:-.5,name:"trS",cursorStyleHandler:U,positionHandler:v,actionHandler:S,render:z}),blS:new _.fabric.Control({x:-.5,y:.5,name:"blS",cursorStyleHandler:U,positionHandler:O,actionHandler:j,render:z}),brS:new _.fabric.Control({x:.5,y:.5,name:"brS",cursorStyleHandler:U,positionHandler:y,actionHandler:w,render:z}),cropLeft:new _.fabric.Control({x:-.5,y:0,name:"cropLeft",render:q,actionHandler:p,angle:90}),cropRight:new _.fabric.Control({x:.5,y:0,name:"cropRight",render:Z,actionHandler:h,angle:90}),cropTop:new _.fabric.Control({x:0,y:-.5,name:"cropTop",render:X,actionHandler:b}),cropBottom:new _.fabric.Control({x:0,y:.5,name:"cropBottom",render:Y,actionHandler:m}),cropCornerTL:new _.fabric.Control({x:-.5,y:-.5,name:"cropCornerTL",render:H,actionHandler:R}),cropCornerBL:new _.fabric.Control({x:-.5,y:.5,name:"cropCornerBL",render:V,angle:270,actionHandler:L}),cropCornerBR:new _.fabric.Control({x:.5,y:.5,name:"cropCornerBR",render:K,angle:180,actionHandler:D}),cropCornerTR:new _.fabric.Control({x:.5,y:-.5,name:"cropCornerTR",render:W,angle:90,actionHandler:G})},$={lockedTl:new _.fabric.Control({x:-.5,y:-.5,name:"lockedTl",cursorStyle:"not-allowed",render:u}),lockedTr:new _.fabric.Control({x:.5,y:-.5,name:"lockedTr",cursorStyle:"not-allowed",render:u}),lockedBl:new _.fabric.Control({x:-.5,y:.5,name:"lockedBl",cursorStyle:"not-allowed",render:u}),lockedBr:new _.fabric.Control({x:.5,y:.5,name:"lockedBr",cursorStyle:"not-allowed",render:u})},Q=_.fabric.controlsUtils.scalingEqually,ee={tl:new _.fabric.Control({x:0,y:0,name:"tl",render:s,positionHandler:E,actionHandler:Q}),tr:new _.fabric.Control({x:1,y:0,name:"tr",render:s,positionHandler:E,actionHandler:Q}),br:new _.fabric.Control({x:2,y:0,name:"br",render:s,positionHandler:E,actionHandler:Q}),bl:new _.fabric.Control({x:3,y:0,name:"bl",render:s,positionHandler:E,actionHandler:Q})},te=new _.fabric.Control({name:"mtr",x:0,y:.5,actionHandler:_.fabric.controlsUtils.rotationWithSnapping,render:f(0,2,l),offsetY:30,withConnection:!0}),ne=_.fabric.Object.prototype.controls,re=_.fabric.Textbox.prototype.controls,oe={tl:ne.tl,tr:ne.tr,bl:ne.bl,br:ne.br,mtr:te},ae=function(e){e.render=f(0,2,e.render)}},function(e,t,n){"use strict";e.exports={action:{delete:"Delete",information:"Information"},upload:{"add-to-canvas":"Add to Canvas","button-label":"Upload an image","help-tooltip-header":"Please follow these guidelines","help-tooltip-upload-max":"Must not exceed __MAX_UPLOADS__ total uploaded files","help-tooltip-upload-size":"JPG and PNG (__FILESIZE_LIMIT__MB maximum)","information-overlay":{edit:"Edit",delete:"Delete"},loading:"Loading...",modal:{header:"Upload image",drag:"Drag an image from your desktop",insert:"Insert an image from a URL",paste:"Paste URL link",warning:"Using others images on the web without their permission may be bad manners, or worse: copyright infringement.",uploading:"Uploading...","upload-image":"Upload an image","from-url":"From URL","from-computer":"From Computer","error-required":"A URL is required. Please enter a valid URL and try again.","error-invalid":"Looks like you have inserted an invalid URL. Please only submit URLs to jpeg or png images."},retry:"Upload again","sub-title":"or drag an image from your desktop","user-uploaded-media":"User Uploaded Media"},uploads:{onbeforeunload:"You have pending uploads, are you sure you want to leave?",untitled:"Untitled","zero-state":{"no-results":"Your uploaded images will appear here"}}}},function(e,t,n){"use strict";e.exports={action:{shutterstock:"Open on Shutterstock"},collection:{message:"Sorry, this image is currently not supported by Editor.","recently-viewed-title":"Save to Collection","search-similar":"Search similar images","suggest-tooltip-content":"Editor currently only supports images with jpegs in Shutterstock that meet a 500px x 500px requirement.",title:"Collection","view-collection":"View Collection"},lightbox:{rename:"Rename",delete:"Delete","zero-state":"Looks like you havent added any items yet. \n Start by adding images recently viewed."},recentlyviewed:{title:"Recently viewed images"},search:{"add-to-canvas":"Add to Canvas","set-as-background":"Set as background","result-label":"Add Photo"}}},function(e,t,n){"use strict";e.exports={action:{download:"Download",edit:"Edit",select:"Select"},tutorialstart:{text:"Text",resize:"Resize",search:"Search",select:"Select",coffee:"Coffee",drag:"Drag",drop:"Drop"},text:{addheadline:"Add headline"},pro:{presets:"Create unlimited custom preset sizes",templates:"Access unlimited Pro templates","add-gradients":"Add gradients"}}},,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"b",function(){return H});var r=n(12),o=(n.n(r),n(29)),a=(n.n(o),n(33)),i=n(17),c=n(14),u=n(543),l=Object(r.List)(),s=Object(r.Map)(),f=["Download"],d=function(e){return f.concat(e)},p=Object(a.a)(d("downloadProgress")),h=Object(a.a)(["Download","licensingDone"]),b=Object(a.a)(["Download","eligibilityInfo"]),m=Object(a.a)(d("multipageDownload")),g=Object(a.a)(b,function(e){return e&&e.get("re2sub")||s}),v=Object(a.a)(c.k.activePageId,m,i.B.editorImagesPerPage,i.B.editorImages,function(e,t,n,r){return t?r.length:n[e].length}),y=Object(a.a)(m,i.B.allLicensableAssetsCount,i.B.licensableAssetsCount,function(e,t,n){return e?t:n}),O=Object(a.a)(b,function(e){return e&&e.get("subscriptions")||l}),S=Object(a.a)(O,function(e){return e&&e.size>0?e.filter(function(e){return e.get("is_eligible_for_download")}):l}),w=Object(a.a)(b,function(e){return e&&e.get("redownloads")||Object(r.List)()}),j=Object(a.a)(d("TOSagree")),T=Object(a.a)(d("editorialUseOnlyArr")),E=Object(a.a)(T,c.k.activePageId,i.B.editorImagesPerPage,m,function(e,t,n,r){if(r)return e.size>0;var o=n[t].reduce(function(e,t){return e[+t.imageId]=!0,e},{});return e.filter(function(e){return o[e]}).size>0}),C=Object(a.a)(["Download","editorialUseOnlyChecked"]),k=Object(a.a)(d("fileFormat")),x=Object(a.a)(d("dpi")),P=Object(a.a)(S,function(e){return e.size?e.find(function(e){return e.get("selected")})||e.first():s}),_=Object(a.a)(P,function(e){return e&&e.get("id")}),I=Object(a.a)(O,w,function(e,t){return!!(e&&e.size>0||t&&t.size>0)}),N=Object(a.a)(y,v,function(e,t){return 0===e&&t>0}),M=Object(a.a)(S,y,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(r.List)(),t=arguments.length>1?arguments[1]:void 0,n=0===t,o=t>0,a=e.find(function(e){return e.get("remaining")>=t}),i=!(!o||!a);return n||i}),A=Object(a.a)(i.B.allEditorImageIds,i.B.editorImageIds,m,function(e,t,n){return(n?e:t).filter(function(e){return!Object(u.a)(e,o.client.freeImages)}).length>0}),R=Object(a.a)(A,y,function(e,t){return 0!==t&&e}),D=Object(a.a)(i.B.allEditorImageIds,function(e){return e.filter(function(e){return!Object(u.a)(e,o.client.freeImages)}).length>0}),L=Object(a.a)(S,N,y,A,function(e,t,n,r){return!(!t&&r)||!!e.filter(function(e){return e.get("remaining")>=n}).size}),G=Object(a.a)(d("TOSCheckBoxChecked")),B=Object(a.a)(d("srcId")),F=Object(a.a)(d("imageQuality")),z=Object(a.a)(j,G,E,C,A,function(e,t,n,r,o){if(!o)return!0;var a=e||t,i=!n||r;return a&&i}),U=Object(a.a)(d("error")),H=Object(a.a)(d("eligibilityFinished")),W=Object(a.a)(d("checkGoogleDriveAuth")),V=Object(a.a)(d("DropboxAuthToken")),K=Object(a.a)(d("includeOriginal")),X=Object(a.a)(d("pollingSubscriptionStatus")),Y=Object(a.a)(X,function(e){return!0===e}),q=Object(a.a)(X,function(e){return"active"===e}),Z=Object(a.a)(d("embedExportFunction")),J=Object(a.a)(Object(a.a)(d("selectedReelImageId")),i.B.allLicensableAssets,function(e,t){var n=t.first();return e||(n?n.get("id"):0)}),$=Object(a.a)(d("imagesToLicense")),Q=Object(a.a)(J,i.B.allLicensableAssets,function(e,t){var n=t.find(function(t){return t.get("id")===e});return n?n.get("contributorInfo"):t&&t.first()?t.first().get("contributorInfo"):{}});t.a={downloadProgress:p,licensingDone:h,eligibilityInfo:b,downloadMultipageSelected:m,imagesWithRedownloads:g,totalImages:v,totalCredits:y,allSubscriptions:O,subscriptions:S,redownloadSubscriptions:w,TOSagree:j,editorialUseOnly:E,editorialUseOnlyChecked:C,fileFormat:k,dpi:x,selectedSubscription:P,selectedSubscriptionId:_,hasSubscriptions:I,isRedownload:N,hasDownloads:M,hasLicensableShutterstockImage:A,isLicenseRequired:R,designContainsLicensableShutterstockImage:D,hasRequiredCredits:L,TOSCheckBoxChecked:G,srcId:B,imageQuality:F,allowedToDownload:z,downloadError:U,eligibilityFinished:H,checkGoogleDriveAuth:W,dropBoxAuthToken:V,includeOriginal:K,pollingSubscription:X,pollingSubscriptionSuccess:Y,pollingSubscriptionActive:q,embedExportFunction:Z,selectedReelImageId:J,imagesToLicense:$,contributorInfoFromReel:Q}},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"n",function(){return a}),n.d(t,"k",function(){return i}),n.d(t,"j",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"l",function(){return l}),n.d(t,"i",function(){return s}),n.d(t,"f",function(){return f}),n.d(t,"o",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"p",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"m",function(){return m}),n.d(t,"h",function(){return g}),n.d(t,"d",function(){return v});var r="SELECT_SUBSCRIPTION",o="SET_DOWNLOAD_ERROR",a="SET_SRC_ID",i="SET_IMAGE_QUALITY",c="SET_GOOGLE_DRIVE_AUTH",u="SET_DROPBOX_AUTH",l="SET_INCLUDE_ORIGINAL",s="SET_FILE_FORMAT",f="SET_DPI",d="TOGGLE_MULTIPAGE_DOWNLOAD",p="INIT_DOWNLOAD_PROGRESS",h="UPDATE_DOWNLOAD_PROGRESS",b="CLEAR_DOWNLOAD_PROGRESS",m="SET_POLLING_SUBSCRIPTION_STATUS",g="SET_EMBED_EXPORT_FUNCTION",v="SET_DOWNLOAD_COMPLETED"},,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return O});var h=n(0),b=n.n(h),m=n(4),g=n.n(m),v=n(133),y=n(38),O=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.target,n=e.children,r=e.className,o=e.nudge,a=e.defaultLeft,i=e.defaultTop,c=e.empty,u=e.interactive,l=e.hideOnClick,s=y.a.componentLocator.getHTMLelement(t),f={left:a,top:i},d=s?s.getBoundingClientRect():f;d={left:d.left,top:d.top,width:d.width,height:d.height},o&&(d.left+=o.left||0,d.top+=o.top||0);var p={left:d.left,top:d.top};return c&&(p.width=d.width,p.height=d.height),b.a.createElement(v.a,{className:g()("cmpDownloadPanelPreview","TooltipModal",r),hideHeader:!0,hideOnClick:l,style:p},n,!u&&b.a.createElement("div",{className:"stop-interactions"}))}}]),t}(h.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(O,"displayName","TooltipModal")},,function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}function l(e){e.width+=2*e.cropX,e.height+=2*e.cropY;var t=e.calcCoords(!0),n=t.tl;e.width=e._originalElement.width,e.height=e._originalElement.height,e.cropX=0,e.cropY=0,e.setPositionByOrigin(n,"left","top")}function s(){var e=Object(v.a)(),t=e.getActiveObject();t.pixellated=!t.pixellated,e.fire("save",{target:t}),e.renderAll()}function f(e){return Object(w.a)(e).then(function(t){var n=Object(v.a)(),o=t.match(O.a),a=r(o,2),i=a[1],c=new y.fabric.Path(i,{name:e,pathString:i}),u=n.getActiveObject();u.clippingPath=c;var s=u._element.width,f=u._element.height;l(u),Object.assign(u,Object(S.a)(c,s,f)),u.setCoords(),u.set("dirty",!0),n.requestRenderAll()})}function d(e){return f(e).then(function(){var e=Object(v.a)(),t=e.getActiveObject();e.fire("setData",{target:t})})}function p(){var e=Object(v.a)(),t=e.getActiveObject();t.clippingPathData=null,t.clippingPath=null,l(t),t.setCoords(),e.fire("setData",{target:t}),e.requestRenderAll()}function h(e){var t=Object(v.a)(),n=t.getActiveObject();if(!n)return Promise.resolve();var r=function(){n.cropX=e.croppingCropX,n.cropY=e.croppingCropY,n.width=e.croppingWidth,n.height=e.croppingHeight,n.top=e.croppingTop,n.left=e.croppingLeft,n.setCoords(),n.set("dirty",!0),t.requestRenderAll()},o=e.selectedShape;return"none"===o?(n.clippingPath=void 0,r(),Promise.resolve()):f(o).then(function(){n.clippingPath.scaleX=e.croppingScale,r()})}function b(e){var t=e.action,n=e.shape,r=e.activeObject,o=e.metricSource,a=e.background;j.a.click("cropTool.".concat(t),{cropX:r.cropX,cropY:r.cropX,width:r.width,height:r.height,shape:n,isBackground:!a,source:o})}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T._131,t=arguments.length>1?arguments[1]:void 0,n=Object(v.a)(),r=n.getBackgroundImage();!n.getActiveObject()&&r&&n.setActiveObject(r);var o,a,i=n.getActiveObject();r&&-1!==n.getActiveObjects().indexOf(r)&&(r.selectable=!1,n._discardActiveObject()),i.isCropping=!1,o=!0!==t?"exit":"cancel",i.clipPathObject&&i.clipPathObject.name&&(a=i.clipPathObject.name),t?n.fire("setData",{target:i}):n.fire("save",{target:i}),k.default.evaluate(x.h.isMobile)?Object(C.a)():Object(C.h)("ObjectToolbarPanel"),b({action:o,shape:a,activeObject:i,metricSource:e,background:r})}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T._131,t=Object(v.a)(),n=t.getBackgroundImage();!t.getActiveObject()&&n&&t.setActiveObject(n);var r=t.getActiveObject();r.isLocked&&(r.isLocked=!1),Object(E.b)(),k.default.evaluate(x.h.isMobile)?(Object(C.d)(),Object(C.f)("CropPanelMobile")):Object(C.h)("CropPanel"),r.isCropping=!0,t.fire("setData",{target:r}),b({action:"enter",activeObject:r,metricSource:e,background:n})}t.g=s,t.a=d,t.e=p,t.f=h,t.d=m,t.c=g;var v=n(6),y=n(8),O=(n.n(y),n(717)),S=n(337),w=n(718),j=n(7),T=n(9),E=n(80),C=n(16),k=n(1),x=n(22);t.b={togglePixellated:s,_applyShape:f,applyShape:d,removeShape:p,setCropData:h,exitCropMode:m,enterCropMode:g}},function(e,t,n){"use strict";n.d(t,"u",function(){return f}),n.d(t,"p",function(){return h}),n.d(t,"d",function(){return g}),n.d(t,"f",function(){return v}),n.d(t,"q",function(){return y}),n.d(t,"k",function(){return O}),n.d(t,"t",function(){return w}),n.d(t,"l",function(){return j}),n.d(t,"s",function(){return T}),n.d(t,"i",function(){return E}),n.d(t,"c",function(){return k}),n.d(t,"r",function(){return x}),n.d(t,"j",function(){return P}),n.d(t,"b",function(){return _}),n.d(t,"g",function(){return I}),n.d(t,"a",function(){return N}),n.d(t,"e",function(){return M}),n.d(t,"o",function(){return R}),n.d(t,"h",function(){return D}),n.d(t,"m",function(){return L}),n.d(t,"n",function(){return G});var r=n(33),o=n(12),a=(n.n(o),n(17)),i=n(14),c=Object(o.List)(),u=Object(o.Map)(),l=function(e){return function(t){return t.get("Download").get(e)}},s=l("eligibilityFinished"),f=function(e){return!s(e)},d=l("downloadProgress"),p=l("multipageDownload"),h=function(e){return d(e).size>0},b=l("eligibilityInfo"),m=Object(r.a)(a.B.editorImagesPerPage,function(e){return Object.keys(e).reduce(function(t,n){var r=e[n].map(function(e){var t=e.imageId;return Number(t)});return t[n]=r,t},{})}),g=function(e){var t=b(e),n=m(e),r=i.k.activePageId(e),o=p(e);return t?o?t.get("totalCredits"):t.get("totalCredits").filter(function(e){return n[r].includes(e)}):c},v=function(e){return g(e).size},y=function(e){var t=m(e),n=i.k.activePageId(e);return p(e)?Object.keys(t).some(function(e){return t[e].length>0}):t[n].length>0},O=Object(r.a)(b,v,function(e,t){return 0===t||!!e&&e.get("subscriptions").some(function(e){return e.get("remaining")>=t})}),S=function(e){var t=b(e);return t?t.get("subscriptions")||c:c},w=Object(r.a)(S,function(e){return e&&e.size>0?e.filter(function(e){return e.get("is_eligible_for_download")}):c}),j=function(e){return 0===w(e).size},T=function(e){var t=w(e);return t.find(function(e){return e.get("selected")})||t.first()||u},E=l("editorialUseOnlyChecked"),C=l("editorialUseOnlyArr"),k=Object(r.a)(C,i.k.activePageId,a.B.editorImagesPerPage,p,function(e,t,n,r){return r?e.size>0:n[t].some(function(t){return e.includes(Number(t.imageId))})}),x=l("multipageDownload"),P=l("fileFormat"),_=l("TOSagree"),I=l("downloadCompleted"),N=l("TOSCheckBoxChecked"),M=function(e){return _(e)||N(e)},A=function(e){return!k(e)||E(e)},R=function(e){return!y(e)||!(!M(e)||!A(e))},D=l("error"),L=l("imagesToLicense"),G=function(e){var t=L(e);return t?{maximizeSize:!0,pages:[{images:t.map(function(e){return{fabricObject:{imageId:e}}})}]}:{}}},function(e,t,n){"use strict";function r(e){switch(e){case"3Dumb":case"Bebas":case"Chomsky":case"Edo":case"Finger-Paint":case"FFF-Tusj":case"Lapsus-Pro":case"National Park":case"National Park Outline":case"National Park Heavy":case"National Park Thin":case"Roboto Thin":case"Noto Sans Japanese":return"/editor/image/assets/fonts/".concat(e,"/index.css");default:return"https://fonts.googleapis.com/css?family=".concat(e,":700,400italic,700italic,400")}}function o(e){var t=r(e),n=document.createElement("link");n.setAttribute("href",t),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),document.head.appendChild(n)}function a(e,t,n){var r=Object(l.a)();r.contextCache.font="".concat(n," ").concat(t," 30px ").concat(e),r.contextCache.fillText("sometext",0,0)}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:400,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:3e4;if(-1!==f.default.evaluate(d.d).indexOf(e))return Promise.resolve();t=y[t]||t;var c=Object(g.a)(e,t,n),l=v[c];return l||(r?Promise.resolve():p.a.loadFonts()).then(function(){if(!r&&-1===f.default.evaluate(d.c).indexOf(e)){var p=new Error("Font unavailable");throw p.fontName=e,p.trackjsMeta=[{key:"fontName",value:e},{key:"weight",value:t},{key:"style",value:n}],p}o(e);var h=e,b=new u.a(h,{weight:t,style:n});return l=v[c]=b.load(null,i).catch(function(r){delete v[c];var o=new Error("FontFaceObserver load timeout");throw o.trackjsMeta=[{key:"message",value:r.message},{key:"timeout",value:i},{key:"fontName",value:e},{key:"weight",value:t},{key:"style",value:n}],o}),Object(s.s)()?l=l.then(function(r){return a(e,t,n),Object(m.a)(250).then(function(){return r})}):l}).catch(function(e){b.a.noticeError(e),h.b.track("createFontFace failed",{type:e.family?e.family:e.fontName})})}t.a=i;var c=n(1381),u=n.n(c),l=n(6),s=n(18),f=n(1),d=n(277),p=n(360),h=n(7),b=n(44),m=n(120),g=n(675),v={},y={normal:400,bold:700}},function(e,t,n){"use strict";function r(e){var t=this,n=e.length,r=new Array(n);return e.forEach(function(e,o){var a=e.action,i=e.tracking,c=e.doneText||f("action.done"),u=e.nextText||f("action.next"),l=e.backText||f("action.back"),s=o===n-1?c:u,d=l;r[o]=function(){return new Promise(function(e){var r=o===n-1?"end":"next",i=o>0?"back":null,c=e.bind(t,r),u=e.bind(t,i),l=e.bind(t,"quit");return a({index:o,nextAction:c,backAction:u,primaryText:s,secondaryText:d,total:n,quitAction:l})()}).then(function(e){return e&&i&&i(o+1,e),"next"===e?r[o+1]():"back"===e?r[o-1]():"end"===e?Promise.resolve("end"):void 0})}}),r}function o(e){var t=e.index,n=e.title,r=e.message,o=e.nextAction,a=e.primaryText,c=e.secondaryText,u=e.total,l=e.backAction,d=e.quitAction,p=e.direction;return i.a.createElement("div",{className:"forOnboarding"},i.a.createElement(s.a,{message:r,direction:p,title:n,showCount:!0,count:t+1,total:u,buttonText:a,onClick:o,secondaryClick:l,secondaryText:c}),t!==u-1&&i.a.createElement("div",{className:"skipTour"},i.a.createElement("span",{onClick:d},f("onboarding.skip"))))}t.a=r,t.b=o;var a=n(0),i=n.n(a),c=n(2),u=n(196),l=n.n(u),s=n(185),f=Object(c.c)(l.a)},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(33),o=Object(r.a)(["SearchPanel"]),a={};["query","suggestQuery","error","page","perPage","pending","resultPages","totalCount","progress","activeResult","resultType","image_type","searchQueryInputValue","previousAdvanceSearchValues"].forEach(function(e){a[e]=Object(r.a)(o.concat(e))}),a.searchPanel=o,a.searchProgress=a.progress},function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return d});var r=n(33),o=n(12),a=(n.n(o),Object(r.a)(["UploadsPanel"])),i=Object(r.a)(a.concat("error")),c=Object(r.a)(a.concat("page")),u=Object(r.a)(a.concat("perPage")),l=Object(r.a)(a.concat("pending")),s=Object(r.a)(a.concat("resultPages")),f=Object(r.a)(a.concat("totalCount")),d=Object(r.a)(a.concat("imageInfo")),p=Object(r.a)(a.concat("balanceCount")),h=Object(r.a)(a.concat("position")),b=Object(r.a)(a.concat("uploadCount")),m=function(e){return Object(r.a)(s,function(t){return t.map(function(e){return e.get("images")}).flatten(!0).find(function(t){return t.get("link")===e})||Object(o.Map)({})})};t.a={uploadsPanel:a,error:i,page:c,perPage:u,pending:l,resultPages:s,totalCount:f,imageInfo:d,balanceCount:p,position:h,uploadCount:b,metadataByLink:m}},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return s});var r=n(21),o=n.n(r),a=n(254),i=n.n(a),c=function(){return o()(document,"defaultView.editor.mediaData",{})},u=function(e){return c()[e]},l=function(e){return!u(e)},s=function(e){return i()(document,"defaultView.editor.mediaData",Object.assign(c(),e))}},,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){return navigator.userAgent.includes("Mac OS X")?m:b}function c(e){return i()[e]}function u(){return i()}t.a=c,t.b=u;var l=n(2),s=n(1458),f=n.n(s),d=Object(l.c)(f.a),p={help:d("shortcuts.help.text"),zoomin:d("shortcuts.zoomin.text"),zoomout:d("shortcuts.zoomout.text"),zoomwheel:d("shortcuts.zoomwheel.text"),zoomarea:d("shortcuts.zoomarea.text"),pan:d("shortcuts.pan.text"),fullscreen:d("shortcuts.fullscreen.text"),objectmove:d("shortcuts.objectmove.text2"),objectmoveless:d("shortcuts.objectmoveless.text2"),objectmovemore:d("shortcuts.objectmovemore.text2"),delete:d("shortcuts.delete.text2"),skew:d("shortcuts.skew.text2"),resize:d("shortcuts.resize.text2"),snap:d("shortcuts.snap.text"),undo:d("shortcuts.undo.text"),redo:d("shortcuts.redo.text"),save:d("shortcuts.save.text"),newpage:d("shortcuts.newpage.text2"),objectzindexbackwards:d("shortcuts.objectzindex.backwards.text"),objectzindextoback:d("shortcuts.objectzindex.toback.text"),objectzindexforwards:d("shortcuts.objectzindex.forwards.text"),objectzindextofront:d("shortcuts.objectzindex.tofront.text"),duplicate:d("shortcuts.duplicate.text2"),copy:d("shortcuts.copy.text"),paste:d("shortcuts.paste.text"),ruler:d("shortcuts.ruler.text"),preview:d("shortcuts.preview.text"),selectall:d("shortcuts.selectall.text2")},h={help:{text:p.help,key:d("shortcuts.help.key",{key:"?"})},zoomin:{text:p.zoomin,key:d("shortcuts.zoomin.key",{key:"z + left click"})},zoomout:{text:p.zoomout,key:d("shortcuts.zoomout.key",{key:"z + right click"})},zoomwheel:{text:p.zoomwheel,key:d("shortcuts.zoomwheel.key",{key:"ctrl + mousewheel"})},zoomarea:{text:p.zoomarea,key:d("shortcuts.zoomarea.key",{key:"z + drag"})},pan:{text:p.pan,key:d("shortcuts.pan.key",{key:"space + drag"})},fullscreen:{text:p.fullscreen,key:d("shortcuts.fullscreen.key",{key:"ctrl +  + f"})},objectmove:{text:p.objectmove,key:d("shortcuts.objectmove.key",{key:"   "})},objectmoveless:{text:p.objectmoveless,key:d("shortcuts.objectmoveless.key",{key:" +    "})},delete:{text:p.delete,key:d("shortcuts.delete.key",{key:""})},skew:{text:p.skew,key:d("shortcuts.skew.key",{key:" + click + drag"})},snap:{text:p.snap,key:d("shortcuts.snap.key",{key:" + drag"})},ruler:{text:p.ruler,key:d("shortcuts.ruler.key",{key:" + R"})},preview:{text:p.preview,key:d("shortcuts.preview.key",{key:" + P"})}},b=o(o({},h),{},{undo:{text:p.undo,key:d("shortcuts.pc.undo.key")},redo:{text:p.redo,key:d("shortcuts.pc.redo.key")},save:{text:p.save,key:d("shortcuts.pc.save.key")},newpage:{text:p.newpage,key:d("shortcuts.pc.newpage.key")},objectmovemore:{text:p.objectmovemore,key:d("shortcuts.pc.objectmovemore.key")},objectzindexbackwards:{text:p.objectzindexbackwards,key:d("shortcuts.pc.objectzindex.backwards.key")},objectzindextoback:{text:p.objectzindextoback,key:d("shortcuts.pc.objectzindex.toback.key2")},objectzindexforwards:{text:p.objectzindexforwards,key:d("shortcuts.pc.objectzindex.forwards.key")},objectzindextofront:{text:p.objectzindextofront,key:d("shortcuts.pc.objectzindex.tofront.key2")},duplicate:{text:p.duplicate,key:d("shortcuts.pc.duplicate.key")},resize:{text:p.resize,key:d("shortcuts.pc.resize.key")},copy:{text:p.copy,key:d("shortcuts.pc.copy.key2")},paste:{text:p.paste,key:d("shortcuts.pc.paste.key2")},selectall:{text:p.selectall,key:d("shortcuts.pc.selectall.key")}}),m=o(o({},h),{},{undo:{text:p.undo,key:d("shortcuts.mac.undo.key")},redo:{text:p.redo,key:d("shortcuts.mac.redo.key")},save:{text:p.save,key:d("shortcuts.mac.save.key")},newpage:{text:p.newpage,key:d("shortcuts.mac.newpage.key")},objectmovemore:{text:p.objectmovemore,key:d("shortcuts.mac.objectmovemore.key")},objectzindexbackwards:{text:p.objectzindexbackwards,key:d("shortcuts.mac.objectzindex.backwards.key")},objectzindextoback:{text:p.objectzindextoback,key:d("shortcuts.mac.objectzindex.toback.key2")},objectzindexforwards:{text:p.objectzindexforwards,key:d("shortcuts.mac.objectzindex.forwards.key")},objectzindextofront:{text:p.objectzindextofront,key:d("shortcuts.mac.objectzindex.tofront.key2")},duplicate:{text:p.duplicate,key:d("shortcuts.mac.duplicate.key")},resize:{text:p.resize,key:d("shortcuts.mac.resize.key")},copy:{text:p.copy,key:d("shortcuts.mac.copy.key")},paste:{text:p.paste,key:d("shortcuts.mac.paste.key")},selectall:{text:p.selectall,key:d("shortcuts.mac.selectall.key")}})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return O});var m=n(0),g=n.n(m),v=n(4),y=n.n(v),O=function(e){function t(){var e;a(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),b(d(e),"columnHeights",[0,0]),e}u(t,e);var n=s(t);return c(t,[{key:"buildImageColumns",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=[[],[]],r=[0,0];if("number"==typeof t.columnCount)for(;n.length<t.columnCount;)n.push([]),r.push(0);var o=t.imageMinHeight||50,a=t.imageDefaultMargin||10,i=t.imageMinWidth||125,c=t.imageMaxHeight||200,u=0;return e.forEach(function(e){var t=0,l=Math.min.apply(Math,r);if(t=isNaN(l)?u++%r.length:r.indexOf(l),e.preview){var s=e.preview,f=s.height,d=s.width,p=Math.ceil(i*f/d)-1;p<o&&(p=o),p>c&&(p=c),e.actualWidth=i,e.actualMargin=a,e.actualHeight=p,r[t]+=p+a}n[t].push(e)}),this.columnHeights=r,n}},{key:"levelColumns",value:function(e,t){var n=t[0]-t[1],r=0;n>0&&(r=1);var o=e[r],a=Math.abs(n)/(o.length-1);return o.forEach(function(e,t){t!==o.length-1&&(e.actualMargin+=a)}),e}},{key:"renderColumns",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=this.buildImageColumns(e,r),i=r.controllingKey,c=r.controllingIndex;return g.a.createElement("div",{ref:"results",className:y()("search-results","columns-".concat(r.columnCount))},a.map(function(e,r){return g.a.createElement("div",{className:"search-results-column",key:r},e.map(function(e,u){var l;return c&&c[r]&&c[r][u]&&(l="".concat(i,"-").concat(r,"-").concat(u)),g.a.createElement(t,o({controllingKey:l,hideForOptimization:!e.preview,item:e,classNames:n.getRowClassNames(a.length,r),key:e.tempId||"".concat(e.id,"-").concat(u)||u},n.props,e))}))}))}},{key:"getRowClassNames",value:function(e,t){return 0===t?"firstInRow":t===e-1?"lastInRow":void 0}}]),t}(m.PureComponent)},function(e,t,n){"use strict";e.exports={action:{cancel:"Cancel",create:"Create",delete:"Delete",rename:"Rename",save:"Save"},collection:{"create-collection":"Create Collection","create-label":"Create","create-or-choose":"Select or create a new Collection","delete-collection-title":"Delete Collection","delete-from-collection-sub-title":"Are you sure you want to delete this item? Deleting it will also remove the item from your Collection on Shutterstock","delete-from-lightbox-title":"Delete item",placeholder:"Enter new Collection name","rename-collection":"Rename Collection","save-to-collection":"Save to a Collection"}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=h.default.evaluate(O.y),t=h.default.evaluate(E.c.backgroundWarning);return j()(e)?Promise.resolve():T.b.showReplaceWarningModal(x.a,t)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C._44;return Object(v.d)(!0)?Promise.resolve():(h.default.evaluate(P.h.isMobile)&&Object(_.b)(),i().then(function(){return y.a.setNewImage(e,"editorImage",t)}).catch(function(e){throw k.a.noticeError(e),e}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Object(v.d)(!1))return Promise.resolve();h.default.dispatch(g.G,"searchProgress");var n=function(){I.includes(t)&&M.setImageInfo(null,t),h.default.dispatch(g.G,null),p.b.track("Search panel add to canvas",{action_name:"addToCanvas",type:"editorImage",add_to_canvas_image_id:e.id})},r=function(e){h.default.dispatch(g.G,null),k.a.noticeError(e)};return h.default.evaluate(P.h.isMobile)&&Object(_.b)(),Object(S.a)(e).then(n,r)}function l(e,t){if(j()(e)&&I.includes(t))return h.default.dispatch(N[t],{data:e,context:t}),!1;if(I.includes(t)){var n=s(e).then(function(){var n=o({},e);h.default.dispatch(N[t],{data:n,context:t})});return h.default.dispatch(N[t],{data:e,context:t}),n}}function s(e){var t=e.contributorID,n=Object(d.e)("contributorInfo"),r={query:t},o=function(t){var n=t.contributorName;e.contributorName=n};return Object(f.a)({url:n,data:r,dataType:"json"}).then(o).catch(o)}t.b=c,t.a=u,t.c=l;var f=n(43),d=n(18),p=n(7),h=n(1),b=n(471),m=n(509),g=n(19),v=n(154),y=n(118),O=n(17),S=n(269),w=n(1470),j=n.n(w),T=n(56),E=n(49),C=n(9),k=n(44),x=n(119),P=n(22),_=n(16),I=["searchPanel","lightbox"],N={searchPanel:b.c,backgroundPanel:b.c,lightbox:m.i},M={setImageInfo:l}},,,,,,,function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}n.d(t,"a",function(){return m}),n.d(t,"b",function(){return g}),n.d(t,"d",function(){return v});var l=n(0),s=n.n(l),f=n(37),d=(n.n(f),n(19)),p=n(1),h=n(17),b=Object(l.createContext)();b.displayName="OpenToolContext";var m=(b.Provider,function(e){var t=e.children,n=Object(l.useRef)(),r=Object(f.useDispatch)(),o=function(e){n.current&&n.current(),r({type:d.y,payload:e}),n.current=e};return s.a.createElement(b.Provider,{value:o},t)}),g=function(){var e=p.default.evaluate(h.O);e&&e()},v=function(){var e=Object(l.useRef)(),t=Object(l.useContext)(b),n=Object(l.useCallback)(function(n){n.target===e.current&&t()});return{container:e,closeTools:n}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object(l.useContext)(b),o=Object(l.useState)(e),a=r(o,2),i=a[0],c=a[1],u=Object(l.useCallback)(function(e){e?(n&&n(function(){return c(t)}),c(e)):c(t)},[c,t,n]),s=Object(l.useCallback)(function(){return u(!0)},[u]),f=Object(l.useCallback)(function(){return u(t)},[u,t]);return[i,u,s,f]};t.c=y},,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(u,r,o,a,c,"next",e)}function c(e){i(u,r,o,a,c,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!e.url&&e.canvas&&(e.url=e.canvas.toDataURL());var t=_.defaults,n=e.imageId||e.id,r=n?"".concat(n):void 0,o=e.fileTitle,a={signatureBarHeight:0,imageId:r,fileTitle:o,selectable:!1!==e.selectable,strokeNofill:t.stroke.nofill,strokeWidth:t.stroke.width,stroke:t.stroke.fill,strokeDashArray:t.stroke.dashArray,shadow:new j.fabric.Shadow(t.shadow)};return e.scaleX&&e.scaleY&&(a.scaleX=e.scaleX,a.scaleY=e.scaleY),a}function l(e){return s.apply(this,arguments)}function s(){return s=c(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,l,s,f,d,p,h,v,w,j,C=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=C.length>1&&void 0!==C[1]?C[1]:{},r=u(n),r.src=t.prototype.getSrc(n.url||n.id),o=n.asset,a=b.default.evaluate(g.b).toJS(),i=new t(o,r),c=i.height*i.scaleY,l=i.width*i.scaleX,n.isBackground&&n.asset||(c>a.height||l>a.width)&&(c>l?i.scaleToHeight(.98*a.height):i.scaleToWidth(.98*a.width)),n.isPlaceholder&&n.width&&i.scaleToWidth(n.width),!(i.scaleX>P)||n.scaleX&&n.scaleY||(s=r.fileTitle)&&Object(S.n)({fileTitle:s}),f=r.imageId,Object(O.a)(i._originalElement,{imageId:f,widget:"filterButton",imageKey:i.getImageKey()}),d={disableAnimationEntry:n.disableAnimationEntry,targetIndex:n.targetIndex},n.isBackground&&(d.disableAnimationEntry=!0,d.isBackground=!0,d.autoSave=b.default.evaluate(T.g)),d.resizeArtboard=n.resizeArtboard,d.allowTargetSave=n.allowTargetSave||!n.changeDims,p=n.position,h=Object(E.b)(p),h&&(x.b.track("Image Replace Drop"),v=Object(m.a)(),d.targetIndex=v.getObjects().indexOf(h),d.disableAnimationEntry=!0,p=h.getCenterPoint(),h&&(i.isPlaceholder=!0),w=Object(E.a)(i,h),Object.assign(i,w),j=h.clippingPath,h.originals&&(j&&(i.clippingPath=j,Object(k.a)(j,i.width,i.height)),i.strokeWidth=h.strokeWidth,i.strokeDashArray=h.strokeDashArray,i.stroke=h.stroke,i.strokeNofill=h.strokeNofill,i.shadow=h.shadow,i.vignetteStrength=h.vignetteStrength,i.opacity=h.opacity,i.filters=h.filters,i.applyFilters(null,!0)),v.remove(h),h.off()),e.abrupt("return",y.b.addNewObjectAndSave(i,p,d));case 21:case"end":return e.stop()}},e)})),s.apply(this,arguments)}function f(){return 0===b.default.evaluate(C.c.activePresetId)}function d(e){if(!e)return!1;var t=e.height,n=e.width,r=e.scaleX,o=e.scaleY,a=Object(m.a)(),i=a.getArtboard();if(!i)return!1;var c=f(),u=0===e.angle,l=t*o-4<=i.height,s=n*r-4<=i.width,d=1===a._objects.length;return c&&u&&l&&s&&d}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},e);return v.a.getLoadedAsset({type:"editorImage",id:e.id}).then(function(n){if(t.resizeArtboard){t.isBackground=!0,t.allowTargetSave=!1,delete t.position;var r=Object(m.a)(),o=r.getBackgroundImage();o&&r.remove(o)}return t.scaleX=e.scaleX||n.height/n.sourceImage.height,t.scaleY=e.scaleY||n.width/n.sourceImage.width,t.asset=n.sourceImage,l(j.fabric.EditorImage,t)}).catch(function(e){throw e})}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=o({},e);return t.type="userImage",v.a.getLoadedAsset(t).then(function(n){return e.resizeArtboard&&(delete t.position,t.isBackground=!0,t.allowTargetSave=!1),t.asset=n.sourceImage,y.b.setArtboard(),l(j.fabric.UserImage,t)})}t.d=f,t.e=d,t.a=p,t.b=h;var b=n(1),m=n(6),g=n(14),v=n(118),y=n(57),O=n(122),S=n(79),w=n(22),j=n(8),T=(n.n(j),n(30)),E=n(707),C=n(117),k=n(337),x=n(7),P=b.default.evaluate(w.n),_=n(1432);t.c={create:p,createUserImage:h}},function(e,t,n){"use strict";function r(e){var t=e.currentColor,n=e.newColor,r=e.width,o=e.height,a=e.type,i={colorStops:[{offset:0,color:t,opacity:w()(t).getAlpha()},{offset:1,color:n,opacity:w()(n).getAlpha()}],offsetX:0,offsetY:0};if("radial"===a){var c=r/2,u=o/2;return new v.fabric.Gradient(O()({type:"radial",coords:{x1:c,y1:u,x2:c,y2:u,r1:1,r2:Math.min(u,c)}},i))}return new v.fabric.Gradient(O()({coords:{x1:0,y1:o/2,x2:r,y2:o/2}},i))}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.currentColor,o=t.newColor,a=t.nofill;if(n.colorStops){e=n;var i=e.colorStops,c=i.length;i.forEach(function(e,t){e.offset=t/c}),i.push({color:o,offset:1,opacity:a?0:1}),e.colorStops=i}else e=r(t);return e}function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return{id:e.id,fill:e.fill&&e.fill.toObject?e.fill.toObject():e.fill,nofill:e.nofill,styles:e.styles}}var c=n(6),u=n(181),l=n(548),s=n(1),f=n(7),d=n(65),p=n(179),h=n(115),b=n(19),m=n(17),g=n(56),v=n(8),y=n(77),O=n.n(y),S=n(194),w=n.n(S),j=n(850),T={setColor:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;t&&Object(g.d)(e);var r=s.default.evaluate(m.B.multiSelectedOrGrouped),a=!1;e===h.a&&(a=!0);var f={fill:e,nofill:a},b=Object(c.a)(),v=Object(u.a)(b.getActiveObjects());v.forEach(function(i){t&&i.previewer&&i.previewer.stop(),n>=0&&!r&&(i.fill.colorStops?(i.fill.colorStops[n].color=e,i.fill.colorStops[n].opacity=a?0:1):i.fill=o({nofill:a,currentColor:i.fill,newColor:e,width:i.width,height:i.height,type:"linear"}),f.nofill=!1,i.dirty=!0,f.fill=i.fill),Object(l.a)(i,f)}),t?d.default.setFabricObjectsData({objects:v.map(i)}):p.b.socketEmitActiveManual(v.map(i)),b.requestRenderAll(),void 0===n&&t&&s.default.dispatch(j.a)},selectGradientColorStop:function(e){s.default.dispatch(b.a,e),Object(c.a)().requestRenderAll()},trackAction:function(e){f.b.track("selected text color",{"text color":e})},preview:function(e){var t=Object(c.a)(),n=Object(u.a)(t.getActiveObjects()),r=s.default.evaluate(m.B.activeGradientColorStop);n.forEach(function(n){if(n.previewer){var o=n.fill;"object"===a(n.fill)&&(o=n.fill.colorStops[r].color),n.previewer.start({fill:{startValue:o,finalValue:e,helper:function(e){var o=e;"object"===a(n.fill)&&(n.fill.colorStops[r].color=e,o=n.fill),Object(l.a)(n,{fill:o,nofill:!1}),n.dirty=!0,t.requestRenderAll()}}})}})},stopPreview:function(){var e=Object(c.a)();Object(u.a)(e.getActiveObjects()).forEach(function(e){e.previewer&&e.previewer.stop()})}};t.a=T},function(e,t,n){"use strict";n.d(t,"a",function(){return h});var r=n(17),o=n(33),a=n(129),i=n.n(a),c=Object(o.a)(["FilterPanel"]),u=Object(o.a)(c.concat("filterPreview")),l=Object(o.a)(c.concat("sections")),s=Object(o.a)(c.concat("cachedPreviews")),f={previews:[]},d=i()(function(e,t){return t.find(function(t){return t.imageId===e})||f}),p=function(e){return Object(o.a)(s,function(t){return d(e,t)})},h=Object(o.a)(r.B.activeObject,s,function(e,t){return d(e.imageId,t)}),b=Object(o.a)(l,function(e){return e.find(function(e){return e.get("active")})});t.b={filterPreview:u,cachedPreviews:s,buttonPreviewsById:p,activeButtonPreviews:h,sections:l,activeSection:b}},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var r=n(160),o=n.n(r),a=n(71),i=n.n(a),c=i()(o.a.rebuild,100),u=i()(o.a.hide,100)},function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){return"text"===t&&e.forEach(function(e){e.preview={width:e.width,height:e.height}}),e=e.filter(function(e){return!e.contributorInfo})}n.d(t,"f",function(){return E}),n.d(t,"h",function(){return C}),n.d(t,"i",function(){return k}),n.d(t,"j",function(){return x}),n.d(t,"e",function(){return _}),n.d(t,"g",function(){return I}),n.d(t,"c",function(){return N}),n.d(t,"b",function(){return M}),n.d(t,"d",function(){return A}),n.d(t,"a",function(){return R});var s,f,d,p,h=n(69),b=n.n(h),m=n(1461),g=(n.n(m),n(254)),v=n.n(g),y=n(21),O=n.n(y),S=n(43),w=n(18),j=!1,T=!1,E=new Promise(function(e,t){s=e,f=t}),C=new Promise(function(e,t){d=e,p=t});O()(window,"editor.Templates")||v()(window,"editor.Templates",[]),O()(window,"editor.TextTemplates")||v()(window,"editor.TextTemplates",[]);var k=window.editor.Templates,x=window.editor.TextTemplates,P=function(e,t,n,o,a){return Object(S.a)({url:Object(w.e)("templates"),data:{type:e},dataType:"json"}).then(function(t){return t=l(t,e),o.splice.apply(o,[0,1].concat(r(t))),o}).then(t).catch(n),a},_=function(e){return"text"===e?(T||P(e,d,p,x,C),T=!0,C):(j||(P(e,s,f,k,E),j=!0),E)},I=_.bind(null,"text"),N=function(e,t){return t.map(function(t){var n=e.filter(function(e){var n=e.height===t.get("height"),r=e.width===t.get("width");return n&&r});return t.set("templates",n)}).filter(function(e){return e.get("templates").length>1})},M=function(e,t){return t.find(function(t){var n=e.get("height")===t.get("height"),r=e.get("width")===t.get("width");return n&&r})},A=function(e,t){t.forEach(function(t){var n=e.find(function(e){var n=t.height===e.get("height"),r=t.width===e.get("width");return n&&r});n&&(t.label=n.get("label"),t.labelKey=n.get("labelKey"),t.presetId=n.get("id"))})},R=function(e,t){return E.then(function(n){return n.filter(function(t){return e.indexOf(t.id)>-1}).map(function(e){return b()(e,t)})})}},,,function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return c}),n.d(t,"f",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"e",function(){return f});var r=n(33),o=Object(r.a)(["ContextMenu"]),a=Object(r.a)(o.concat("event")),i=Object(r.a)(a,function(e){return!!e}),c=Object(r.a)(o.concat(["id"])),u=Object(r.a)(o.concat(["source"])),l=Object(r.a)(o.concat(["context"])),s=Object(r.a)(a,function(e){return!!e}),f=Object(r.a)(o.concat(["quickActions"]))},function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"e",function(){return f});var r=n(12),o=n.n(r),a=n(33),i=o.a.List(),c=Object(a.a)(["fontFamilies"]),u=Object(a.a)(c,function(e){return(e||i).map(function(e){return e.get("name")})}),l=Object(a.a)(c,function(e){return(e||i).filter(function(e){return e.get("native")}).map(function(e){return e.get("name")})}),s=Object(a.a)(c,function(e){var t=i;return(e||i).forEach(function(e){var n=e.get("fonts");void 0!==n&&n.size>0&&(t=t.concat(n))}),t}),f=Object(a.a)(c,function(e){return e?e.map(function(e){var t=e.get("fonts").find(function(e){return/Regular$/.test(e.get("id"))});if(t)return Object(r.fromJS)({familyName:e.get("name"),preview:t.get("preview"),id:t.get("id"),path:t.get("path"),variants:e.get("variants")})}).filter(function(e){return void 0!==e}):i});t.a={fontFamilies:c,fontNames:u,nativeFontNames:l,fonts:s,regularFonts:f}},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"currentModalKey",function(){return a}),n.d(t,"modalIsShowing",function(){return i}),n.d(t,"modalProps",function(){return c}),n.d(t,"enterKey",function(){return u});var r=n(33),o=Object(r.a)(["modals"]),a=Object(r.a)(o.concat(["currentModalKey"])),i=Object(r.a)(a,function(e){return!!e}),c=Object(r.a)(o.concat(["modalProps"])),u=Object(r.a)(o.concat(["enterKey"]));t.default={currentModalKey:a,modalIsShowing:i,modalProps:c,enterKey:u}},function(e,t,n){"use strict";function r(e){var t={};e.styles&&y()(e.styles,function(n){y()(n,function(n){if(n.hasOwnProperty("fontFamily")||n.hasOwnProperty("fontWeight")||n.hasOwnProperty("fontStyle")){var r=n.fontFamily||e.fontFamily,o=n.fontWeight||e.fontWeight,a=n.fontStyle||e.fontStyle,i=Object(O.a)(r,o,a);t[i]||(t[i]=[r,o,a])}})});var n=Object(O.a)(e.fontFamily,e.fontWeight,e.fontStyle);return t[n]=[e.fontFamily,e.fontWeight,e.fontStyle],t}function o(e,t,n){e.fontFamily===t&&(e.fontFamily=n),Object.keys(e.styles).forEach(function(r){Object.keys(e.styles[r]).forEach(function(o){e.styles[r][o].fontFamily===t&&(e.styles[r][o].fontFamily=n)})})}function a(e){var t,n=[],r=-1;if(x.includes(e)&&(n=_),P.includes(e)&&(n=I),C.default.evaluate(k.a.fontNames).some(function(e){var o=n.indexOf(e);return-1!==o&&(-1===r||o<r)&&(t=e,r=o),0===r}),-1!==r)return t;throw new Error("No replacement font found. This should not occur.")}function i(e){return s(e)||l(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function l(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function s(e){if(Array.isArray(e))return f(e)}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}function p(e){if(!DOMParser)return!1;var t=(new DOMParser).parseFromString(e,"text/html");return Array.from(t.body.childNodes).some(function(e){return 1===e.nodeType})}var h=n(8),b=n(7),m=n(387),g=n(232),v=n(458),y=n.n(v),O=n(675),S=n(361),w=n(22),j=n(79),T=n(727),E=n.n(T),C=n(1),k=n(277),x=["Courier New"],P=["Arial"],_=["Courier New","Lucida Console","Monaco","Anonymous Pro","Inconsolata"],I=["Helvetica","Arial","Noto Sans","Open Sans","Source Sans Pro"],N=n(115),M="abcdefghijklmnopqrstuvwxyz".split(""),A=h.fabric.util.object.clone,R=h.fabric.util.createClass(h.fabric.Textbox,{type:"editorTextBox",strokeLineJoin:"round",lockScalingY:!1,objectCaching:!0,statefullCache:!1,strokeUniform:!0,perPixelTargetFind:!1,__mouseMoveCounter:10,cacheProperties:["stroke","strokeWidth","strokeDashArray","width","fill","fontFamily","fontWeight","fontSize","text","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles","lineStyles","underline","linethrough","nofill","strokeNofill","textBackgroundColorNofill"],_styleProperties:h.fabric.Textbox.prototype._styleProperties.concat("strokeNofill","textBackgroundColorNofill"),_dimensionAffectingProps:h.fabric.Textbox.prototype._dimensionAffectingProps.concat("lineStyles"),lineStyles:{},bulletStyleMap:["","","",""],initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.lineStyles={},this.callSuper("initialize",e,t)},initHiddenTextarea:function(e){this.callSuper("initHiddenTextarea",e),this.hiddenTextarea.addEventListener("paste",this.handlePasteMetrics.bind(this))},handlePasteMetrics:function(e){var t=e.clipboardData,n=t.getData("text/html");n&&p(n)&&b.b.track("user pasted html",{text:n})},render:function(e){if(this.clearContextTop(),h.fabric.Text.prototype.render.call(this,e),this.cursorOffsetCache={},this.isEditing){this.isMoving||this.isRotating||this.isScaling?this.abortCursorAnimation():this.renderCursorOrSelection()}},_render:function(e){this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderText(e)},_wrapLine:function(e,t,n){return h.fabric.Textbox.prototype._wrapLine.call(this,e,t,n,this.getIndentSpace(t,!0))},calcTextWidth:function(){for(var e=0,t=0,n=this._textLines.length;t<n;t++){var r=this.getLineWidth(t)+this.getIndentSpace(t);r>e&&(e=r)}return e},_renderTextLine:function(e,t,n,r,o,a){this.callSuper("_renderTextLine",e,t,n,r,o,a);var i=this.getBulletText(a);if(i){var c=this.fontSize;o-=this.fontSize*this._fontSizeFraction,this._renderChar(e,t,a,0,i,r-c,o)}},needsItsOwnCache:function(){return!(!this.shadow||!this.shadow.enabled)||!(1===this.opacity&&!this.nofill&&!this.styleHas("nofill"))},_renderText:function(e){this.strokeNofill&&!this.styleHas("stroke")||this._renderCompositeTextStroke(e),(this.nofill||this.styleHas("nofill"))&&this._clearSpaceForFilling(e),this.nofill&&!this.styleHas("fill")||this._renderCompositeTextFill(e),this._renderTextDecoration(e,"linethrough","fill")},getValueOfPropertyAt:function(e,t,n){return this.isClearingFill&&"fill"===n?"rgb(0, 0, 0)":h.fabric.Text.prototype.getValueOfPropertyAt.call(this,e,t,n)},_getStyleDeclaration:function(e,t){if(this.isClearingFill){var n=A(h.fabric.Textbox.prototype._getStyleDeclaration.call(this,e,t));return n.fill="rgb(0, 0, 0)",n}return h.fabric.Textbox.prototype._getStyleDeclaration.call(this,e,t)},_clearSpaceForFilling:function(e){e.save(),e.globalCompositeOperation="destination-out";var t=this.nofill;this.nofill=!1,this.isClearingFill=!0,this._renderTextDecoration(e,"underline","fill"),this._renderTextFill(e),this.isClearingFill=!1,this.nofill=t,e.restore()},_renderCompositeTextStroke:function(e){this.strokeNofill&&(e.strokeStyle=N.a),this._setStrokeStyles(e,this),e.lineWidth/=this.scaleX,this._renderTextDecoration(e,"underline","stroke"),this._renderTextStroke(e)},_renderCompositeTextFill:function(e){this.nofill&&(e.fillStyle=N.a),this._renderTextDecoration(e,"underline","fill"),this._renderTextFill(e)},_setShadow:function(e){if(this.shadow&&this.shadow.enabled){h.fabric.Object.prototype._setShadowOriginal.call(this,e);var t=this.fontSize*C.default.evaluate(w.D);e.shadowBlur*=t,e.shadowOffsetX*=t,e.shadowOffsetY*=t}},_getLineLeftOffset:function(e){var t=this.getIndentSpace(e),n=this.getLineWidth(e)+t;return"center"===this.textAlign?(this.width-n)/2+t:"right"===this.textAlign?this.width-n+t:t},shiftLineStyles:function(e,t){h.fabric.Textbox.prototype.shiftLineStyles.call(this,e,t),this.shiftBulletLineStyles(e,t)},shiftBulletLineStyles:function(e,t){var n=A(this.lineStyles);for(var r in this.lineStyles){parseInt(r,10)<=e&&delete n[r]}for(var o in this.lineStyles){var a=parseInt(o,10);a>e&&(this.lineStyles[a+t]=n[a],n[a-t]||delete this.lineStyles[a])}if(t>0&&this.lineStyles[e])for(var i=this.lineStyles[e],c=1;c<=t;c++)this.lineStyles[e+c]=A(i)},getIndentSpace:function(e,t){return this.isLineIndent(e,t)*this.fontSize},isLineIndent:function(e,t){var n=!t&&this._styleMap?this._styleMap[e].line:e,r=this.lineStyles[n];return r?r.indentLevel||0:0},getIndentStyle:function(e,t){var n=!t&&this._styleMap?this._styleMap[e].line:e,r=this.lineStyles[n];return r?r.indentStyle||"none":"none"},getBulletText:function(e){var t=this.isLineIndent(e);if(!t)return"";var n=this.getIndentStyle(e);if(0!==e&&this._styleMap[e].line===this._styleMap[e-1].line)return"";switch(n){case"number":return this.getNumbering(e,t);case"bullet":return this.bulletStyleMap[t];default:return""}},getNumbering:function(e,t){for(var n=this._styleMap[e].line,r=0,o=!0,a=n,i=e-1;i>=0;i--){if(this.isLineIndent(i)<t){n=r,o=!1;break}this.isLineIndent(i)===t&&a!==this._styleMap[i].line&&(r++,a=this._styleMap[i].line)}o&&(n=r);var c=t%3;return 0===c?"".concat(Object(m.f)(n+1),"."):2===c?"".concat(M[n%M.length],"."):1===c?"".concat(n+1,"."):""},_renderTextDecoration:function(e,t,n){if(this[t]||this.styleHas(t))for(var r=this._getWidthOfCharSpacing(),o=this._getLeftOffset(),a=this._getTopOffset(),i=0,c=this._textLines.length;i<c;i++){var u=this.getHeightOfLine(i);if(this[t]||this.styleHas(t,i)){for(var l=this._textLines[i],s=u/this.lineHeight,f=this._getLineLeftOffset(i),d="".concat(n,"Style"),p="".concat(n,"Rect"),h=0,b=0,m=this.getValueOfPropertyAt(i,0,t),g=this.getValueOfPropertyAt(i,0,n),v=void 0,y=void 0,O=0,S=l.length;O<S;O++){var w=this.__charBounds[i][O];v=this.getValueOfPropertyAt(i,O,t),y=this.getValueOfPropertyAt(i,O,n),(v!==m||y!==g)&&b>0?(e[d]=g,m&&g&&e[p](o+f+h,a+s*(1-this._fontSizeFraction)+this.offsets[t]*this.fontSize,b,this.fontSize/15),h=w.left,b=w.width,m=v,g=y):b+=w.kernedWidth}e[d]=y,v&&y&&e[p](o+f+h,a+s*(1-this._fontSizeFraction)+this.offsets[t]*this.fontSize,b-r,this.fontSize/15),a+=u}else a+=u}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor="text"),this.lockMovement(!0)},mouseMoveHandler:function(e){if(this.canvas&&!this.isLocked){var t="move";this.mouseCursorIsOnPadding(e.e)||(t=this.chooseHoverCursor()),this.hoverCursor=t,this.__corner||h.fabric.IText.prototype.mouseMoveHandler.call(this,e)}},mouseCursorIsOnPadding:function(e){var t=this.getLocalPointer(e),n=this.width/2,r=this.height/2,o=this.padding/this.canvas.getZoom(),a=Math.abs(t.x-n),i=Math.abs(t.y-r),c=n+o,u=r+o,l=a>n&&a<c,s=i>r&&i<u;return l||s},chooseHoverCursor:function(){return this.isEditing?"text":"move"},initCursorSelectionHandlers:function(){h.fabric.IText.prototype.initCursorSelectionHandlers.call(this),this.on("mouseclick",this.mouseClickHandler),this.on("mouseout",this.mouseOutHandler),this.on("mousemove",this.editorMouseMoveHandler)},editorMouseMoveHandler:function(){this.__mouseMoveCounter++},mouseOutHandler:function(e){this.__isMousedown&&(this.isMoving=!1,this.fire("mouseup",e))},mouseClickHandler:function(e){var t=this.__mouseMoveCounter<10;this.__mouseMoveCounter=10,this.isEditing||this.__corner||!t||(this.setCursorByClick(e.e),this.enterEditing(e.e),this.restartRenderingCursor())},_mouseDownHandler:function(e){if(!this.isLocked){if(this.__mouseMoveCounter=0,this.mouseCursorIsOnPadding(e.e)){this.lockMovement(!1),this.abortCursorAnimation();var t=this.canvas;return t&&t.contextTop.clearRect(0,0,t.width,t.height),this.cursorOnMouseDown=this.canvas.defaultCursor,void(this.hoverCursor="move")}h.fabric.IText.prototype._mouseDownHandler.call(this,e)}},mouseUpHandler:function(e){this.isLocked||(h.fabric.IText.prototype.mouseUpHandler.call(this,e),this.isEditing&&(this.canvas.setCursor(this.cursorOnMouseDown),this.restartRenderingCursor(),this.lockMovement(!0)))},restartRenderingCursor:function(){this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()},lockMovement:function(e){this.lockMovementX=this.lockMovementY=e},insertTextAtCursor:function(e){if(this.isEditing){var t=this.hiddenTextarea,n=t.selectionStart,r=t.selectionEnd,o=this.hiddenTextarea.value.slice(0,n),a=this.hiddenTextarea.value.slice(r),i=o+e+a;this.hiddenTextarea.value=i;var c=n+e.length;this.hiddenTextarea.selectionStart=c,this.hiddenTextarea.selectionEnd=c,this.onInput()}},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.callSuper("toObject",[].concat(i(e),["textBackgroundColorNofill"]));return t.lineStyles=A(this.lineStyles,!0),t},keepPosition:function(){this.anchor&&this._shouldClearDimensionCache()&&(this.initDimensions(),this.setPositionByOrigin(this.anchor,this.toOriginX,"top"))},setAnchorPosition:function(){var e=this.textAlign;this.toOriginX="justify"===e?"left":e,this.anchor=this.translateToOriginPoint({x:this.left,y:this.top},this.toOriginX,"top")},enlargeSpaces:function(){for(var e,t,n,r,o,a,i,c=0,u=this._textLines.length;c<u;c++){if(r=0,o=this._textLines[c],t=this.getLineWidth(c),c<this._textLines.length-1){var l=this._textLines[c+1];if(0===l.length)continue;for(var s=!0,f=0;f<l.length;f++)if(this._reWords.test(l[f])){s=!1;break}if(s)continue}else if(c===this._textLines.length-1)continue;if(i=this.textLines[c].match(this._reSpacesAndTabs),t<this.width&&i){n=i.length,e=(this.width-t)/n;for(var d=0,p=o.length;d<=p;d++)a=this.__charBounds[c][d],this._reSpaceAndTab.test(o[d])?(a.width+=e,a.kernedWidth+=e,a.left+=r,r+=e):a.left+=r}}}});R.fromObject=function(e,t){if(d(e),e.styles)for(var n in e.styles)for(var c in e.styles[n])d(e.styles[n][c]);var u=[],l=r(e),s={};y()(l,function(e,t){var n=g.a.apply(void 0,i(e));s[t]={promise:n,data:e},u.push(n)}),u.push(Object(S.a)(e.text));var f=function t(n){if("Font unavailable"===n.message){Object(j.p)();var r=s[n.fontName];u=E()(u,r.promise);var c=a(n.fontName);return o(e,n.fontName,c),u.push(g.a.apply(void 0,i(r.data))),Promise.all(u).catch(t)}},p=function(){h.fabric.Object._fromObject("EditorTextBox",e,t,"text")};return Promise.all(u).catch(f).then(p)},R.async=!0,h.fabric.EditorTextBox=R;t.a=R},function(e,t,n){"use strict";function r(){if(a.a){var e=Date.now();i=i.map(function(t,n){return function(){console.log("executing deferred task ".concat(n," after ").concat(Date.now()-e," ms from scheduling")),t()}})}i.forEach(function(e){requestIdleCallback(e)}),l=!0,i=[],window.clearInterval(u),u=0}function o(e){i.push(e),l&&!u&&(u=window.setInterval(r,c))}t.b=r,t.a=o;var a=n(106),i=[],c=60,u=0,l=!1},,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return j}),n.d(t,"b",function(){return T});var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(4),O=n.n(y),S=n(720),w=n(721),j=function(e){var t=e.children;return m.a.createElement(b.Fragment,null,t)},T=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"state",{activeIndex:0}),h(f(e),"onTabClick",function(t,n){e.setState({activeIndex:t}),e.props.onTabClick&&e.props.onTabClick(n,t)}),e}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.tabsClass,r=e.contentClass,o=e.className,a=this.state.activeIndex;return m.a.createElement("div",{className:O()("cmpTabs",o)},m.a.createElement("div",{className:n},m.a.createElement(w.a,{activeIndex:a,onClick:this.onTabClick},t)),m.a.createElement("div",{className:r},m.a.createElement(S.a,{activeIndex:a},t)))}}],[{key:"getDerivedStateFromProps",value:function(e){var t=e.activeTab,n=e.children,r=null;return t&&m.a.Children.toArray(n).forEach(function(e,n){e.props.tabId===t&&(r={activeIndex:n})}),r}}]),t}(b.PureComponent);h(T,"propTypes",{activeIndex:v.a.number})},,,,function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var l=n(0),s=n.n(l),f=n(4),d=n.n(f),p=n(552),h=n(289),b=n.n(h),m=n(24),g=(n.n(m),n(224)),v=(n.n(g),n(1678)),y=Object(m.makeStyles)(function(e){var t=e.palette;return{doneButton:function(e){var n=e.backgroundColor,r=void 0===n?t.doneButton.main:n,o=e.textColor,a=void 0===o?t.doneButton.contrastText:o;return{color:a,backgroundColor:r,"&:hover, &:disabled":{color:a,backgroundColor:Object(g.fade)(r,.8)}}}}}),O=function(e){var t=e.children,n=e.disabled,o=e.onClick,i=e.onClickTrack,u=e.className,l=e.dataAutomation,f=e.dataTourStop,h=e.blockLevel,m=void 0!==h&&h,g=e.size,O=e.href,S=e.target,w=c(e,["children","disabled","onClick","onClickTrack","className","dataAutomation","dataTourStop","blockLevel","size","href","target"]),j=y(a({},w)),T=Object(p.a)({blockLevel:m,size:g}),E=Object(v.a)(o,i);return s.a.createElement(b.a,r({onClick:E,disabled:n,variant:"contained","data-tour-stop":f,"data-automation":l,className:d()(T.basicButton,j.doneButton,u),href:O,target:S},S?{rel:"nofollow noopener"}:{}),t)};t.a=O},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return b});var o=n(0),a=n.n(o),i=n(4),c=n.n(i),u=n(81),l=n(929),s=n(24),f=(n.n(s),n(351)),d=n.n(f),p=Object(s.makeStyles)(function(e){var t=e.editor,n=e.palette,r=e.sizes,o=e.spacing,a=e.zIndex;return{fullHeight:{},root:{position:"absolute",width:280,marginTop:"52px",maxHeight:"calc(100% - 204px)",left:84,pointerEvents:"auto",boxShadow:t.shadow.default,borderRadius:o(r.s),zIndex:a.drawer,display:"flex",flexDirection:"column","& hr":{border:"none",borderBottom:"1px solid ".concat(n.text.dividers),margin:"0px ".concat(o(r.m))},"&$fullHeight":{height:"100%"}},label:{margin:"".concat(o(r.base)," ").concat(o(r.m)," ").concat(o(r.s))},scrollContainer:{overflowY:"auto",overflowX:"hidden"}}}),h=function(e){var t=e.className,n=e.label,o=e.fullHeight,i=e.header,s=e.children,f=e.loading,h=p();return a.a.createElement(d.a,{className:c()(h.root,t,r({},h.fullHeight,o))},a.a.createElement(u.a,{weight:"bold",className:h.label,size:"m"},n),a.a.createElement("hr",null),i,f?a.a.createElement(l.a,{fullHeight:!0}):a.a.createElement("div",{className:h.scrollContainer},s))},b=function(e){return n.e(305).then(n.bind(null,2349)).then(function(t){return{__esModule:!0,default:t[e]}})};t.a=h},,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function c(e,t){if(null==e)return{};var n,r,o=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function l(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){l(c,r,o,a,i,"next",e)}function i(e){l(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function f(e){return b(e)||h(e)||p(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function h(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function b(e){if(Array.isArray(e))return m(e)}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=e.downloadMetric;if("publish"===t)F.a.getLilSis().designShared({sharedTo:e.platform.getName()});else if("share"===t)F.a.getLilSis().designShared({sharedTo:e.platform});else if("download"===t){var n,r=_.default.evaluate(z.R),o=(n=[]).concat.apply(n,f(e.pages.map(function(e){return e.images})));F.a.getLilSis().designRendered({mediaIds:o.map(function(e){return"".concat(e.fabricObject.id)}),editFlag:!e.isBasicImageDesign,editorTemplateId:r.templateId,editorTemplateSize:"".concat(r.width,"-").concat(r.height),sstkImages:o.length})}F.b.track("completed download",{exportProcess:t,watermarked:e.watermarked||!1,fileFormat:e.fileFormat,dpi:e.dpi,includeOriginal:e.includeOriginal||!1,isBasicImageDesign:e.isBasicImageDesign||!1,pages:e.pages?e.pages.length:0,size:e.outData?e.outData.size:0})}function v(e,t){return y.apply(this,arguments)}function y(){return y=s(regeneratorRuntime.mark(function e(t,n){var r,o,a,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t.downloadId,o=n.reduce(function(e,n){return n.calculateSteps?e+n.calculateSteps(t):e},0),_.default.dispatch(I.b,{id:r,totalSteps:o,type:t.downloadMetric}),e.prev=3,a=i(n),e.prev=5,a.s();case 7:if((c=a.n()).done){e.next=13;break}return u=c.value,e.next=11,u(t);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:return _.default.dispatch(I.a,{id:r}),e.abrupt("return",t);case 25:throw e.prev=25,e.t1=e.catch(3),_.default.dispatch(I.a,{id:r}),B.a.noticeError(e.t1),e.t1;case 30:case"end":return e.stop()}},e,null,[[3,25],[5,15,18,21]])})),y.apply(this,arguments)}function O(e){return S.apply(this,arguments)}function S(){return S=s(regeneratorRuntime.mark(function e(t){var n,r,a,i,u,l,s,f,d,p,h,b,m,g,y,O,S,w,j;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.subscriptionId,r=t.TOSStatus,a=t.editorialUseOnlyChecked,i=t.imageQuality,u=t.fileFormat,l=void 0===u?"jpg":u,s=t.exportFormat,f=t.dpi,d=void 0===f?300:f,p=t.downloadMultipageSelected,h=void 0!==p&&p,b=t.gatekeeperUrls,m=t.flow,g=t.platform,y=t.authToken,O=t.downloadMetric,S=void 0===O?"download":O,w=c(t,["subscriptionId","TOSStatus","editorialUseOnlyChecked","imageQuality","fileFormat","exportFormat","dpi","downloadMultipageSelected","gatekeeperUrls","flow","platform","authToken","downloadMetric"]),e.prev=1,e.next=4,Object(G.i)(o({subscriptionId:n,TOSStatus:r,editorialUseOnlyChecked:a,includeOriginal:!1,imageQuality:i,fileFormat:l,dpi:d,downloadMultipageSelected:h,exportFormat:s,gatekeeperUrls:b,maximizeSize:"pdfv"===l,downloadMetric:S,platform:g,authToken:y},w));case 4:j=e.sent,e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return");case 10:return e.abrupt("return",v(j,m,{cleanup:!0}));case 11:case"end":return e.stop()}},e,null,[[1,7]])})),S.apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach(function(t){T(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e){_.default.dispatch(I.o,e)}function C(e){n.e(273).then(n.bind(null,2752)).then(function(t){return t.downloadActions.getSubscriptions(e)})}function k(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];_.default.dispatch(I.i,e),t||A.b.setDownloadPreference({fileType:e})}function x(){_.default.dispatch(I.d,!1),_.default.dispatch(N.a)}function P(e){R.a.setItem("__lastSelectedSub",e),_.default.dispatch(I.c,{id:e})}var _=n(1),I=n(225),N=n(768),M=n(1598),A=n(56),R=n(88),D=n(231),L=n(163),G=n(1608),B=n(44),F=n(7),z=n(17);t.g=E,t.b=C,t.d=k,t.a=x,t.c=P,n.d(t,"h",function(){return U}),n.d(t,"e",function(){return H}),n.d(t,"f",function(){return W});var U=function(e){return function(){return _.default.dispatch(I.e,{error:!1}),e().catch(function(e){_.default.dispatch(I.e,{error:e})})}},H=U(function(){return W({flow:M.defaultDownloadFlow}).then(function(e){_.default.dispatch(I.d,!0),g(e)})}),W=function(e){var t=e.flow,n=e.platform,r=e.authToken,o=e.downloadMetric,a=_.default.evaluate(D.i),i=_.default.evaluate(D.j),c=_.default.evaluate(D.e),u=_.default.evaluate(D.s).get("id"),l=_.default.evaluate(D.r);return O(j({authToken:r,fileFormat:i,dpi:_.default.evaluate(L.c),subscriptionId:u,downloadMetric:o,TOSStatus:c,editorialUseOnlyChecked:a,downloadMultipageSelected:l,flow:t,platform:n},_.default.evaluate(D.n)))}},,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){"@babel/helpers - typeof";return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=j();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=n(0),k=n.n(C),x=n(5),P=n.n(x),_=n(226),I=n(23),N=n(2),M=n(828),A=n.n(M),R=n(89),D=Object(N.c)(A.a),L=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){return k.a.createElement("div",{className:"cmpBackButtonBox"},k.a.createElement("a",{className:"back-button",href:"javascript:void(0);",onClick:this.props.onClick||null},k.a.createElement(I.b,{name:"left-arrow",className:"back-button-left-arrow"}),D("action.back")))}}]),t}(C.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(L,"displayName","BackButtonBox");var G=Object(R.a)()(L),B=n(4),F=n.n(B),z=n(152),U=n(18);n.d(t,"a",function(){return H});var H=function(e){function t(){var e;b(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),E(w(e),"onKeyDown",function(t){var n=e.props,r=n.show,o=n.handleBack,a=n.onKeyDown;t.keyCode===z.f&&r&&o&&o(t),a&&a(t)}),E(w(e),"handleBack",function(t){(0,e.props.handleBack)(t)}),E(w(e),"cmpRef",k.a.createRef()),e}v(t,e);var n=O(t);return g(t,[{key:"componentWillUnmount",value:function(){this.props.show&&this.props.handleBack&&this.props.handleBack()}},{key:"componentDidUpdate",value:function(){this.props.show&&!this.props.doNotFocus&&this.cmpRef.current.querySelector(Object(U.i)(".information-overlay")).focus()}},{key:"renderContents",value:function(){var e=this.props,t=e.show,n=e.children,r=e.innerClassName,o=e.backButton,a=e.backTrack;return t?k.a.createElement("div",{className:F()("information-overlay",r),tabIndex:1},o||k.a.createElement(G,{clickTrack:a,onClick:this.handleBack}),n):k.a.createElement("div",null)}},{key:"renderAnimated",value:function(){return k.a.createElement(_.TransitionGroup,null,k.a.createElement(_.CSSTransition,{classNames:"side-overlay-transition",timeout:{enter:250,exit:150}},this.renderContents()))}},{key:"render",value:function(){var e=this.props,t=e.animated,n=e.className;return k.a.createElement("div",{ref:this.cmpRef,className:F()("cmpPanelOverlay",n),onKeyDown:this.onKeyDown},t?this.renderAnimated():this.renderContents())}}]),t}(C.PureComponent);E(H,"displayName","PanelOverlay"),E(H,"propTypes",{show:P.a.bool.isRequired,handleBack:P.a.func,children:P.a.any.isRequired,animated:P.a.bool.isRequired,backButton:P.a.element}),E(H,"defaultProps",{animated:!0})},,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"f",function(){return u});var r=56,o=55,a=320,i=310,c=128,u=135},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,u=a.default.evaluate(o.k.pageById(e));if(!u)return"";var l=i.a.getThumb(u);if(l.element){if(u.get("active")&&i.a.refreshThumbnail(u),t===c)return"image/png"===n?Promise.resolve(l.element.toDataURL(n)):Promise.resolve(l.element.toDataURL(n,r));var s=l.canvas.dataUrlToFit(t,n,r);return Promise.resolve(s)}}n.d(t,"a",function(){return c}),t.b=r;var o=n(14),a=n(1),i=n(109),c=500},,,function(e,t,n){"use strict";function r(e,t,n){var r=e.width,o=e.height,a=t/r,i=n/o,c=0,u=0,l=t,s=n;return i<a?(l=r*i,c=(t-l)/2,e.scaleX=i,e.scaleY=i):(s=o*a,u=(n-s)/2,e.scaleX=a,e.scaleY=a),{cropX:c,cropY:u,width:l,height:s}}t.a=r},function(e,t,n){"use strict";e.exports={modal:{title:"Time to start your design","title-part2":"It's that easy"},tutorialstart:{title:"Learn to create stunning designs in less than 1 minute",subtitle:"After the tutorial youll return to your design",download:"Download",text:"Text",resize:"Resize",search:"Search",shape:"Shape",showme:"Show me how",thirtysec:"30 second tutorial",skip:"Skip for now"},popup:{title:"Start Tutorial","message-skip":"To watch the tutorial later, click here.","message-presets":"Select a size to meet your design needs.","message-blankcanvas":"Start your design by finding an image or choosing a template.","message-templates":"Start personalizing your design by changing the text.","message-advanced-toggle":"To do more with your design, turn on Advanced Mode.",button:"Got it"},"onboarding-collections":{start:"Learn how to use collections",showme:"Show me"}}},function(e,t,n){"use strict";e.exports={action:{copy:"Copy",save:"Save",exit:"Exit",cancel:"Cancel"},"template-modal":{"copy-sub-title":"A copy of your design will be saved in the Designs panel.","copy-title":"Copy design","save-as":"Save As","save-note":"A copy will be saved in the design panel","save-placeholder":"Enter design name","save-sub-title":"You have unsaved edits. Save changes?","save-title":"Save edits","small-action-label":"Discard latest changes and continue...","unsave-sub-title":"Looks like you have unsaved edits.","unsave-sub-title2":"Do you want to save your changes?","unsave-title":"Unsaved edits"}}},function(e,t,n){"use strict";e.exports={image:{dimensions:"__WIDTH__ x __HEIGHT__ px"},"newdesign-modal":{"create-custom":"Create custom size","saved-custom-size":"Saved Custom Sizes","basic-user":"You can create __LIMIT__ custom size preset for free. Upgrade to Shutterstock Editor Pro and get unlimited presets!"},preset:{emailheader:"Email Header",facebookcover:"Facebook Cover",facebookimage:"Facebook Image",facebooklink:"Facebook Link",instragrampost:"Instagram Post","linkedin-banner":"LinkedIn Profile Picture","linkedin-post":"LinkedIn Post","linkedin-profile":"LinkedIn Profile Picture",original:"Original",pinintrestpost:"Pinintrest Post","pinterest-post":"Pinterest Post",presentation:"Presentation",presentationwide:"Presentation Wide",twitterheader:"Twitter Header",twitterpost:"Twitter Post"},"view-all":"View all"}},function(e,t,n){"use strict";e.exports={action:{copy:"Copy",delete:"Delete",information:"Information"},designs:{onetotalpage:"1 page",totalpages:"__NUM__ pages",desigination:"__NUM__ design",desigination_plural:"__NUM__ designs","information-overlay":{delete:"Delete",open:"Open",edit:"Edit",import:"Import into design"},"untitled-design":"Untitled design","zero-state":{"no-results":"Your saved designs will appear here","start-template-2":"Find inspiration with our collection of <span>templates</span>"}}}},function(e,t,n){"use strict";e.exports={action:{"save-to-collection":"Save To Collection",shutterstock:"Open on Shutterstock"},presetsizes:{or:"OR"},control:{off:"OFF",on:"ON"},search:{"add-to-canvas":"Add to Canvas",advanced:{all:"All","apply-filters2":"Apply",safe:"Safe","cancel-filters":"Cancel",category:"Category",clear2:"Clear filters",editorial:"Editorial","editorial-description":"Editorial images, which include news and celebrity images, are not cleared for commercial use. Non-editorial images can be used for almost any purpose. Please refer to the Support Center for more information.","editorial-model-release-disclaimer":"Editorial images do not require model releases.","enter-keyword":"Enter a keyword","exclude-keywords":"Exclude keywords","exclude-keywords-description":"Enter a comma-seperated list of keywords to exclude from this search.",horizontal:"Horizontal",illustration:"Illustration","images-with-model-release-description":"When selected, your search will include only images with a model release.","images-with-people":"Images with people",photo:"Photo",orientation:"Orientation","safe-search":"Safe search","safe-search-description":"When switched ON, Shutterstock's safe search excludes restricted content from your search results.","search-filters":"Search filters",vector:"Vector",vertical:"Vertical",anycategory:"Any Category","category-list":{abstract:"Abstract","animals-wildlife":"Animals/Wildlife","the-arts":"The Arts","backgrounds-textures":"Backgrounds/Textures","beauty-fashion":"Beauty/Fashion","buildings-landmarks":"Buildings/Landmarks","business-finance":"Business/Finance",celebrities:"Celebrities",editorial:"Editorial",education:"Education","food-and-drink":"Food and Drink","healthcare-medical":"Healthcare/Medical",holidays:"Holidays","illustrations-clip-art":"Illustrations/Clip-Art",industrial:"Industrial",interiors:"Interiors",miscellaneous:"Miscellaneous","model-released-only":"Model Released Only",nature:"Nature",objects:"Objects","parks-outdoor":"Parks/Outdoor",people:"People",religion:"Religion",science:"Science","signs-symbols":"Signs/Symbols","sports-recreation":"Sports/Recreation",technology:"Technology",transportation:"Transportation",vectors:"Vectors",vintage:"Vintage"}},"empty-message":"High-quality stock photos to help bring your ideas to life.","input-placeholder":"Search for photos","next-images":"next __COUNT__ images","next-images_plural":"next __COUNT__ images","non-editorial":"Non-editorial","only-editorial":"Only Editorial","progress-indicator":"searching...","set-as-background":"Set as background","results-count":'__TOTAL_COUNT__ result for "__SEARCH_QUERY__"',"results-count_plural":'__TOTAL_COUNT__ results for "__SEARCH_QUERY__"',"result-label":"Add Photo","suggest-images":"Search related images","suggest-results-count":"__TOTAL_COUNT__ related image","suggest-results-count_plural":"__TOTAL_COUNT__ related images","suggest-similar-count":"__TOTAL_COUNT__ similar image","suggest-similar-count_plural":"__TOTAL_COUNT__ similar images","suggest-tooltip":"Search images based on what's in your design","zero-state":{hints:"Here are some hints:","no-results":"Sorry no results were found for:","refine-keywords":"Try refining your keywords.","simplify-search":"Try using simpler search.","use-correct-spelling":"Make sure the spelling is correct.","use-generic-terms":"Use generic terms."}}}},,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,"a",function(){return p});var d=n(44),p=function(){function e(){l(this,e)}return f(e,null,[{key:"convert",value:function(e){var t=e.split(","),n=r(t,2),o=n[0],a=n[1],i="";try{i=window.atob(a)}catch(e){d.a.noticeError(e,{dataType:o,rawBase64:a})}for(var c=new ArrayBuffer(i.length),u=new Uint8Array(c),l=0;l<i.length;l++)u[l]=i.charCodeAt(l);return new Blob([c],{type:b(o)})}}]),e}(),h=/data:(.*?);/,b=function(e){return e.match(h)[1]}},function(e,t,n){"use strict";function r(e){var t=d.default.evaluate(p.a);return t&&t.get("title")?t.get("title"):e?"shutterstock_".concat(e):"shutterstock_image"}function o(e){return e.includes("image/png")?m.h:e.includes("application/pdf")?m.f:e.includes("image/tiff")?m.j:e.includes("application/zip")?m.l:m.e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Object.keys(e).reduce(function(n,r){return e[r].multipleBy?n+e[r].multipleBy(t):n+1},0)}function i(e,t){return t.calculateSteps=a.bind(null,e),t}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";d.default.dispatch(h.p,{id:e,label:t})}function u(e){var t=d.default.evaluate(b.a.imagesWithRedownloads),n=t.get(e,0);return{redownloadId:n?n.get("subId"):0,redownloadLicense:n?n.get("license"):null}}function l(e){var t=d.default.evaluate(b.a.subscriptions),n=d.default.evaluate(b.a.redownloadSubscriptions);return t.concat(n).find(function(t){return e===t.get("id")})||f.a.Map()}t.b=r,t.a=o,t.e=i,t.f=c,t.c=u,t.d=l;var s=n(12),f=n.n(s),d=n(1),p=n(30),h=n(225),b=n(223),m=n(379)},,function(e,t,n){"use strict";n.d(t,"b",function(){return c});var r=n(1),o=n(6),a=n(30),i=n(179),c="#FFFFFF",u={select:function(){var e=Object(o.a)(),t=e.getBackgroundImage();t&&(t.selectable=!0,e.setActiveObject(t))},setBackgroundColor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.color,n=e.saveHistory,c=e.opacity,u=Object(o.a)(),l=u.getArtboard();if(l&&(void 0!==t&&l.set("fill",t),void 0!==c&&l.set("opacity",c)),n){var s={autoSave:r.default.evaluate(a.g),artboard:l};u.fire("save",s)}else l&&i.b.socketEmitActiveManual([l.toObject()]);u.requestRenderAll()},resetBackground:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];u.setBackgroundColor({color:c,saveHistory:e})}};t.a=u},,function(e,t,n){"use strict";function r(){var e=s.default.state.get("SearchPanel"),t={image_type:e.get("image_type")},n=e.get("license").toJS();return Array.isArray(n)?n.length>0&&(t.license=n.join(",")):t.license=n,t}function o(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function a(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){function i(e){o(u,r,a,i,c,"next",e)}function c(e){o(u,r,a,i,c,"throw",e)}var u=e.apply(t,n);i(void 0)})}}var i=n(18),c=n(87),u=n(43),l=n(7),s=n(1),f=n(134),d=n(14),p=n(372),h=(p.a.t.bind(p.a),n(6)),b=n(332),m=n.n(b),g=n(16),v=n(276),y=n(148),O=n(352),S=n(120),w=n(471);n.d(t,"a",function(){return T}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return C}),n.d(t,"g",function(){return k}),n.d(t,"f",function(){return x}),n.d(t,"b",function(){return P}),n.d(t,"e",function(){return _});var j=/sstk:\/\/image\/([0-9]+).*/,T=function(e){s.default.dispatch(w.h,{query:""}),s.default.dispatch(w.i,{resultPage:e})},E=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4&&void 0!==arguments[4]&&arguments[4],p=arguments.length>5&&void 0!==arguments[5]&&arguments[5],b=arguments.length>6?arguments[6]:void 0,g=arguments.length>7?arguments[7]:void 0,O=s.default.evaluate(y.a),T=O&&O.id?O.id:O,E=s.default.evaluate(v.c),C=p?"":t;if(t=t.trim(),s.default.dispatch(w.h,{query:C}),p)e=t;else if(""===t){var k=Object(h.a)(),x=k.getActiveObject();if(null!==x&&""===E)e=x.imageId;else if(E)e=E;else if(T)e=T;else{var P,_,I=s.default.evaluate(d.a);try{P=I.get("assetId",""),_=P.match(j)}catch(e){e.trackjsMeta=[{key:"injectSearchData: assetId",value:P}]}null!=_&&(e=_[1])}}1===n&&(s.default.dispatch(w.f,{query:C}),s.default.dispatch(w.j,{suggestQuery:""})),s.default.dispatch(w.b,{page:n});var N=Object(i.e)("search"),M=s.default.evaluate(f.a),A={query:t,imageId:e,page:n,lang:M,perPage:o,hostname:g,apiKey:b},R=r(),D=m()(A,R),L=function(e){return e.isRelatedSearch=a,e.isSimilarSearch=c,s.default.dispatch(w.i,{resultPage:e}),a||l.a.getLilSis().productSearched({query:t,searchContext:{searchTrackingId:e.trackingId,searchType:R.image_type||"all",userInitiated:"true",isEditorial:"false"}}),e},G=function(e){if(s.default.dispatch(w.a,{res:e}),429===e.status)return Object(S.a)(1e3)};return Object(u.a)({url:N,data:D,dataType:"json"}).then(L).catch(G)},C=function(){var e=a(regeneratorRuntime.mark(function e(t,n,r){var o,a,l,f,p,b,m,g,v,y,S,j,T,C;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o=function(e){s.default.dispatch(w.a,{res:e})},l={width:1024,height:1024},s.default.dispatch(w.b,{page:1}),t?(f=t._element,a=document.createElement("canvas"),p=Object(c.c)(f,l),a.width=f.width*p,a.height=f.height*p,a.getContext("2d").drawImage(f,0,0,a.width,a.height)):(b=s.default.evaluate(d.b).toJS(),m=Object(c.c)(b,l),g=Object(h.a)(),a=g._toCanvasElement(b.width*m,b.height*m,m)),!n||!r){e.next=10;break}return v=Object(i.e)("ephemeralUploadPublicApi"),e.next=8,Object(u.a)({url:v,type:"POST",data:JSON.stringify({apiKey:n,hostname:r,base64_image:a.toDataURL().split(",")[1]}),contentType:"application/json",dataType:"json"});case 8:return y=e.sent,e.abrupt("return",E(y.upload_id,1,50,!1,!1,!0,n,r));case 10:return S=Object(i.e)("ephemeralUpload"),j=new FormData,j.append("image",O.a.convert(a.toDataURL()),"filename.png"),e.prev=13,e.next=16,Object(u.a)({type:"POST",contentType:!1,processData:!1,url:S,data:j,dataType:"json"});case 16:return T=e.sent,C=T.fully_qualified_id,e.abrupt("return",E(C,1,50,!1,!1,!0,n,r));case 21:e.prev=21,e.t0=e.catch(13),o(e.t0);case 24:case"end":return e.stop()}},e,null,[[13,21]])}));return function(t,n,r){return e.apply(this,arguments)}}(),k=function(e){s.default.dispatch(w.h,{value:e})},x=function(e){s.default.dispatch(w.g,{value:e})},P=function(){g.e.openLeftPanel("search"),E("",1,50,!1,!0)},_=function(e){s.default.dispatch(w.d,{key:"license",value:e})}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){g(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=b();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(0),y=n.n(v),O=n(5),S=n.n(O),w=n(4),j=n.n(w),T=n(256),E=n.n(T),C=n(472),k=n(474),x=n(182),P=n(473),_=n.n(P),I=Object(v.forwardRef)(function(e,t){var n=e.scheduleUpdate,o=e.scrollClasses,a=e.forwardReference,i=e.open,c=e.listClasses,u=e.menuStyle,l=e.children,s=e.restProps,f=e.popperProps;return Object(v.useEffect)(function(){return n()},[i]),y.a.createElement("div",r({},s,f),y.a.createElement("div",{className:j()(o),ref:a,style:{display:i?"block":"none"}},y.a.createElement("ul",{ref:t,className:j()(c),role:"menu",style:u},l)))}),N=I,M=function(e){function t(){var e;c(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),g(h(e),"_listEl",Object(v.createRef)()),e}s(t,e);var n=d(t);return l(t,[{key:"handleClickOutside",value:function(e){var t=this.props,n=t.open,r=t.handleClickOutside,o=e.target,a=this._listEl.current;n&&!a.contains(o)&&r()}},{key:"render",value:function(){var e=this,n={cmpDropdown:!0,cmpPopoverDropdown:!0,cmpPopoverDropdownToggle:!0,dropdown:!0,open:this.props.open,disabled:this.props.disabled};this.props.toggleClassName&&(n[this.props.toggleClassName]=!0);var r={cmpPopoverDropdown__scrollBounds:!0,open:this.props.open};this.props.scrollBoundsClassName&&(r[this.props.scrollBoundsClassName]=!0),this.props.coverToggle&&(r["cover-toggle"]=!0);var o={cmpPopoverDropdown__list:!0,open:this.props.open};return this.props.listClassName&&(o[this.props.listClassName]=!0),y.a.createElement(C.Manager,{style:this.props.style,className:this.props.className},y.a.createElement("div",{ref:this.props.forwardRef},y.a.createElement(C.Target,{className:j()(n)},this.props.toggle),y.a.createElement(k.a,{into:"popover-layer"},y.a.createElement(C.Popper,{className:"popper",placement:this.props.placement,modifiers:i(i({},t.defaultProps.modifiers),this.props.modifiers),style:{width:this.props.width}},function(t){var n=t.scheduleUpdate,a=t.restProps,i=t.popperProps;return y.a.createElement(N,{ref:e._listEl,scheduleUpdate:n,scrollClasses:r,forwardReference:e.props.forwardRef,open:e.props.open,listClasses:o,menuStyle:e.props.menuStyle,restProps:a,popperProps:i},e.props.children)}))))}}]),t}(v.PureComponent);g(M,"displayName","PopoverDropdown"),g(M,"propTypes",{className:S.a.string,popperCss:S.a.object,toggleClassName:S.a.string,toggle:S.a.element.isRequired,listClassName:S.a.string,title:S.a.string,menuStyle:S.a.object,handleClickOutside:S.a.func,open:S.a.bool,disabled:S.a.bool,placement:S.a.string,modifiers:S.a.object,width:S.a.oneOfType([S.a.number,S.a.string])}),g(M,"defaultProps",{open:!1,width:290,labelType:"default",disabled:!1,placement:"bottom-start",modifiers:{flip:i(i({},_.a.Defaults.modifiers.flip),{},{enabled:!1}),offset:i(i({},_.a.Defaults.modifiers.offset),{},{enabled:!1}),preventOverflow:i(i({},_.a.Defaults.modifiers.preventOverflow),{},{boundariesElement:"viewport",escapeWithReference:!0}),subpixelOffset:Object(x.a)()}});t.a=E()({event:"click"})(M)},,function(e,t,n){"use strict";function r(e){var t=o(),n=t.indexOf(e);n>0&&(t=t.slice(0,n).concat(t.slice(n+1))),0!==n&&(t.unshift(e),t.length>b&&(t=t.slice(0,b))),p.a.setItem("recentFonts",JSON.stringify(t))}function o(){return JSON.parse(p.a.getItem("recentFonts")||"[]")}var a=n(1),i=n(455),c=n(232),u=n(6),l=n(122),s=n(7),f=n(277),d=n(382),p=n(88),h=null,b=5;t.a={getRecentFonts:o,loadFonts:function(){return h||(h=Object(d.a)(function(){return n.e(272).then(n.bind(null,2058))}).then(function(e){a.default.dispatch(i.a,e)},function(e){throw h=null,e})),h},selectFont:function(e){var t=this,n=Object(u.a)(),o=e.get("familyName");r(o);var a,i=n.getActiveObject(),f=l.b.isTextSelected();if(f){var d=n.getActiveObject(),p=d.fontFamily;a=d.getSelectionStyles(d.selectionStart,d.selectionEnd).some(function(e){return(e.fontFamily||p)!==o})}else a=i.fontFamily!==o;return l.b.refocusTextbox(i),a?Object(c.a)(o).then(function(){t.applyFontFace(i,o),s.a.click("toolbar.fontFamily",{fontFamily:o,partial:f}),n.requestRenderAll(),n.fire("save",{target:i})}):Promise.resolve()},applyFontFace:function(e,t){l.b.isTextSelected()?(e.setSelectionStyles({fontFamily:t,fontStyle:"normal",fontWeight:"normal"}),e.cleanStyle("fontFamily"),e.cleanStyle("fontStyle"),e.cleanStyle("fontWeight")):(e.removeStyle("fontFamily"),e.removeStyle("fontStyle"),e.removeStyle("fontWeight"),e.fontFamily=t,e.fontStyle="normal",e.set("fontWeight","normal"),e.dirty=!0)},isValidFontFamily:function(e){return a.default.evaluate(f.a.regularFonts).find(function(t){return t.get("fontFamily")===e})}}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];return o.fabric.util.string.graphemeSplit(e).forEach(function(e){i()().exec(e)&&!o.fabric.charWidthsCache.emoji[e]&&t.push(u(e))}),Promise.all(t)}var o=n(8),a=n(499),i=n.n(a),c=n(677),u=function(e){return Object(c.b)(e).then(function(t){o.fabric.charWidthsCache.emoji[e]=t})};t.a=r},function(e,t){e.exports={defaults:{color:{fill:"rgba(255, 255, 255, 1)",nofill:!1},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.2)",offsetX:3,offsetY:3,blur:10},stroke:{enabled:!0,fill:"rgba(0, 0, 0, 1)",nofill:!1,width:16,dashArray:null},active:!1,angle:0,flipX:!1,flipY:!1,skewX:0,skewY:0,scaleX:1,scaleY:1}}},function(e,t,n){"use strict";function r(e){var t=e.nextAction;return function(){k.a.componentLocator.getReactInstance("fillDropdown").setState({open:!0},t)}}function o(e){return function(){return S.a.createElement(E.a,{target:"fillDropdown",nudge:{top:55,left:-60}},S.a.createElement(C.a,{open:!0,popper:e,placement:"left"}))}}function a(){return function(){var e=S.a.createElement(T.a,{message:I("onboarding.gradients.message1"),direction:"right"});return Object(w.g)({Modal:o(e),props:{hideOnClick:!0,className:"no-background no-transform"}})}}function i(){return Object(j.a)(N)[0]().then(function(){Object(w.a)()})}function c(e){var t=e.nextAction;return function(){return Object(A.g)("assets"),Object(R.a)(300).then(t)}}function u(e){return function(){return S.a.createElement(E.a,{target:"designs-tab",empty:!0},S.a.createElement(C.a,{open:!0,popper:e,placement:"right"}))}}function l(){return function(){var e=S.a.createElement(T.a,{message:D("onboarding.saveddesigns.message1"),direction:"left"});return Object(w.g)({Modal:u(e),props:{hideOnClick:!0,className:"no-background no-transform"}})}}function s(){return Object(j.a)(L)[0]().then(function(){Object(w.a)()})}function f(e){var t=k.a.componentLocator.getReactInstance("backgroundDropdown"),n=function(){t.toggleLabelHandler(),e()};setTimeout(n,1e3)}function d(e){var t=e.nextAction;return function(){var e=k.a.componentLocator.getReactInstance("backgroundContainer");e.state.expanded?f(t):e.setState({expanded:!0},f.bind(null,t))}}function p(e){return function(){return S.a.createElement(E.a,{target:"backgroundDropdown",nudge:{top:42,left:-78}},S.a.createElement(C.a,{open:!0,popper:e,placement:"left"}))}}function h(){return function(){var e=S.a.createElement(T.a,{message:B("onboarding.background.message1"),direction:"right"});return Object(w.g)({Modal:p(e),props:{hideOnClick:!0,className:"no-background no-transform"}})}}function b(){return Object(j.a)(F)[0]().then(function(){Object(w.a)()})}function m(e){return{standard:{mp4:"".concat(U.client.basePath,"assets/videos/background_remove_tutorial.mp4"),webm:"".concat(U.client.basePath,"assets/videos/background_remove_tutorial.webm")},retina:{mp4:"".concat(U.client.basePath,"assets/videos/background_remove_tutorial_retina.mp4"),webm:"".concat(U.client.basePath,"assets/videos/background_remove_tutorial_retina.webm")}}[window.devicePixelRatio>=1.5?"retina":"standard"][e]}var g=n(1),v=n(711),y=n(827),O=n(0),S=n.n(O),w=n(25),j=n(233),T=n(185),E=n(228),C=n(186),k=n(38),x=n(2),P=n(196),_=n.n(P),I=Object(x.c)(_.a),N=[{action:r},{action:a}],M={start:i},A=n(16),R=n(120),D=Object(x.c)(_.a),L=[{action:c},{action:l}],G={start:s},B=Object(x.c)(_.a),F=[{action:d},{action:h}],z={start:b},U=n(29),H=n(510);t.b=m;var W={initialize:function(){g.default.evaluate(v.a.tourSeen)||W.start(!0),g.default.dispatch(H.a)},start:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];y.a.start(e)},gradients:function(){M.start()},savedDesign:function(){G.start()},background:function(){z.start()}};t.a=W},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r="SHOW_MODAL",o="HIDE_MODAL",a="MODAL_ENTER_KEY"},function(e,t,n){"use strict";n.d(t,"h",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"i",function(){return a}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"a",function(){return s}),n.d(t,"k",function(){return f}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p});var r="SET_MEDIA_PENDING",o="SET_MEDIA_ERROR",a="SET_MEDIA_RESULT",i="INSERT_UPLOADING_MEDIA",c="INSERT_UPLOADED_MEDIA",u="SHOW_UPLOAD_ERROR",l="RETRYING_UPLOAD_MEDIA",s="DELETE_MEDIA",f="UPDATE_MEDIA",d="SET_IMAGE_INFO",p="SAVE_DROP_POSITION"},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i});var r="OPEN_CONTEXT_MENU",o="CLOSE_CONTEXT_MENU",a="QUICK_ACTION_POSITION",i="HIDE_QUICK_ACTION"},,,,function(e,t,n){"use strict";function r(e){e.beforeVals&&K()(e,e.beforeVals),e.beforeVals=null;var t=Object(B.a)();t.preserveObjectStacking=!0,t.makeObjectsSelectableAndEvented(!0),t.requestRenderAll()}function o(e,t){var n=e.canvas;e.beforeVals=Y()(e,q.concat(t)),n.preserveObjectStacking=!1,e.hoverCursor=G.fabric.Object.prototype.hoverCursor,e.padding=G.fabric.UserImage.prototype.cropPadding,n.makeObjectsSelectableAndEvented(!1),n.requestRenderAll(),e.selectable=!0,e.evented=!0;var r=e.onDeselect;e.onDeselect=function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return r.call.apply(r,[e].concat(n)),!0}}function a(){delete this.__targetlessCanvasDrag,this.defaultCursor=this.__defaultCursor,delete this.__defaultCursor}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=this.getActiveObject();t||(n.resetCropModeAnchors(),this.__targetlessCanvasDrag=!0,this.__defaultCursor=this.defaultCursor,this.defaultCursor="move")}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.e,n=this.getActiveObject();if(this.__targetlessCanvasDrag&&"mousemove"===t.type&&n){var r={x:t.movementX,y:t.movementY},o=n.calcTransformMatrix(),a=this.viewportTransform,i=G.fabric.util.invertTransform(G.fabric.util.multiplyTransformMatrices(a,o));i[4]=0,i[5]=0;var c=G.fabric.util.transformPoint(r,i);n.cropX-=c.x,n.cropY-=c.y,n.fire("moving"),this.requestRenderAll()}}function u(e){G.fabric.util.object.extend(e,{cropBorderColor:"#43b9d3",cropBorderScaleFactor:2,cropCornerStyle:"default",cropDarkLayer:"#16191e",cropLinesColor:"#f6f7fa",croppingBeforeVals:["stroke","strokeWidth","cornerSize"],bindCropModeHandlers:function(){this.unbindCropModeHandlers(),this.on("moving",this.cropHandler||this.cropModeHandlerMoveImage),this.on("mousedown",this.resetCropModeAnchors),this.canvas.on("before:transform",this.cropBeforeHelper),this.canvas.on("mouse:up",a),this.canvas.on("mouse:down",i),this.canvas.on("mouse:move",c)},unbindCropModeHandlers:function(){this.off("moving",this.cropHandler||this.cropModeHandlerMoveImage),this.off("mousedown",this.resetCropModeAnchors),this.canvas.off("before:transform",this.cropBeforeHelper),this.canvas.off("mouse:up",a),this.canvas.off("mouse:down",i),this.canvas.off("mouse:move",c)},_drawDarkLayer:function(e){!this.isCropping&&!this.isInPerspectiveMode||this===this.canvas.backgroundImage||(e.save(),e.setTransform(1,0,0,1,0,0),e.globalAlpha=.5,e.fillStyle=this.cropDarkLayer,e.fillRect(0,0,this.canvas.lowerCanvasEl.width,this.canvas.lowerCanvasEl.height),e.restore())},_drawCroppingLines:function(e){if(!(!this.isCropping||this.canvas&&this.canvas.isCropping)){var t=this.width,n=this.height,r=this.canvas.getZoom()*G.fabric.devicePixelRatio;e.save(),e.lineWidth=1,e.globalAlpha=1,e.strokeStyle=this.cropLinesColor,e.beginPath(),e.moveTo(-t/2+t/3,-n/2),e.lineTo(-t/2+t/3,n/2),e.moveTo(-t/2+2*t/3,-n/2),e.lineTo(-t/2+2*t/3,n/2),e.moveTo(-t/2,-n/2+n/3),e.lineTo(t/2,-n/2+n/3),e.moveTo(-t/2,-n/2+2*n/3),e.lineTo(t/2,-n/2+2*n/3),e.scale(1/(this.scaleX*r),1/(this.scaleY*r)),e.stroke(),e.restore()}},resetCropModeAnchors:function(){this.lastEventTop=this.top,this.lastEventLeft=this.left,this.lastTop=void 0,this.lastLeft=void 0},setupDragMatrix:function(){this.moveTransformationMatrix=G.fabric.util.invertTransform(this.calcTransformMatrix()),this.changeToPositionMatrix=this.calcTransformMatrix().concat(),this.moveTransformationMatrix[4]=0,this.moveTransformationMatrix[5]=0,this.changeToPositionMatrix[4]=0,this.changeToPositionMatrix[5]=0},cropBeforeHelper:function(e){var t=e.transform,n=t.action,r=t.target;"scale"===n.substring(0,5)&&(r.cropAnchorPoint=r.translateToOriginPoint(r.getCenterPoint(),t.originX,t.originY))},cropModeHandlerMoveGrid:function(){if(this.isCropping){var e=this.lastEventTop,t=this.lastEventLeft,n=new G.fabric.Point(this.left-t,this.top-e),r=G.fabric.util.transformPoint(n,this.moveTransformationMatrix),o=this._element.naturalWidth||this._element.width,a=this._element.naturalHeight||this._element.height,i=r.x,c=r.y,u=this.cropX+i,l=this.cropY+c,s={x:i,y:c},f=!1;if(u<0?(s.x=-this.cropX,u=0,f=!0):u+this.width>o&&(u=o-this.width,s.x=o-this.cropX-this.width,f=!0),l<0?(s.y=-this.cropY,l=0,f=!0):l+this.height>a&&(l=a-this.height,s.y=a-this.cropY-this.height,f=!0),f){var d=G.fabric.util.transformPoint(s,this.changeToPositionMatrix);this.top=e+d.y,this.left=t+d.x}this.cropX=u,this.cropY=l,this.lastEventTop=this.top,this.lastEventLeft=this.left}},cropModeHandlerMoveImage:function(){if(this.isCropping){var e=void 0===this.lastTop?this.lastEventTop:this.lastTop,t=void 0===this.lastLeft?this.lastEventLeft:this.lastLeft,n=new G.fabric.Point(t-this.left,e-this.top),r=G.fabric.util.transformPoint(n,this.moveTransformationMatrix),o=this._element.naturalWidth||this._element.width,a=this._element.naturalHeight||this._element.height,i=r.x,c=r.y,u=this.cropX+i,l=this.cropY+c,s={x:i,y:c};u<0?(s.x=-this.cropX,u=0):u+this.width>o&&(u=o-this.width,s.x=o-this.cropX-this.width),l<0?(s.y=-this.cropY,l=0):l+this.height>a&&(l=a-this.height,s.y=a-this.cropY-this.height),this.cropX=u,this.cropY=l,this.lastTop=this.top,this.lastLeft=this.left,this.top=this.lastEventTop,this.left=this.lastEventLeft}}})}function l(e,t,n){var r=e*t,o=r/2,a=n-o,i=a/r;return Math.round(Math.abs(i*e))}function s(){Object.defineProperty(G.fabric.UserImage.prototype,"isCropping",{get:function(){return!!this.__isCropping},set:function(e){var t=Object(B.a)(),n=t.defaultCursor;if((e=!!e)!==this.isCropping){this.__isCropping=e;var a=t.getArtboard();if(e){if(n=t.defaultCursor,t.defaultCursor="move",o(this,this.croppingBeforeVals),F.b.isEnabled("disableBackgroundResizeOnCrop")?this.__wasBackgroundOnCropModeEnter=!1:this.__wasBackgroundOnCropModeEnter=this.isBackground(),this.lastEventTop=this.top,this.lastEventLeft=this.left,this.__originalCropPosition=Y()(this,oe),this.__wasBackgroundOnCropModeEnter){var i=a.height*a.scaleY,c=a.width*a.scaleX;this.cropY=this.cropY+l(this.height,this.scaleY,this.top),this.cropX=this.cropX+l(this.width,this.scaleX,this.left),this.height=Math.round(i/this.scaleY),this.width=Math.round(c/this.scaleX),this.top=Math.round(this.height*this.scaleY)/2,this.left=Math.round(this.width*this.scaleX)/2}this.strokeWidth=0,this.__artboardCrop=Y()(this,oe),this.__previewModeCache=te.default.evaluate(ee.c.previewMode),Q.b.setPreviewMode(!1,ae),this.setupDragMatrix(),this.cropHandler=this.cropModeHandlerMoveImage,this.bindCropModeHandlers(),this.controls=re.a,this.setCoords(),t.centeredKey="none",t.altActionKey="none",t.selection=!1}else{t.defaultCursor=n,r(this);var u=!$()(this.__artboardCrop,Y()(this,oe));if(delete this.__artboardCrop,delete this.lastEventTop,delete this.lastEventLeft,this.unbindCropModeHandlers(),t.centeredKey=G.fabric.Canvas.prototype.centeredKey,t.altActionKey=G.fabric.Canvas.prototype.altActionKey,t.selection=!0,this.controls=re.e,this.setCoords(),this.__wasBackgroundOnCropModeEnter)if(u){var s=this._getTransformedDimensions(),f=Object(ne.e)("editorCanvas").viewportForFitToPage({width:s.x,height:s.y});this.setCoords(),t.viewportTransform=f,Object(Z.c)(this,{metricSource:"BACKGROUND CROP",save:!1,flashAlert:!1})}else Object.assign(this,this.__originalCropPosition);delete this.__wasBackgroundOnCropModeEnter,delete this.__originalCropPosition,F.b.isEnabled("disablePreviewMode")?Q.b.setPreviewMode(!0,ae):Q.b.setPreviewMode(this.__previewModeCache,ae)}}}}),u(G.fabric.UserImage.prototype)}function f(e,t){return m(e)||b(e,t)||p(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function m(e){if(Array.isArray(e))return e}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.max(t,Math.min(e,n))}function v(e){return de[pe[e]]}function y(e,t){var n=e/t;return n===1/0?9999999:n===-1/0?-9999999:isNaN(n)?Object.is(e,t)?9999999:-9999999:n}function O(e){var t=f(e,2),n=t[0],r=n.x,o=n.y,a=t[1],i=a.x,c=a.y,u=y(c-o,i-r);return{slope:u,intercept:o-u*r}}function S(e,t){var n=O(e),r=n.slope,o=n.intercept,a=O(t),i=a.slope,c=a.intercept,u=y(c-o,r-i);return{x:u,y:r*u+o}}function w(e,t){var n=e.x,r=e.y,o=O(t),a=o.slope,i=1/a;return{slope:i,intercept:r-n*i}}function j(e,t){var n=e.x,r=e.y,o=f(t,2),a=o[0],i=a.x,c=a.y,u=o[1];return(u.x-i)*(r-c)-(u.y-c)*(n-i)}function T(e,t){var n=e.x,r=e.y;return E(t.x-n,t.y-r)}function E(e,t){return Math.pow(Math.pow(e,2)+Math.pow(t,2),.5)}function C(e,t,n,r){var o=t.x-e.x,a=t.y-e.y,i=t.x-n.x,c=t.y-n.y,u=r.x-n.x,l=r.y-n.y,s=y(u,i),f=y(l,c),d={x:r.x+s*o,y:r.y+f*a},p=d.x<0,h=d.x>1,b=d.y<0,m=d.y>1,g=[n,d];return h?S([{x:1,y:0},{x:1,y:1}],g):p?S([{x:0,y:0},{x:0,y:1}],g):b?S([{x:0,y:0},{x:1,y:0}],g):m?S([{x:0,y:1},{x:1,y:1}],g):d}function k(e,t,n,r){var o={x:g(t),y:g(n)},a=v(r+1),i=v(r-1),c=v(r+2),u=e[r],l=e[c],s=e[a],f=e[i],d=[u,l],p=[s,f],h=S(d,p);if(j(o,p)<=he||T(o,h)<=he){T(o,s)<T(o,f)?e[a]=C(u,o,f,s):e[i]=C(u,o,s,f)}var b=[l,o],m=[o,l];if(j(s,b)<=0||T(s,h)<=he){var y=w(h,b),O=y.slope,E=y.intercept,k=Math.atan(O),x=Math.cos(k)*he,P=o.y<h.y?-1:1,_=O*(h.x+x)+E-h.y;s.x=h.x-x*P,s.y=h.y+_*P}else if(j(f,m)<=0||T(f,h)<=he){var I=w(h,m),N=I.slope,M=I.intercept,A=Math.atan(N),R=Math.cos(A)*he,D=o.y<h.y?1:-1,L=N*(h.x+R)+M-h.y;f.x=h.x-R*D,f.y=h.y+L*D}u.x=o.x,u.y=o.y}function x(e){var t=e.filter(function(e){return e.x>0}),n=e.filter(function(e){return e.x<=0});return t.sort(function(e,t){return e.y!==t.y?e.y-t.y:e.y>0?e.x-t.x:t.x-e.x}),n.sort(function(e,t){return t.y!==e.y?t.y-e.y:e.y>0?t.x-e.x:e.x-t.x}),t.concat(n)}function P(e){e.applyFilters(),Object(B.a)().requestRenderAll()}function _(){G.fabric.UserImage.prototype.perspective=null,G.fabric.UserImage.prototype.__isInPerspectiveMode=null,G.fabric.UserImage.prototype.bindPerspectiveModeHandlers=me,G.fabric.UserImage.prototype.unbindPerspectiveModeHandlers=I,G.fabric.UserImage.prototype.findPerspectiveFilter=function(){return this.filters.find(function(e){return e.type===G.fabric.Image.filters.PerspectiveFilter.prototype.type})},G.fabric.UserImage.prototype.hasPerspectiveFilter=function(){var e=this.findPerspectiveFilter();return!(!e||e.isNeutral())},G.fabric.UserImage.prototype.setUnfilteredPerspectiveCanvas=function(){var e=this._element;this._element=this._originalElement,this.applySimpleFilters([this.findPerspectiveFilter()]),this._perspectiveFilteredElement=this._element,this._element=e},G.fabric.UserImage.prototype.getCropDiff=function(){return{x:(this.cropX-(this.getOriginalElementWidth()-this.cropX-this.width))/2,y:(this.cropY-(this.getOriginalElementHeight()-this.cropY-this.height))/2}},G.fabric.UserImage.prototype._stroke=function(e){var t=this,n=this.width/2,r=this.height/2,o=this.filters.find(function(e){return"PerspectiveFilter"===ce()(e,"type")}),a=0===this.cropX&&0===this.cropY&&this.width===this.getOriginalElementWidth()&&this.height===this.getOriginalElementHeight();if(o){var i=o.perspective,c=this.getOriginalElementWidth(),u=this.getOriginalElementHeight(),l=i.map(function(e){return new G.fabric.Point((e.x-.5)*c,(e.y-.5)*u)});if(e.beginPath(),a)e.moveTo(l[3].x,l[3].y),l.forEach(function(t){e.lineTo(t.x,t.y)});else{var s=new G.fabric.Point(-n,-r),f=new G.fabric.Point(n,r),d=new G.fabric.Point(n,-r),p=new G.fabric.Point(-n,r),h=this.getCropDiff();l.forEach(function(e){e.x-=h.x,e.y-=h.y});var b=G.fabric.Intersection.intersectPolygonRectangle(l,s,f),m=l.filter(function(e){return e.x<n-1&&e.x>1-n&&e.y<r-1&&e.y>1-r}),g={topline:{o:l[1],d:l[0]},rightline:{o:l[2],d:l[1]},bottomline:{o:l[3],d:l[2]},leftline:{o:l[0],d:l[3]}},v=[s,d,f,p],y=v.filter(function(e){var n=t._findCrossPoints(e,g);return 0!==n&&n%2==1}),O=x(b.points.concat(m).concat(y));e.moveTo(O[O.length-1].x,O[O.length-1].y),O.forEach(function(t){e.lineTo(t.x,t.y)})}e.closePath()}else e.beginPath(),e.moveTo(-n,-r),e.lineTo(n,-r),e.lineTo(n,r),e.lineTo(-n,r),e.lineTo(-n,-r),e.closePath()};var e=G.fabric.Object.prototype.drawBorders;G.fabric.UserImage.prototype.drawBorders=function(t,n){if(!this.isInPerspectiveMode)return e.call(this,t,n)};var t=G.fabric.Canvas.prototype._getRotatedCornerCursor;G.fabric.Canvas.prototype._getRotatedCornerCursor=function(e,n,r){return n.isInPerspectiveMode?"crosshair":t.call(this,e,n,r)},G.fabric.UserImage.prototype.perspectiveModifiedHandler=function(){this.beforeVals.top=this.top,this.beforeVals.left=this.left,this._perspectiveFilteredElement=null},G.fabric.UserImage.prototype.perspectiveScalingHandler=function(e){if(this.scaleX=this.beforeVals.scaleX,this.scaleY=this.beforeVals.scaleY,this.left=this.beforeVals.left,this.top=this.beforeVals.top,this.__corner){var t=this.currPerspectiveFilter,n=t.perspective,r=de[this.__corner],o=this.getPointRelativeToObject(e.e),a=this.getCropDiff();if(k(n,(o.x+a.x)/this.getElementWidth(),(o.y+a.y)/this.getElementHeight(),r),t.qualityMode=!1,!this.canvas.filterBackend.supportsWebGL||t.forcePerspective2d){if(this._element===this._originalElement){var i=document.createElement("canvas");i.width=this.getOriginalElementWidth(),i.height=this.getOriginalElementHeight(),this._element=i}var c={context:this._element.getContext("2d")};t.applyExistingPerspective(c),t.qualityMode=!0,be(this)}else this.applyFilters()}},Object.defineProperty(G.fabric.UserImage.prototype,"isInPerspectiveMode",{get:function(){return!!this.__isInPerspectiveMode},set:function(e){(e=!!e)!==this.isInPerspectiveMode&&(e?(o(this,["scaleX","scaleY","height","width","top","left"]),this.controls=re.d,this.setCoords(),this.bindPerspectiveModeHandlers(),this.__isInPerspectiveMode=!0):(r(this),this.controls=re.e,this.setCoords(),this.__isInPerspectiveMode=!1,this.unbindPerspectiveModeHandlers()),this.setCoords())}})}function I(){delete this._initPerspective,delete this.currPerspectiveFilter,delete this.matrixBeforePerspective,this.lockMovementX=!1,this.lockMovementY=!1,this.lockRotation=!1,this.off("scaling",this.perspectiveScalingHandler),this.off("modified",this.perspectiveModifiedHandler)}function N(e){return D(e)||R(e)||A(e)||M()}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function R(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function D(e){if(Array.isArray(e))return L(e)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=n(8),B=n(6),F=n(15),z=n(118),U=n(44),H=n(130),W=n(18),V=n(77),K=n.n(V),X=n(69),Y=n.n(X),q=["hoverCursor","borderColor","borderScaleFactor","cornerStyle","cornerSize","padding","onDeselect"],Z=n(176),J=n(174),$=n.n(J),Q=n(56),ee=n(49),te=n(1),ne=n(165),re=n(213),oe=["top","left","height","width","cropX","cropY","clippingPath"],ae={save:!1,track:!1},ie=n(21),ce=n.n(ie),ue=n(71),le=n.n(ue),se=n(469),fe=n(80),de={tl:0,tr:1,br:2,bl:3},pe=["tl","tr","br","bl"];pe[-3]="tr",pe[-2]="br",pe[-1]="bl",pe[4]="tl",pe[5]="tr",pe[6]="br";var he=Math.pow(2*Math.pow(.01,2),.5),be=le()(P,300),me=Object(fe.a)(function(){this.on("scaling",this.perspectiveScalingHandler),this.on("modified",this.perspectiveModifiedHandler);var e=this.findPerspectiveFilter();if(e||(e=new G.fabric.Image.filters.PerspectiveFilter,e.forcePerspective2d=Object(se.b)(this._element),this.filters.push(e)),!this._element)throw new Error('"this._element" was falsey, required to be HTML element for perspective',this._element);var t,n=["canvas","img"],r=this._element.tagName.toLowerCase();if(!n.includes(r))throw new Error('"this._element" was not '.concat(n.join(" or ")," element"),this._element);if(!e.helpLayer){"img"===r?(t=document.createElement("canvas"),t.width=this.getElementWidth(),t.height=this.getElementHeight(),t.getContext("2d").drawImage(this._element,0,0)):t=this._element;var o=t,a=o.width,i=o.height,c=t.getContext("2d").getImageData(0,0,a,i);e.helpLayer=e.createHelpLayer({imageData:c,canvasEl:{width:a,height:i}}),e.helpLayer.getContext("2d").putImageData(c,0,0)}this.currPerspectiveFilter=e,this.matrixBeforePerspective=this.calcTransformMatrix()}),ge=n(470),ve=G.fabric.util.createClass(G.fabric.Image,{perPixelTargetFind:!1,type:"userImage",filters:[],cropPadding:0,cropOpacity:.5,cropX:0,cropY:0,padding:0,imageId:0,crossOrigin:"anonymous",vignetteStrength:0,objectCaching:!0,noScaleCache:!1,__isCropping:null,strokeUniform:!0,controls:re.e,maskUrl:"",initialize:function(e,t){if(t.clipPathObject){var n=t.clipPathObject.pathString;this.clippingPath=new G.fabric.Path(n,t.clipPathObject)}this.callSuper("initialize",e,t),this.clipPathObject=void 0;var r="string"==typeof this.imageId;this.imageType=r?this.imageId.slice(-3).toLowerCase():"jpg",this._unMaskedElement||(this._unMaskedElement=e)},paintMask:function(){this._unMaskedElement&&this.mask&&(this._originalElement=Object(ge.a)(this._unMaskedElement,this.mask))},getOriginalElementWidth:function(){return this._originalElement?this._originalElement.naturalWidth||this._originalElement.width:0},getOriginalElementHeight:function(){return this._originalElement?this._originalElement.naturalHeight||this._originalElement.height:0},getElementWidth:function(){return this._element?this._element.naturalWidth||this._element.width:0},getElementHeight:function(){return this._element?this._element.naturalHeight||this._element.height:0},_initElement:function(e,t){this.callSuper("_initElement",e,t)},setElement:function(e,t){return this._originalElement=e,this._element=e,this._initConfig(t),this.applySimpleFilters(),this},applyFilters:function(e,t){F.b.isEnabled("benchmark")?(console.time("Apply Filter"),this.applySimpleFilters(e,t),console.timeEnd("Apply Filter")):this.applySimpleFilters(e,t)},needsItsOwnCache:function(){return!this.isInPerspectiveMode&&!this.isCropping&&!!(this.shadow&&this.shadow.enabled&&(this.strokeWidth>0&&!this.strokeNofill||this.clippingPath))},shouldCache:function(){var e=this.ownCaching;return this.ownCaching=this.objectCaching&&this.needsItsOwnCache(),e!==this.ownCaching&&(this.dirty=!0),this.ownCaching},applySimpleFilters:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(e||this.filters).filter(function(e){return null!=e}),r=this._originalElement;if(!r||0===n.length)return this._element=r,this;var o,a=r.naturalWidth||r.width,i=r.naturalHeight||r.height;this._element===this._originalElement?(o=G.fabric.util.createCanvasElement(),o.width=a,o.height=i,this._element=o):(o=this._element,o.getContext("2d").clearRect(0,0,a,i));var c;t||(c=this.getFilterCacheKey()),Object(B.a)().filterBackend.applyFilters(n,r,a,i,o,c),this._element=o,this.set("dirty",!0)},_render:function(e){var t=this.width,n=this.height,r=this._perspectiveFilteredElement||this._originalElement,o=this.hideFiltering?r:this._element;if(this.canvas.contextContainer.save(),this._removeShadow(this.canvas.contextContainer),e.save(),this.pixellated&&(e.imageSmoothingEnabled=!1),this.isCropping||this.isInPerspectiveMode){e.globalAlpha=this.cropOpacity;var a=this.getElementWidth(),i=this.getElementHeight(),c=-this.cropX-t/2,u=-this.cropY-n/2;e.drawImage(o,c,u,a,i),e.globalAlpha=1,e.strokeStyle=G.fabric.Object.prototype.borderColor,e.lineWidth=Math.abs(2/this.scaleX/this.canvas.getZoom()),e.strokeRect(c,u,a,i)}this._drawDarkLayer(e);var l=0,s=1;this.clippingPath&&this.clippingPath instanceof G.fabric.Path&&(s=this.clippingPath.scaleX,e.scale(s,s),(l=G.fabric.util.degreesToRadians(this.clippingPath.angle))&&e.rotate(l)),this.strokeNofill||(this.clippingPath&&this.clippingPath instanceof G.fabric.Path?this.clippingPath._renderPathCommands(e):this._stroke(e),e.scale(1/s,1/s),this._renderStroke(e),e.scale(s,s)),this.clippingPath&&this.clippingPath instanceof G.fabric.Path&&(this.clippingPath._renderPathCommands(e),e.clip(),l&&e.rotate(-l),e.scale(1/s,1/s)),o&&(this._setShadow(this.canvas.contextContainer),e.drawImage(o,Math.max(this.cropX,0),Math.max(this.cropY,0),Math.max(1,Math.floor(t)),Math.max(1,Math.floor(n)),-t/2,-n/2,Math.max(0,Math.floor(t)),Math.max(0,Math.floor(n))),this._removeShadow(this.canvas.contextContainer),this.hideFiltering||this.drawVignette(e)),this._drawCroppingLines(e),e.restore(),this.canvas.contextContainer.restore()},drawVignette:function(e){if(this.canvas&&this.canvas.vignetteAsset&&this.vignetteStrength){e.save();var t,n;if(e.globalAlpha*=this.vignetteStrength,this===this.canvas.cachedBackgroundImage){var r=this.canvas.backgroundImage;t=r.width,n=r.height;var o=this.canvas.getRetinaScaling();e.setTransform(o,0,0,o,0,0),e.transform.apply(e,N(this.canvas.viewportTransform)),r.transform(e)}else t=this.width,n=this.height;e.drawImage(this.canvas.vignetteAsset,-t/2,-n/2,t,n),e.restore()}},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.callSuper("toObject",[].concat(N(e),["imageId","isInPerspectiveMode","tolerance","cropX","cropY","isCropping","vignetteStrength","pixellated","maskUrl"]));t.fileTitle=this.fileTitle||this.imageId,t.clipPathObject=this.clippingPath?{pathString:this.clippingPath.pathString,angle:this.clippingPath.angle,scaleX:this.clippingPath.scaleX,scaleY:this.clippingPath.scaleY,name:this.clippingPath.name}:null;var n=this.getElementWidth(),r=this.getElementHeight();return t.aspectRatio=r/n,delete t.alignX,delete t.alignY,t},getSrc:function(e){return e||this.src},getImageKey:function(){return"".concat(this.imageId,"_").concat(this.getElementWidth(),"_").concat(this.getElementHeight())},getFilterCacheKey:function(){return"user-image-".concat(this.imageId)},dispose:function(){var e=Object(B.a)();e.filterBackend&&e.filterBackend.evictCachesForKey(this.getFilterCacheKey())},swapElement:function(e,t){var n=e.width/this.getElementWidth(),r=e.height/this.getElementHeight(),o=this.getObjectScaling();this.__element=this._element,this.__originalElement=this._originalElement;var a=e;this.mask&&(a=Object(ge.a)(e,this.mask)),this._element=a,this._originalElement=a,this._scaleX=this.scaleX,this.scaleX=t?this.scaleX/o.scaleX:this.scaleX/n,this.clippingPath&&(this.clippingPath._scaleX=this.clippingPath.scaleX,this.clippingPath.scaleX*=n),this._scaleY=this.scaleY,this.scaleY=t?this.scaleY/o.scaleY:this.scaleY/r,this._width=this.width,this.width*=n,this._height=this.height,this.height*=r,this._cropX=this.cropX,this.cropX*=n,this._cropY=this.cropY,this.cropY*=r}});ve.fromObject=function(e,t){var n=G.fabric.util.object.clone(e);return z.a.getLoadedAsset({width:n.width,height:n.height,url:n.src,type:"userImage",imageId:n.imageId}).then(function(e){G.fabric.Image.prototype._initFilters.call(n,n.filters,function(r){n.filters=r||[],G.fabric.Image.prototype._initFilters.call(n,n.resizeFilters,function(r){n.resizeFilters=r||[];var o=e.sourceImage;n._unMaskedElement=o;var a=Promise.resolve(o);return n.maskUrl&&(a=Object(W.a)(n.maskUrl).then(function(e){return n.mask=e,Object(ge.a)(o,e)})),a.then(function(e){var r=new G.fabric.UserImage(e,n);t(r)})})})}).catch(function(e){throw U.a.noticeError(e),Object(H.showErrorModal)(),e})},G.fabric.UserImage=ve,void 0===ve.prototype.isCropping&&s(),void 0===ve.prototype.isInPerspectiveMode&&_();t.a=ve},function(e,t,n){"use strict";var r=n(370),o=n.n(r),a=n(134),i=n(2),c=n(1433),u=(n.n(c),n(817),n(454));n.d(t,"a",function(){return i.a});var l={pt:"pt-br",nl:"nl-nl",da:"da-dk",nb:"no",sv:"en",ko:"en",zh:"en","zh-Hant":"en"},s=Object(u.a)();if(o.a){var f=l[s]?l[s]:s;try{o.a.language(f)}catch(e){}}window&&window.mixpanel&&window.mixpanel.register({language:s});a.b,i.a},,,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r="KEYBOARD_SHORTCUT",o="UI_BUTTON",a="CONTEXT_MENU_BUTTON";t.d={KEYBOARD_SHORTCUT:r,UI_BUTTON:o,CONTEXT_MENU_BUTTON:a}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return B});var m=n(0),g=n.n(m),v=n(190),y=n.n(v),O=n(11),S=n(133),w=n(25),j=n(286),T=n(835),E=n(4),C=n.n(E),k=n(98),x=n(29),P=(n.n(x),n(18)),_=n(546),I=n(17),N=n(392),M=n(9),A=n(2),R=n(214),D=n.n(R),L=n(97),G=Object(A.c)(D.a),B=function(e){function t(){var e;a(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),b(d(e),"state",{activeTab:"fromURL",url:""}),b(d(e),"storeTempUrl",function(t){e.setState({url:t})}),b(d(e),"onTabClick",function(t){e.setState({activeTab:t})}),b(d(e),"resetTab",function(){e.setState({activeTab:"localFileDropTarget"})}),e}u(t,e);var n=s(t);return c(t,[{key:"render",value:function(){return g.a.createElement(S.a,o({},this.props,{id:"modal-upload-dropdown",style:{width:500},iconName:"uploads-icon",onDragOver:this.resetTab,onDragEnter:this.resetTab,onDragLeave:this.resetTab,closeDataTrack:M._152}),g.a.createElement("h1",{className:"upload-modal-header"},G("upload.modal.header")),g.a.createElement(j.b,{activeTab:this.state.activeTab,onTabClick:this.onTabClick,contentClass:"upload-modal-tab-contents"},g.a.createElement(z,{key:"localFileDropTarget",tabId:"localFileDropTarget",tabLabel:G("upload.modal.from-computer"),resolve:this.props.resolve,reject:this.props.reject,trackLabel:M._153}),g.a.createElement(U,{key:"fromURL",tabId:"fromURL",tabLabel:G("upload.modal.from-url"),url:this.state.url,tempStore:this.storeTempUrl,resolve:this.props.resolve,reject:this.props.reject,trackLabel:M._156})))}}]),t}(m.PureComponent),F=function(e){function t(){var e;a(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),b(d(e),"state",{isDraggingIn:e.props.isDraggingIn,uploadPending:!1}),b(d(e),"onUploadComplete",function(){k.j.apply(void 0,arguments),Object(w.a)()}),e}u(t,e);var n=s(t);return c(t,[{key:"render",value:function(){return g.a.createElement("div",{className:"from-computer-tab-content"},g.a.createElement("div",null,g.a.createElement(_.a,{className:"upload-modal-dropzone-button",onUploadStart:this.onUploadStart,onBlobLoad:k.f,onUploadComplete:this.onUploadComplete,dropZoneClassName:" dropzone upload-modal-dropzone",route:Object(P.l)(),accept:x.client.upload.fileTypes,validateFile:k.l,multiple:!0,noCatchPosition:!0},g.a.createElement(L.b,{"data-track":M._154},G(this.state.uploadPending?"upload.modal.uploading":"upload.modal.upload-image")))),g.a.createElement("p",null,G("upload.modal.drag")))}}]),t}(T.a),z=Object(O.a)(function(e){return{isDraggingIn:Object(I.K)(e)}})(F),U=function(e){function t(){var e,r;a(this,t);for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),b(d(r),"state",{url:r.props.url}),b(d(r),"successFunction",function(e){Object(k.k)(!1,e).then(function(){r.setState({uploading:!1}),r.props.resolve()})}),b(d(r),"failureFunction",function(e){var t=e.errorData,n=e.retryFunc;Object(k.j)(!0,t,function(){return n().then(r.successFunction).catch(r.failureFunction)}),r.props.reject()}),b(d(r),"attemptUpload",(e=r).attemptUpload.bind(e)),b(d(r),"validationHandler",(e=r).validationHandler.bind(e)),b(d(r),"changeHandler",(e=r).changeHandler.bind(e)),r}u(t,e);var n=s(t);return c(t,[{key:"attemptUpload",value:function(e){e.preventDefault();var t=this.inputEl.value,n=t.split("/").pop().slice(0,100),r=y.a.generate();this.setState({uploading:!0}),Object(k.f)(null,[{tempId:r,fileObj:null,fileName:n,fileTitle:n}]),Object(N.c)(Object(P.l)(),t,{fileName:n,tempId:r}).then(this.successFunction).catch(this.failureFunction)}},{key:"validationHandler",value:function(e){e.preventDefault();var t=e.target.validity;if(t.valid)return void this.setState({invalid:!1,errorMessage:""});this.setState({invalid:!0}),(t.valueMissing||t.typeMismatch)&&this.setState({errorMessage:G("upload.modal.error-required")}),t.patternMismatch&&this.setState({errorMessage:G("upload.modal.error-invalid")})}},{key:"changeHandler",value:function(e){this.setState({invalid:!1,errorMessage:"",url:e.target.value})}},{key:"componentWillUnmount",value:function(){this.props.tempStore&&this.props.tempStore(this.state.url)}},{key:"render",value:function(){var e=this,t=this.state.invalid?"invalid":"";return g.a.createElement("div",{className:"from-url-tab-content"},g.a.createElement("p",null,G("upload.modal.insert")),g.a.createElement("form",{className:"from-url-form",onSubmit:this.attemptUpload},g.a.createElement("div",null,g.a.createElement("input",{className:C()(t),placeholder:G("upload.modal.paste"),ref:function(t){e.inputEl=t},autoFocus:!0,type:"url",pattern:"https?://.+(jpg|jpeg|png).*",required:!0,onInvalid:this.validationHandler,onChange:this.changeHandler,value:this.state.url,"data-track":M._155})),this.state.invalid&&g.a.createElement("div",{className:"inputError"},this.state.errorMessage),g.a.createElement(L.b,{type:"submit","data-track":M._157},G(this.state.uploading?"upload.modal.uploading":"upload.button-label")),g.a.createElement("p",{className:"disclaimer"},G("upload.modal.warning"))))}}]),t}(m.PureComponent)},,,function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"j",function(){return i}),n.d(t,"f",function(){return c}),n.d(t,"l",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"b",function(){return f}),n.d(t,"a",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"c",function(){return h});var r="jpg",o="jpeg",a="png",i="tiff",c="pdf",u="zip",l="webp",s="pdfv",f="google-drive",d="dropbox",p=2,h={jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png",webp:"image/webp",pdf:"application/pdf",pdfv:"application/pdf",zip:"application/zip",tiff:"image/tiff"}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(129),o=n.n(r),a=n(94),i=Object(a.d)()?5e3:12e3,c=4e3;t.b=o()(function(){return i})},function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u});var r=n(33),o=Object(r.a)(["ResizePanel"]),a=Object(r.a)(o.concat(["lastActivePresetName"])),i=Object(r.a)(Object(r.a)(o.concat(["requestDeletePresetId"])),function(e){return e>-1?e:null}),c=Object(r.a)(o.concat(["thumbnail"])),u=Object(r.a)(o.concat(["lockedRatio"]));t.a={panel:o,lastActivePresetName:a,requestDeletePresetId:i,thumbnail:c,lockedRatio:u}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(157),c=n.n(i),u=n(1382),l=n.n(u);t.a=function(e,t){return l()(function(){return c.a.attempt(e)},o({backoff:5,max_tries:3,interval:500,throw_original:!0},t))}},function(e,t,n){"use strict";function r(e){var t=e.title;return t?a.a.createElement("div",{className:"cmpSeparator"},a.a.createElement("span",{className:"separatorLine left"}),a.a.createElement("span",{className:"separatorTitle"},t),a.a.createElement("span",{className:"separatorLine right"})):a.a.createElement("div",{className:"cmpSeparator"},a.a.createElement("span",{className:"separatorLine"}))}t.a=r;var o=n(0),a=n.n(o)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return g});var h=n(0),b=n.n(h),m=n(258),g=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.assets,n=e.cmp,r=e.columns,o=r||2;return b.a.createElement("div",{className:"cmpMediaResults search-results-columns-container"},this.renderColumns(t,n,{columnCount:o}))}}]),t}(m.a);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(g,"displayName","MediaResults")},function(e,t,n){"use strict";var r=n(106),o=r.a?console.log.bind(console):function(){};t.a=o},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var r="SET_ACTIVE_PRESET",o="SET_CONSUMER_DEFINED_PRESETS",a="HANDLE_CONSUMER_PROVIDED_PRESETS_PARAM"},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object(p.a)(),r=n.getActiveObject();r.set("dirty",!0);var a,i,u=o({},r.lineStyles);if(r.isEditing){var l=Object(h.a)(r);a=l.lineStart,i=l.lineEnd}else a=0,i=r.textLines.length-1;c(u,a,i,e,t),r.lineStyles=u}function c(e,t,n,r,o){for(var a=t;a<=n;a++){if(e[a]){var i=e[a].indentLevel||0;e[a].indentLevel=l(i+r)}else e[a]={indentLevel:l(r)};o&&(e[a].indentStyle=o)}}function u(e){if(!+e)return!1;for(var t=String(+e).split(""),n=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],r="",o=3;o--;)r=(n[+t.pop()+10*o]||"")+r;return Array(+t.join("")+1).join("M")+r}function l(e){return Math.max(m,Math.min(b,e))}function s(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(p.a)(),r=n.getActiveObject();i(0,e),t&&n.fire("save",{target:r}),n.requestRenderAll()}function f(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(p.a)(),n=t.getActiveObject();i(1),e&&t.fire("save",{target:n}),t.requestRenderAll()}function d(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=Object(p.a)(),n=t.getActiveObject();i(-1),e&&t.fire("save",{target:n}),t.requestRenderAll()}n.d(t,"a",function(){return b}),n.d(t,"b",function(){return m}),t.f=u,t.e=f,t.c=d;var p=n(6),h=n(457),b=3,m=0;t.d={MAX_INDENT_LEVEL:b,MIN_INDENT_LEVEL:m,romanize:u,normalizeIndent:l,setIndentStyle:s,increaseIndent:f,decreaseIndent:d}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var i=n(0),c=n.n(i),u=n(511),l=n(4),s=n.n(l);t.a=function(e){var t=e.className,n=o(e,["className"]);return c.a.createElement(u.a,r({className:s()("editor-flat-button",t)},n))}},function(e,t,n){"use strict";var r=n(8),o=(n.n(r),n(667)),a=n(6),i=r.fabric.util.createClass(r.fabric.Rect,{type:"editorArtboard",fill:"#FFFFFF",strokeWidth:0,width:o.b,height:o.a,top:o.a/2,left:o.b/2,objectCaching:!1,renderCheckboard:!0,checkerboardFixed:!1,checkerboardSize:40,opacity:1,controls:{},initialize:function(e){this.callSuper("initialize",e),this.setCoords(),this.off("mousedblclick"),this.off("mousestrictdblclick"),this.currentPattern=this.createCheckeredPattern(),this.canvas||(this.canvas=Object(a.a)())},createCheckeredPattern:function(){var e=document.createElement("canvas"),t=this.checkerboardSize;e.height=2*t,e.width=2*t;var n=e.getContext("2d");return n.fillStyle="white",n.fillRect(0,0,t,t),n.fillRect(t,t,t,t),n.fillStyle="lightgray",n.fillRect(t,0,t,t),n.fillRect(0,t,t,t),n.createPattern(n.canvas,"repeat")},render:function(e){if(!this.isNotVisible()){e.save(),this.transform(e);var t=this.width/2,n=this.height/2;(this.renderCheckboard&&1!==this.opacity||this.previewer&&this.previewer.isPreviewing)&&(e.save(),e.fillStyle=this.currentPattern,e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.closePath(),this.checkerboardFixed&&e.scale(1/this.canvas.getZoom(),1/this.canvas.getZoom()),e.fill(),e.restore()),this.opacity>0&&(this._setOpacity(e),this._setFillStyles(e,this),e.fillRect(-t,-n,this.width,this.height)),e.restore()}},isNotVisible:function(){return 0===this.opacity&&!this.renderCheckboard||0===this.width&&0===this.height||!this.visible},toObject:function(e){var t=r.fabric.Object.NUM_FRACTION_DIGITS,n=r.fabric.util.toFixed,o={type:this.type,originX:this.originX,originY:this.originY,left:n(this.left,t),top:n(this.top,t),width:n(this.width,t),height:n(this.height,t),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,opacity:n(this.opacity,t)};return r.fabric.util.populateWithProperties(this,o,e),this.includeDefaultValues||(o=this._removeDefaultValues(o)),o}});i.fromObject=function(e,t){return r.fabric.Object._fromObject("EditorArtboard",e,t)},r.fabric.EditorArtboard=i,t.a=i},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(163),O=n(116),S=n(11),w=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.pxToCurrentUnits,o=e.printResolutionUnits,a=void 0===o?O.c:o,i=e.className,c=r(t),u=r(n),l=O.f[a],s=l.dimensions({WIDTH:c,HEIGHT:u});return m.a.createElement("span",{className:i},s)}}]),t}(b.PureComponent);h(w,"displayName","PreviewDimensions"),h(w,"propTypes",{width:v.a.number.isRequired,height:v.a.number.isRequired}),h(w,"defaultProps",{width:0,height:0}),t.a=Object(S.a)(function(e){return{printResolutionUnits:y.b.printResolutionUnits(e),pxToCurrentUnits:y.b.pxToCurrentUnits(e)}})(w)},function(e,t,n){"use strict";function r(){return"undefined"!=typeof window&&null!=window.navigator.msSaveBlob}t.a=r},function(e,t,n){"use strict";function r(e){return a(e)||s(e)||u(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e){if(Array.isArray(e))return l(e)}function i(e){return f(e)||s(e)||u(e)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return e}function d(e,t,n){var r=n.fileName,o=n.tempId,a=void 0===o?null:o,i=n.fileKey,c=void 0===i?null:i,u=n.dataType,l=void 0===u?null:u;if(m()(e)&&(e=e()),!v.a.isLoggedIn())return Promise.reject();t&&t.preview&&delete t.preview;var s={"data[type]":"media","data[attributes][media_type]":"image","data[attributes][original_filename]":r,"data[attributes][title]":r.substring(0,190)};return"string"==typeof t?s["data[url]"]=t:s.file=t,Object(g.a)({route:e},s,{tempId:a,fileName:r,fileKey:c,dataType:l})}n.d(t,"a",function(){return S}),n.d(t,"b",function(){return w}),t.c=d;var p=n(71),h=n.n(p),b=n(100),m=n.n(b),g=n(671),v=n(64),y=[],O=Promise.resolve(),S=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return y.push([e].concat(n)),y},w=h()(function(){if(y.length>0){var e=y.splice(0,5),t=[];e.forEach(function(e){var n=i(e),o=n[0],a=n.slice(1);t.push(o.apply(void 0,r(a)))}),O=O.then(function(){return Promise.all(t)}).then(function(){setTimeout(w,1e3)})}},1e3)},function(e,t,n){"use strict";function r(e){return"".concat(o.client.search.host).concat(e)}t.a=r;var o=n(29);n.n(o)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return""===e?t:"".concat(e,".").concat(t)}var o=n(432),a=n.n(o);t.a=function(e){return function t(n,o){o=o||"",Object.keys(n).forEach(function(i){var c=n[i];a()(c)?t(c,r(o,i)):e({value:c,object:n,keyPath:r(o,i),key:i})})}}},,,,function(e,t,n){"use strict";t.a=function(e){return e.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"")}},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r="SHOW_PANEL",o="SET_DESIGN_INFO",a="SET_ACTIVE_DESIGN_ID"},,function(e,t,n){"use strict";function r(){return c()(window.__reqLanguage)&&window.__reqLanguage!==u}function o(){return r()?window.__reqLanguage:u}function a(){return window.__langResources||{}}t.c=r,t.a=o,t.b=a;var i=n(816),c=n.n(i),u="en"},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SET_FONT_FAMILIES"},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return v});var h=n(0),b=n.n(h),m=n(5),g=n.n(m),v=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){return b.a.createElement("div",null,this.getTitle(),this.getMessage())}},{key:"getTitle",value:function(){return b.a.createElement("h1",null,this.props.title)}},{key:"getMessage",value:function(){return b.a.createElement("h2",null,this.props.message)}}]),t}(h.PureComponent);v.propTypes={title:g.a.string.isRequired,message:g.a.oneOfType([g.a.string,g.a.object])}},function(e,t,n){"use strict";function r(){var e=Object(l.a)(),t=e.getActiveObject(),n=t&&t.isEditing,r=t&&t.lineStyles||{};if(!Object.keys(r).length)return!0;if(n){for(var o=a(t),i=o.lineStart,c=o.lineEnd,u=i;u<=c;u++)if(!r[u]||!r[u].indentLevel||r[u].indentLevel<s.a)return!0}else for(var f in r)if(!r[f].indentLevel||r[f].indentLevel<s.a)return!0;return!1}function o(){var e=Object(l.a)(),t=e.getActiveObject(),n=t&&t.isEditing,r=t&&t.lineStyles||{};if(!Object.keys(r).length)return!1;if(n){for(var o=a(t),i=o.lineStart,c=o.lineEnd,u=i;u<=c;u++)if(r[u]&&r[u].indentLevel>s.b)return!0}else for(var f in r)if(r[f].indentLevel>s.b)return!0;return!1}function a(e){var t=e.get2DCursorLocation(e.selectionStart).lineIndex,n=e.get2DCursorLocation(e.selectionEnd).lineIndex;return{lineStart:e._styleMap[t].line,lineEnd:e._styleMap[n].line}}function i(e){var t=Object(l.a)(),n=t.getActiveObject(),r=n&&n.isEditing,o=n&&n.lineStyles;if(!n||!o||!Object.keys(o).length)return!1;if(r){for(var i=a(n),c=i.lineStart,u=i.lineEnd,s=c;s<=u;s++)if(o[s]&&o[s].indentStyle===e)return!0}else for(var f in o)if(o[f].indentStyle===e)return!0;return!1}function c(){return i("bullet")}function u(){return i("number")}t.b=r,t.c=o,t.a=a,t.d=c,t.e=u;var l=n(6),s=n(387)},,,,,,function(e,t,n){"use strict";function r(e){var t=Object(a.a)();if(t.getBackgroundImage())return e;var n=t.getArtboard();if(n.opacity<p)return e;var r=c()(e),o=0;return l()(f()(c()(n.fill),h),function(e,t){return o+=e,Math.abs(e-r[t])<d})?"#".concat(r[o/3<128?"lighten":"darken"](d).toHex()):e}function o(e){return e.nofill||(e.fill=r(e.fill)),e.nofill&&!e.strokeNofill&&(e.stroke=r(e.stroke)),e}t.a=o;var a=n(6),i=n(194),c=n.n(i),u=n(1428),l=n.n(u),s=n(69),f=n.n(s),d=12,p=.7,h=["_r","_g","_b"]},function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){return new Promise(function(t){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o.add.apply(o,r(e)),t(e)}var o=Object(s.a)();f.fabric.util.enlivenObjects(e,n,null,function(e,t){if("group"===t.type&&t.bindEditorEvents(d.a),"editorImage"===t.type||"userImage"===t.type){var n=t.imageId,r=t.getImageKey();Object(p.a)(t._originalElement,{imageId:n,widget:"filterButton",imageKey:r})}})})}t.a=l;var s=n(6),f=n(8),d=(n.n(f),n(149)),p=n(703)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e){return e.concat?e.map(function(e){return e.concat?e.concat():e}):e}function a(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Array(e).fill(0),t[n][n]=1;return t}function i(e){var t;return"object"===r(e)?(t=e[0],"object"===r(t)?[e.length,t.length]:[e.length]):[]}function c(e,t){var n,r,o,a,i,c,u,l=e.length,s=t.length,f=t[0].length,d=Array(l);for(n=l-1;n>=0;n--){for(a=Array(f),i=e[n],o=f-1;o>=0;o--){for(c=i[s-1]*t[s-1][o],r=s-2;r>=1;r-=2)u=r-1,c+=i[r]*t[r][o]+i[u]*t[u][o];0===r&&(c+=i[0]*t[0][o]),a[o]=c}d[n]=a}return d}function u(e){var t,n,r,o,a,i=e.length,c=e[0].length,u=Array(c);for(n=0;n<c;n++)u[n]=Array(i);for(t=i-1;t>=1;t-=2){for(o=e[t],r=e[t-1],n=c-1;n>=1;--n)a=u[n],a[t]=o[n],a[t-1]=r[n],--n,a=u[n],a[t]=o[n],a[t-1]=r[n];0===n&&(a=u[0],a[t]=o[0],a[t-1]=r[0])}if(0===t){for(r=e[0],n=c-1;n>=1;--n)u[n][0]=r[n],--n,u[n][0]=r[n];0===n&&(u[0][0]=r[0])}return u}function l(e){for(var t,n,r,c,u=i(e),l=u[0],s=u[1],f=o(e),d=a(l),p=0;p<s;++p){for(var h=-1,b=-1,m=void 0,g=p;g!==l;++g)(m=Math.abs(f[g][p]))>b&&(h=g,b=m);for(n=f[h],f[h]=f[p],f[p]=n,c=d[h],d[h]=d[p],d[p]=c,e=n[p],m=p;m!==s;++m)n[m]/=e;for(m=s-1;-1!==m;--m)c[m]/=e;for(var v=l-1;-1!==v;--v)if(v!==p){for(t=f[v],r=d[v],e=t[p],m=p+1;m!==s;++m)t[m]-=n[m]*e;for(m=s-1;m>0;--m)r[m]-=c[m]*e,--m,r[m]-=c[m]*e;0===m&&(r[0]-=c[0]*e)}}return d}function s(e){return h(e)||p(e)||d(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function p(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function h(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r){t.clearRect(0,0,n.width,n.height);for(var o=n.naturalWidth||n.width,a=n.naturalHeight||n.height,i=[{x:0,y:0},{x:o,y:0},{x:o,y:a},{x:0,y:a}],c=e.map(function(e){return{x:e.x*o,y:e.y*a}}),u=r?1e-10:.01,l=r?2e3:500,f=v(c),d=[{src:[i[0],i[1],i[2]],dst:[f[0],f[1],f[2]]},{src:[i[2],i[3],i[0]],dst:[f[2],f[3],f[0]]}],p=0;p<d.length&&d.length<l;){var h=g(d[p],u);1===h.length?p++:(d.splice(p,1),d.push.apply(d,s(h)))}for(var b=0;b<d.length;b++){for(var m=d[b].src,y=d[b].dst,O=[],j=0;j<y.length;j++){var T=y[j];O.push({x:T.x/T.z,y:T.y/T.z})}var E=w(m,O);t.save(),S(t,O),t.clip(),t.transform(E[0],E[1],E[2],E[3],E[4],E[5]),t.drawImage(n,0,0),t.restore()}}function g(e,t){for(var n={badness:-1,corners:null},r=0;r<e.dst.length;r++){var o=r,a=(r+1)%e.dst.length,i=e.dst[o].z-e.dst[a].z,c=Math.abs(i);c>n.badness&&(n.badness=c,n.corners=[o,a])}if(n.badness<t)return[e];var u=e.src[0],l=e.dst[0],s=e.src[1],f=e.dst[1],d=e.src[2],p=e.dst[2],h={x:(u.x+s.x)/2,y:(u.y+s.y)/2},b={x:(l.x+f.x)/2,y:(l.y+f.y)/2,z:(l.z+f.z)/2},m={x:(s.x+d.x)/2,y:(s.y+d.y)/2},g={x:(f.x+p.x)/2,y:(f.y+p.y)/2,z:(f.z+p.z)/2},v={x:(d.x+u.x)/2,y:(d.y+u.y)/2},y={x:(p.x+l.x)/2,y:(p.y+l.y)/2,z:(p.z+l.z)/2};return[{src:[u,h,v],dst:[l,b,y]},{src:[h,s,m],dst:[b,f,g]},{src:[d,v,m],dst:[p,y,g]},{src:[h,m,v],dst:[b,g,y]}]}function v(e){var t=j([e[0],e[2]],[e[1],e[3]]),n=T(e[0],e[2]),r=T(e[1],e[3]),o=n/T(e[0],t),a={x:o*e[0].x,y:o*e[0].y,z:o},i=r/T(e[1],t),c={x:i*e[1].x,y:i*e[1].y,z:i},u=n/T(e[2],t),l={x:u*e[2].x,y:u*e[2].y,z:u},s=r/T(e[3],t);return[a,c,l,{x:s*e[3].x,y:s*e[3].y,z:s}]}function y(e,t){for(var n=u([[t[0].x,t[0].y,t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]]),r=[],o=0;o<e.length;o++)r.push([e[o].x,0,-t[o].x*e[o].x,e[o].y,0,-t[o].x*e[o].y,1,0]),r.push([0,e[o].x,-t[o].y*e[o].x,0,e[o].y,-t[o].y*e[o].y,0,1]);var a=u(c(l(r),n))[0];return[a[0],a[1],0,a[2],a[3],a[4],0,a[5],0,0,0,0,a[6],a[7],0,1]}function O(e){var t=e.length,n=-1/0,r=1/0,o=-1/0,a=1/0,i=e.reduce(function(e,i){return i.y>n&&(n=i.y),i.y<r&&(r=i.y),i.x>o&&(o=i.x),i.x<a&&(a=i.x),e.center.x+=i.x/t,e.center.y+=i.y/t,e},{center:{x:0,y:0}});return i.boundingHeight=n-r,i.boundingWidth=o-a,i}function S(e,t){var n=O(t),r=n.center,o=n.boundingHeight,a=n.boundingWidth;e.save(),e.beginPath(),e.translate(r.x,r.y);var i=Math.max(1+I/a,1.05),c=Math.max(1+I/o,1.05);e.scale(i,c),e.moveTo(t[0].x-r.x,t[0].y-r.y),e.lineTo(t[1].x-r.x,t[1].y-r.y),e.lineTo(t[2].x-r.x,t[2].y-r.y),e.closePath(),e.restore()}function w(e,t){var n=[[e[0].x,e[1].x,e[2].x],[e[0].y,e[1].y,e[2].y],[1,1,1]],r=[[t[0].x,t[1].x,t[2].x],[t[0].y,t[1].y,t[2].y],[1,1,1]],o=c(r,l(n));return[o[0][0],o[1][0],o[0][1],o[1][1],o[0][2],o[1][2]]}function j(e,t){var n=e[0].x,r=e[0].y,o=e[1].x,a=e[1].y,i=t[0].x,c=t[0].y,u=t[1].x,l=t[1].y,s=(n-o)*(c-l)-(r-a)*(i-u);return{x:((n*a-r*o)*(i-u)-(n-o)*(i*l-c*u))/s,y:((n*a-r*o)*(c-l)-(r-a)*(i*l-c*u))/s}}function T(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){k(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=n(8),P=n(21),_=n.n(P),I=2,N=n(95);n.d(t,"b",function(){return M});var M=function(){return[{x:0,y:0},{x:1,y:0},{x:1,y:1},{x:0,y:1}]},A=M(),R=x.fabric.util.createClass(N.a,{type:"PerspectiveFilter",qualityMode:!0,vertexSource:"attribute vec2 aPosition;\n    attribute vec2 aTexCoord;\n    varying vec2 vTexCoord;\n    uniform mat4 uTransformMatrix;\n    void main() {\n      vTexCoord = aTexCoord;\n      gl_Position = uTransformMatrix * vec4(aPosition, 0.0, 1.0);\n    }",mainParameter:"perspective",initialize:function(e){this.callSuper("initialize",e),_()(e,"perspective")||(this.perspective=M())},isNeutral:function(){var e=this.perspective;return 0===e[0].x&&0===e[0].y&&1===e[1].x&&0===e[1].y&&1===e[2].x&&1===e[2].y&&0===e[3].x&&1===e[3].y},applyTo2d:function(e){var t=this.createHelpLayer(e),n=this.createHelpLayer(e),r=n.getContext("2d");t.getContext("2d").putImageData(e.imageData,0,0),r.putImageData(e.imageData,0,0),this.helpLayer=t,this.applyExistingPerspective(C(C({},e),{},{context:r})),e.imageData=r.getImageData(0,0,e.sourceWidth,e.sourceHeight)},applyExistingPerspective:function(e){m(this.perspective,e.context,this.helpLayer,this.qualityMode)},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix")}},sendUniformData:function(e,t){var n=this.perspective.map(function(e){return{x:2*e.x-1,y:2*e.y-1}}),r=y(A,n);e.uniformMatrix4fv(t.uTransformMatrix,!1,r)},toObject:function(){return x.fabric.util.object.extend(this.callSuper("toObject"),{perspective:x.fabric.util.object.clone(this.perspective,!0)})}});R.fromObject=x.fabric.Image.filters.EnhancedFilter.fromObject,x.fabric.Image.filters||(x.fabric.Image.filters={}),x.fabric.Image.filters.PerspectiveFilter=R;t.a=R},function(e,t,n){"use strict";function r(e,t){var n=Object(o.a)();if(e&&e.length>1){var r=t.filter(function(t){return e.indexOf(t.id)>-1}),c=new i.fabric.ActiveSelection(r,{canvas:n});c.setCoords(),n._setActiveObject(c),a.b.bindEventsToDuplicatedActiveGroup(c)}else if(e&&1===e.length){var u=t.find(function(t){return e.indexOf(t.id)>-1});n._setActiveObject(u)}}t.a=r;var o=n(6),a=n(57),i=n(8);n.n(i)},function(e,t,n){"use strict";var r=n(1),o=n(19),a={};a.setContainerDims=function(e){r.default.dispatch(o.A,e)},a.zoomAndPan=function(e,t,n){r.default.dispatch(o.N,{zoom:e,translateX:t,translateY:n})},a.zoomIn=function(){r.default.dispatch(o.P)},a.zoomOut=function(){r.default.dispatch(o.R)},a.zoomAuto=function(){r.default.dispatch(o.O)},t.a=a},function(e,t,n){"use strict";var r=window&&window.editor&&window.editor.theme?window.editor.theme:"theme-1",o={};o["theme-1"]={rulerColor:"rgb(22, 25, 30)",rulerCornerSquareColor:"rgb(82, 89, 99)",rulerPositionIndicator:"rgb(67, 185, 211)",fabricObjectBorderColor:"#0070f0",fabricObjectCornerColor:"#ffffff",fabricRotationSolidIcon:"rotate-blue",fabricRotationOutlineIcon:"rotate-blue-outline"},o["theme-2"]={rulerColor:"#f2f2f2",rulerCornerSquareColor:"#f2f2f2",rulerPositionIndicator:"#2d74da",fabricObjectBorderColor:"#dfe2e8",fabricObjectCornerColor:"#2d74da",fabricRotationSolidIcon:"rotate-black",fabricRotationOutlineIcon:"rotate-black-outline"},t.a=o[r]},function(e,t,n){"use strict";function r(e,t){if(null==e)return"Context undefined for error code: ".concat(t);if("number"!=typeof t)return"Error code is not a number";switch(t){case e.NO_ERROR:return"NO_ERROR";case e.INVALID_ENUM:return"INVALID_ENUM";case e.INVALID_VALUE:return"INVALID_VALUE";case e.INVALID_OPERATION:return"INVALID_OPERATION";case e.INVALID_FRAMEBUFFER_OPERATION:return"INVALID_FRAMEBUFFER_OPERATION";case e.OUT_OF_MEMORY:return"OUT_OF_MEMORY";case e.CONTEXT_LOST_WEBGL:return"CONTEXT_LOST_WEBGL";default:return"UNKNOWN_ERROR"}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e){var t=e.naturalWidth||e.width,n=e.naturalHeight||e.height;return t>h||n>h}var u=n(8),l=n(100),s=n.n(l),f=n(15),d=n(7),p=n(94);t.b=c,n.d(t,"a",function(){return b});var h=2048,b=function(){function e(){o(this,e),this.setupGLContext(h,h),this.captureGPUInfo()}return i(e,null,[{key:"isSupported",get:function(){var t=document.createElement("canvas"),n=t.getContext("webgl")||t.getContext("experimental-webgl"),r=!1;return null!=n&&(r=n.getParameter(n.MAX_TEXTURE_SIZE)>=h),e.isSupported=r,r},set:function(t){delete e.isSupported,e.isSupported=t}}]),i(e,[{key:"applyFilters",value:function(t,n,r,o,a,i){var u=e.gl;return u.clear(u.COLOR_BUFFER_BIT|u.DEPTH_BUFFER_BIT),c(n)?this._applyFilterMultiTile(u,t,n,a):this._applyFilter(u,t,n,r,o,a,i),a.getContext("2d").setTransform(1,0,0,1,0,0),a}},{key:"_applyDebugCanvasStyles",value:function(e){var t=document.querySelector(".debugcanvas");t.getContext("2d").scale(1,-1);var n=document.querySelector(".targetcanvas");n.getContext("2d").scale(1,-1),document.querySelector("html").style.overflowY="scroll",Object.assign(t,{height:e.height,width:e.width}),Object.assign(t.style,{position:"absolute",zIndex:999999999999,top:0,left:0,background:"rgba(0,0,0,0.5)",transform:"scale(1)"}),Object.assign(n,{height:e.height,width:e.width}),Object.assign(n.style,{position:"absolute",zIndex:999999999999,top:0,left:0,background:"black",transform:"scale(1)"})}},{key:"_applyFilterMultiTile",value:function(t,n,r,o){var a=this.divideSourceInTiles(o.width,o.height,h),i={originalWidth:r.width||r.originalWidth,originalHeight:r.height||r.originalHeight,sourceWidth:h,sourceHeight:h,context:t,sourceTexture:this.createTexture(t,h,h),targetTexture:this.createTexture(t,h,h),originalTexture:this.createTexture(t,h,h),webgl:!0,squareVertices:this.squareVertices,programCache:e.programCache},c=t.createFramebuffer(),l=u.fabric.util.createCanvasElement();l.width=h,l.height=h;var s=l.getContext("2d"),f=o.getContext("2d");f.translate(0,o.height),f.scale(1,-1);for(var d=0;d<=a.x;d++)for(var p=0;p<=a.y;p++){i.passes=n.length,i.pass=0;var b=0,m=0,g=i.originalWidth,v=i.originalHeight;a.x>0&&(b=Math.round((i.originalWidth-h)*d/a.x),g=h),a.y>0&&(m=Math.round((i.originalHeight-h)*p/a.y),v=h),b<0&&(b=0),m<0&&(m=0),g>i.originalWidth&&(g=i.originalWidth),v>i.originalHeight&&(v=i.originalHeight),s.drawImage(r,b,m,g,v,0,0,g,v),t.bindTexture(t.TEXTURE_2D,i.originalTexture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,l),t.bindFramebuffer(t.FRAMEBUFFER,c),n.forEach(function(e){return e.applyTo(i)}),this.copyGLTileTo2D(t.canvas,f,a,d,p),s.clearRect(0,0,h,h)}t.bindTexture(t.TEXTURE_2D,null),t.deleteTexture(i.sourceTexture),t.deleteTexture(i.targetTexture),t.deleteTexture(i.originalTexture),t.deleteFramebuffer(c)}},{key:"divideSourceInTiles",value:function(e,t,n){var r=Math.floor(.88*n);return{x:e>n?Math.floor(e/r):0,y:t>n?Math.floor(t/r):0}}},{key:"_applyFilter",value:function(t,n,r,o,a,i,c){var u;null!=c&&(u=this.getCachedTexture(c,r));var l={originalWidth:r.naturalWidth||r.width||r.originalWidth,originalHeight:r.naturalHeight||r.height||r.originalHeight,sourceWidth:o,sourceHeight:a,context:t,sourceTexture:this.createTexture(t,o,a,!u&&r),targetTexture:this.createTexture(t,o,a),originalTexture:u||this.createTexture(t,o,a,!u&&r),passes:n.length,webgl:!0,squareVertices:this.squareVertices,programCache:e.programCache,pass:0},s=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,s),n.forEach(function(e){return e.applyTo(l)}),this.copyGLTo2D(t,i),t.bindTexture(t.TEXTURE_2D,null),t.deleteTexture(l.sourceTexture),t.deleteTexture(l.targetTexture),t.deleteFramebuffer(s)}},{key:"applyFiltersDebug",value:function(t,n,o,a,i,c){var u=e.gl,l=this.applyFilters(t,n,o,a,i,c),s=u.getError();if(s!==u.NO_ERROR){var f=r(u,s),d=new Error("WebGL Error ".concat(f));throw d.glErrorCode=s,d}return l}},{key:"setupGLContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h;this.dispose(),this.createWebGLCanvas(e,t),this.bindGLContextEvents(),this.squareVertices=new Float32Array([0,0,0,1,1,0,1,1]),f.b.isEnabled("forceGLdrawimage")||Object(p.d)()||(this.imageBuffer=new ArrayBuffer(h*h*4),this.copyGLTo2D=this.copyGLTo2DPutImageData)}},{key:"createWebGLCanvas",value:function(t,n){var r=u.fabric.util.createCanvasElement();r.width=t,r.height=n;var o={premultipliedAlpha:!1},a=r.getContext("webgl",o);null==a&&(a=r.getContext("experimental-webgl",o)),null!=a&&(a.clearColor(0,0,0,0),e.canvas=r,e.gl=a)}},{key:"bindGLContextEvents",value:function(){s()(this.onGLContextLost)||(this.onGLContextLost=this._onGLContextLost.bind(this),this.onGLContextRestored=this._onGLContextRestored.bind(this)),e.canvas&&(e.canvas.addEventListener("webglcontextlost",this.onGLContextLost),e.canvas.addEventListener("webglcontextrestored",this.onGLContextRestored))}},{key:"dispose",value:function(){e.canvas&&(e.canvas.removeEventListener("webglcontextlost",this.onGLContextLost),e.canvas.removeEventListener("webglcontextrestored",this.onGLContextRestored),e.canvas=null,e.gl=null),this.clearWebGLCaches()}},{key:"clearWebGLCaches",value:function(){e.programCache={},e.textureCache={}}},{key:"_onGLContextLost",value:function(t){t.preventDefault(),e.isSupported=!1}},{key:"_onGLContextRestored",value:function(){e.isSupported=!0}},{key:"createTexture",value:function(e,t,n,r){var o=e.createTexture();return e.bindTexture(e.TEXTURE_2D,o),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),o}},{key:"getCachedTexture",value:function(t,n){var r=e.gl;if(e.textureCache[t])return e.textureCache[t];var o=n.width,a=n.height,i=this.createTexture(r,o,a,n);return e.textureCache[t]=i,i}},{key:"copyGLTo2D",value:function(e,t){var n=t.getContext("2d");n.translate(0,t.height),n.scale(1,-1);var r=e.canvas.height-t.height,o=t.width,a=t.height;r<0&&(r=0),o>e.canvas.width&&(o=e.canvas.width),a>e.canvas.height&&(a=e.canvas.height),n.drawImage(e.canvas,0,r,o,a,0,0,t.width,t.height)}},{key:"copyGLTo2DPutImageData",value:function(e,t){var n=t.getContext("2d"),r=t.width,o=t.height,a=r*o*4,i=new Uint8Array(this.imageBuffer,0,a),c=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,r,o,e.RGBA,e.UNSIGNED_BYTE,i);var u=new ImageData(c,r);n.putImageData(u,0,0,0,0,r,o)}},{key:"copyGLTileTo2D",value:function(e,t,n,r,o){var a=n.x+1,i=n.y+1,c=t.canvas.width,u=t.canvas.height,l=c/a,s=u/i,f=n.x>0?r/n.x*(h-l):0,d=n.y>0?(n.y-o)/n.y*(h-s):h-s,p=l,b=s,m=r/a*c,g=(n.y-o)/i*u,v=l,y=s;f<0&&(f=0),d<0&&(d=0),p>e.width&&(p=e.width),b>e.height&&(b=e.height),t.drawImage(e,f,d,p,b,m,g,v,y)}},{key:"evictCachesForKey",value:function(t){null!=e.textureCache[t]&&(e.gl.deleteTexture(e.textureCache[t]),delete e.textureCache[t])}},{key:"captureGPUInfo",value:function(){if(e.gpuInfo)return e.gpuInfo;var t=e.gl,n=t&&t.getExtension?t.getExtension("WEBGL_debug_renderer_info"):null,r={renderer:"",vendor:""};if(null!=n){var o=t.getParameter(n.UNMASKED_RENDERER_WEBGL),a=t.getParameter(n.UNMASKED_VENDOR_WEBGL);o&&(r.renderer=o.toLowerCase()),a&&(r.vendor=a.toLowerCase())}return e.gpuInfo=r,d.b.track("GpuInfo",r),r}}]),e}()},function(e,t,n){"use strict";function r(e,t){var n=o.fabric.util.createCanvasElement();n.width=e.width||e.naturalWidth,n.height=e.height||e.naturalHeight;var r=n.getContext("2d");return r.drawImage(e,0,0),r.globalCompositeOperation="destination-out",r.drawImage(t,0,0,e.width,e.height),r.globalCompositeOperation="source-over",n}t.a=r;var o=n(8);n.n(o)},function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"f",function(){return o}),n.d(t,"j",function(){return a}),n.d(t,"a",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return d});var r="SET_SEARCH_RESULT",o="SET_SEARCH_QUERY",a="SET_SUGGEST_QUERY",i="SEARCH_ERROR",c="SEARCH_PENDING",u="SET_ACTIVE_SEARCH_RESULT",l="SET_SEARCH_QUERY_INPUT_VALUE",s="SET_SEARCH_QUERY_IMAGE_TYPE",f="SET_ADVANCED_QUERY_VALUE",d="SET_ADVANCE_SEARCH_PREVIOUS_STATE"},,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return O});var b=n(0),m=n.n(b),g=n(59),v=n.n(g),y=document.body,O=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"captureChildren",(e=r).captureChildren.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"captureChildren",value:function(e){this.childrenWrapper=e}},{key:"removeFromDom",value:function(){var e=this.props.into,t=document.getElementById(e);t&&this.childrenWrapper&&t.removeChild(this.childrenWrapper)}},{key:"render",value:function(){var e,t=this.props,n=t.into,r=t.children;if(r){var o=document.getElementById(n)||y;e=v.a.createPortal(m.a.createElement("div",{ref:this.captureChildren},r),o)}else e=null;return e}}]),t}(b.PureComponent)},function(e,t,n){"use strict";function r(e){return e?new Promise(function(t,n){var r=new Image;r.onload=function(){t({width:r.naturalWidth,height:r.naturalHeight})},r.onerror=function(e){return n(e)},r.src=e}):Promise.resolve({})}t.a=r},function(e,t,n){"use strict";function r(e){l[u][e]=Date.now()}function o(e){delete l[u][e]}t.b=r,t.a=o;var a=n(7),i=n(458),c=n.n(i),u=Symbol("mostRecentSymbol"),l=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},u,{});"undefined"!=typeof window&&window.addEventListener("unload",function(){c()(l[u],function(e,t){"number"==typeof e&&(l["Time Since: ".concat(t)]=Date.now()-e)}),delete l[u],a.b.track("user leaving or refreshing",l)})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return v});var h=n(0),b=n.n(h),m=n(4),g=n.n(m),v=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.style,r=e.children;return b.a.createElement("div",{className:g()("panel-top",t),style:n},r)}}]),t}(h.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(v,"displayName","PanelTop")},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return w});var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(4),O=n.n(y),S=n(7),w=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"onClickHandler",(e=r).onClickHandler.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"onClickHandler",value:function(){var e=this.props,t=e.onClick,n=e.context,r=void 0===n?"":n;t&&t(),S.b.track("panel thumbnail",{source:r})}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.height,r=e.src,o=e.alt,a=e.draggable,i=e.crossOrigin,c=e.onClick,u=e.dataTrack,l=e.withCheckerboard,s=200/t,f=Math.floor(t*s),d=Math.floor(n*s);return d>300&&(s=300/n,f=Math.floor(t*s),d=Math.floor(n*s)),m.a.createElement("div",{className:"active-image-container",style:{width:"".concat(f,"px"),height:"".concat(d,"px")}},m.a.createElement("img",{className:O()({clickable:c,"transparent-checkerboard":l}),crossOrigin:i,src:r,width:f,alt:o,draggable:a,onClick:this.onClickHandler,"data-track":u}))}}]),t}(b.PureComponent);h(w,"displayName","PanelOverlayImage"),h(w,"propTypes",{width:v.a.number.isRequired,height:v.a.number.isRequired,src:v.a.string.isRequired,alt:v.a.string.isRequired,draggable:v.a.bool,crossOrigin:v.a.string,onClick:v.a.func,context:v.a.string,dataTrack:v.a.string,withCheckerboard:v.a.bool}),h(w,"defaultProps",{draggable:!1,withCheckerboard:!0})},function(e,t,n){"use strict";function r(){o.b.setThumbnail(),a.a.takeSnapshot()}t.a=r;var o=n(57),a=n(39)},,,,,,,function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var l=n(0),s=n.n(l),f=n(4),d=n.n(f),p=n(552),h=n(24),b=(n.n(h),Object(h.makeStyles)(function(){return{iconSize:function(e){var t=e.size;return{fontSize:t,lineHeight:"".concat(t,"px")}}}})),m=function(e){var t=e.size,n=void 0===t?18:t,o=e.color,i=void 0===o?"primary":o,u=e.className,l=e.icon,f=c(e,["size","color","className","icon"]),h=a(a({},Object(p.c)({color:i})),b({size:n}));return s.a.createElement("span",r({},f,{className:d()("sstk-icons-before icon-".concat(l),h.sstkTextColor,u,h.iconSize)}))};t.a=m},,,,function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){function i(e){r(u,o,a,i,c,"next",e)}function c(e){r(u,o,a,i,c,"throw",e)}var u=e.apply(t,n);i(void 0)})}}function a(e,t){return i.apply(this,arguments)}function i(){return i=o(regeneratorRuntime.mark(function e(t,r){var o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.height,a=r.width,e.abrupt("return",n.e(271).then(n.bind(null,2059)).then(function(e){var n=new e(u),r=document.createElement("canvas");return r.width=a,r.height=o,n.resize(t,r,l)}));case 2:case"end":return e.stop()}},e)})),i.apply(this,arguments)}t.a=a;var c=n(94),u={tile:1024,features:["js","wasm"]};!1===Object(c.d)()&&u.features.push("ww");var l={quality:3,alpha:!0,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0}},function(e,t,n){"use strict";e.exports={step:{license:"Licensing Design...",render:"Rendering Design...",convert:"Converting Design...",download:"Downloading Design...",share:"Sharing Design...",publish:"Publishing Design..."}}},,,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return i});var r="SET_MAX_PAGES",o="IS_MOBILE_SIZE",a="SET_FEATURE_ENABLED",i="SET_PANEL_ENABLED"},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p});var i=n(6),c=n(87),u=n(7),l=n(9),s=n(1),f=n(110),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.I,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=o({shouldSave:!0},t),r=Object(i.a)(),a=r.getActiveObject();p(a,n),u.b.track("Changed background image",{imageId:a.imageId,source:e,type:a.type})},p=function(e,t){var n=Object(i.a)();n.stopRendering=!0;var r=n.getBackgroundImage();r&&n.remove(r);var o=n.getArtboard(),a=Object(c.b)(e,o);e.scaleX=a,e.scaleY=a,e.top=o.top,e.left=o.left,e.angle=0,e.setCoords(),e.sendToBack(),n.stopRendering=!1,s.default.dispatch(f.k,{id:e.imageId}),t.shouldSave&&e.canvas.fire("save")}},,,,,,function(e,t,n){"use strict";function r(e,t){var n=t.width,r=t.height,o=Object(B.a)();o&&(F.width=1,F.height=1,z.width=1,z.height=1),F.width!==t.width||F.height!==t.height||o?(F.width=t.width,F.height=t.height,z.width=t.width,z.height=t.height):(U.globalAlpha=1,U.clearRect(0,0,F.width,F.height),H.globalAlpha=1,H.clearRect(0,0,z.width,z.height)),U.putImageData(t,0,0);for(var a=-W;a<=W;a++){var i=(Math.random()-.5)/4,c=a/W,u=e*c*n+i;H.globalAlpha=1-Math.abs(c),H.drawImage(F,u,i),U.drawImage(z,0,0),H.globalAlpha=1,H.clearRect(0,0,z.width,z.height)}for(var l=-W;l<=W;l++){var s=(Math.random()-.5)/4,f=l/W,d=e*f*r+s;H.globalAlpha=1-Math.abs(f),H.drawImage(F,s,d),U.drawImage(z,0,0),H.globalAlpha=1,H.clearRect(0,0,z.width,z.height)}var p=U.getImageData(0,0,F.width,F.height);return U.globalAlpha=1,U.clearRect(0,0,F.width,F.height),p}var o=n(76),a=n(67),i=[new a.a({matrix:[.9158218291630716,0,0,0,0,.9098360655737704,0,0,0,0,.9596336773932402,0,0,0,0,1],constants:[-.017579810181190647,.09016393442622953,.12760574782432707,0]})],c=new o.a({subFilters:i,name:"argon"}),u=n(150),l=[new a.a({matrix:[1.4342899999999998,0,0,0,0,1.2154999999999998,0,0,0,0,.99671,0,0,0,0,1],constants:[-.13193666666666665,-.11816666666666667,-.10439666666666667,0]}),new u.a({gamma:[1.4285,1.4285,1.4285]}),new a.a({matrix:[1.1383928571428572,0,0,0,0,1,0,0,0,0,.8745098039215686,0,0,0,0,1],constants:[-.13839285714285715,0,.12549019607843137,0]})],s=new o.a({subFilters:l,name:"tungsten"}),f=[new a.a({matrix:[1.383041088,-.1996247314285714,-.020102070857142856,0,-.05946862628571428,1.2428849828571429,-.020102070857142856,0,-.05946862628571428,-.1996247314285714,1.4224076434285713,0,0,0,0,1],constants:[-.15714285714285708,-.15714285714285708,-.15714285714285708,0]}),new u.a({gamma:[1.25,1.25,1.25]})],d=new o.a({subFilters:f,name:"zinc"}),p=[new a.a({matrix:[.28151443200000004,.9449897600000001,.095159808,0,.28151443200000004,.9449897600000001,.095159808,0,.28151443200000004,.9449897600000001,.095159808,0,0,0,0,1],constants:[-.272,-.272,-.272,0]}),new u.a({gamma:[1.66667,1.66667,1.66667]})],h=new o.a({subFilters:p,name:"carbon"}),b=[new a.a({matrix:[1.472631936,.24992447999999995,.025167220363636358,0,.06204418909090908,1.373419490909091,.02097268363636363,0,.049635351272727266,.16661631999999998,.9488974196363638,0,0,0,0,1],constants:[-.2831515151515151,-.24606060606060604,-.20896969696969697,0]}),new u.a({gamma:[1.25,1.25,1.25]}),new a.a({matrix:[.9764705882352941,0,0,0,0,.9764705882352941,0,0,0,0,1.4228571428571428,0,0,0,0,1],constants:[.00392156862745098,.00392156862745098,.005714285714285714,0]}),new u.a({gamma:[1,1,1.11111]}),new a.a({matrix:[1,0,0,0,0,1,0,0,0,0,.6078431372549019,0,0,0,0,1],constants:[0,0,.17647058823529413,0]})],m=new o.a({subFilters:b,name:"magnesium"}),g=[new a.a({matrix:[.7614093144,.31780949199999997,.03200319359999999,0,.09660827999999999,1.0046353999999997,.032656319999999996,0,.0985404456,.330781308,.7272562464,0,0,0,0,1],constants:[-.08329999999999996,-.08499999999999996,-.08669999999999996,0]}),new u.a({gamma:[1.25,1.25,1.25]}),new a.a({matrix:[1.0869565217391304,0,0,0,0,.9803921568627451,0,0,0,0,.9803921568627451,0,0,0,0,1],constants:[0,0,0,0]}),new u.a({gamma:[1.25,1,1]}),new a.a({matrix:[1,0,0,0,0,1.0408163265306123,0,0,0,0,1,0,0,0,0,1],constants:[0,-.020408163265306124,0,0]}),new u.a({gamma:[1,1.11111,1]}),new a.a({matrix:[1,0,0,0,0,1,0,0,0,0,1.0408163265306123,0,0,0,0,1],constants:[0,0,0,0]}),new u.a({gamma:[1,1,1.11111]}),new a.a({matrix:[1,0,0,0,0,1,0,0,0,0,.8745098039215686,0,0,0,0,1],constants:[0,0,.09803921568627451,0]})],v=new o.a({subFilters:g,name:"palladium"}),y=[new a.a({matrix:[1.6775295925476386,-.3217212672559767,-.032397106632769686,0,-.08945201109159186,1.3548731146971429,-.030237299523918376,0,-.08945201109159186,-.30027318277224496,1.6249089979454694,0,0,0,0,1],constants:[-.1946026410564226,-.1149624649859944,-.1149624649859944,0]})],O=new o.a({subFilters:y,name:"nickel"}),S=[new a.a({matrix:[1.349206349206349,0,0,0,0,1.349206349206349,0,0,0,0,1.349206349206349,0,0,0,0,1],constants:[-.34920634920634924,-.34920634920634924,-.34920634920634924,0]}),new a.a({matrix:[.7843137254901961,0,0,0,0,.7843137254901961,0,0,0,0,.7843137254901961,0,0,0,0,1],constants:[.21568627450980393,.21568627450980393,.21568627450980393,0]}),new a.a({matrix:[1.3350785340314135,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],constants:[-.2094240837696335,0,0,0]}),new u.a({gamma:[1.111111,1,1]}),new a.a({matrix:[1,0,0,0,0,1.1486486486486487,0,0,0,0,1,0,0,0,0,1],constants:[0,-.13513513513513514,0,0]}),new u.a({gamma:[1,1.4285,1]}),new a.a({matrix:[1,0,0,0,0,1,0,0,0,0,1.0323886639676114,0,0,0,0,1],constants:[0,0,-.032388663967611336,0]}),new u.a({gamma:[1,1,1.25]})],w=new o.a({subFilters:S,name:"titanium"}),j=[new a.a({matrix:[1.430078205392056,0,0,0,0,.9646017699115045,0,0,0,0,.9646017699115045,0,0,0,0,1],constants:[-.1451944844618234,.03539823008849559,.03539823008849559,0]}),new u.a({gamma:[1.25,1,1]}),new a.a({matrix:[1,0,0,0,0,1.356382978723404,0,0,0,0,1.2814070351758793,0,0,0,0,1],constants:[0,-.17553191489361702,-.16582914572864324,0]})],T=new o.a({subFilters:j,name:"copper"}),E=[new a.a({matrix:[1.1643835616438356,0,0,0,0,1.1643835616438356,0,0,0,0,1.1643835616438356,0,0,0,0,1],constants:[-.1643835616438356,-.1643835616438356,-.1643835616438356,0]}),new a.a({matrix:[.7529411764705882,0,0,0,0,.7529411764705882,0,0,0,0,.7529411764705882,0,0,0,0,1],constants:[.23137254901960785,.23137254901960785,.23137254901960785,0]}),new a.a({matrix:[1.1233480176211454,0,0,0,0,1.1486486486486487,0,0,0,0,1.1911764705882353,0,0,0,0,1],constants:[-.09251101321585904,-.14864864864864866,-.19152249134948096,0]})],C=new o.a({subFilters:E,name:"xenon"}),k=[new a.a({matrix:[.393,.769,.189,0,.349,.686,.168,0,.272,.534,.131,0,0,0,0,1],constants:[0,0,0,0]})],x=new o.a({subFilters:k,name:"sepia"}),P=[new a.a({matrix:[1.5,1.5,1.5,0,1.5,1.5,1.5,0,1.5,1.5,1.5,0,0,0,0,1],constants:[-1,-1,-1,0]})],_=new o.a({subFilters:P,name:"blackandwhite"}),I=[new a.a({matrix:[1.91252,-.85453,-.09155,0,-.30878,1.76589,-.10601,0,-.2311,-.75018,1.84759,0,0,0,0,1],constants:[.04624,-.27589,.12137,0]})],N=new o.a({subFilters:I,name:"technicolor"}),M=n(8),A=n(95),R=M.fabric.util.createClass(A.a,{type:"BrightnessFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uBrightness;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      color.rgb += uBrightness;\n      gl_FragColor = color;\n    }",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness)for(var t=e.imageData,n=t.data,r=Math.floor(255*this.brightness),o=0;o<n.length;o+=4)n[o]+=r,n[o+1]+=r,n[o+2]+=r},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){var n=this.brightness;e.uniform1f(t.uBrightness,n)},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{brightness:this.brightness})}});R.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.BrightnessFilter=R;var D=M.fabric.util.createClass(A.a,{type:"ContrastFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uContrast;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\n      color.rgb = contrastF * (color.rgb - 0.5) + 0.5;\n      gl_FragColor = color;\n    }",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast)for(var t=e.imageData,n=t.data,r=Math.floor(255*this.contrast),o=259*(r+255)/(255*(259-r)),a=0,i=n.length;a<i;a+=4)n[a]=o*(n[a]-128)+128,n[a+1]=o*(n[a+1]-128)+128,n[a+2]=o*(n[a+2]-128)+128},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){var n=this.contrast;e.uniform1f(t.uContrast,n)},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{contrast:this.contrast})}});D.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.ContrastFilter=D;var L=M.fabric.util.createClass(A.a,{type:"IntensityFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform sampler2D uOrigTexture;\n    uniform float uIntensity;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      vec4 origColor = texture2D(uOrigTexture, vTexCoord);\n      gl_FragColor = origColor * (1. - uIntensity) + color * uIntensity;\n    }",intensity:1,mainParameter:"intensity",applyTo2d:function(e){if(1!==this.intensity)for(var t=e.imageData,n=e.originalImageData,r=t.data,o=n.data,a=this.intensity,i=1-a,c=0,u=r.length;c<u;c+=4)r[c]=r[c]*a+o[c]*i,r[c+1]=r[c+1]*a+o[c+1]*i,r[c+2]=r[c+2]*a+o[c+2]*i},applyToWebGL:function(e){var t=e.context;this.bindAdditionalTexture(t,e.originalTexture,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},setOptions:function(e){Object.assign(this,e)},getUniformLocations:function(e,t){return{uIntensity:e.getUniformLocation(t,"uIntensity"),uOrigTexture:e.getUniformLocation(t,"uOrigTexture")}},sendUniformData:function(e,t){e.uniform1f(t.uIntensity,this.intensity),e.uniform1i(t.uOrigTexture,1)},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{intensity:this.intensity})}});L.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.IntensityFilter=L;var G=M.fabric.util.createClass(A.a,{type:"SaturationFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uSaturation;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float rgMax = max(color.r, color.g);\n      float rgbMax = max(rgMax, color.b);\n      color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\n      color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\n      color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\n      gl_FragColor = color;\n    }",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation)for(var t=e.imageData,n=t.data,r=-this.saturation,o=0;o<n.length;o+=4){var a=Math.max(n[o],n[o+1],n[o+2]);n[o]+=a!==n[o]?(a-n[o])*r:0,n[o+1]+=a!==n[o+1]?(a-n[o+1])*r:0,n[o+2]+=a!==n[o+2]?(a-n[o+2])*r:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{saturation:this.saturation})}});G.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.SaturationFilter=G;var B=n(94),F=document.createElement("canvas"),z=document.createElement("canvas"),U=F.getContext("2d"),H=z.getContext("2d"),W=15,V=M.fabric.util.createClass(A.a,{type:"BlurFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec2 uDelta;\n    varying vec2 vTexCoord;\n    const float nSamples = 15.0;\n    vec3 v3offset = vec3(12.9898, 78.233, 151.7182);\n    float random(vec3 scale) {\n      /* use the fragment position for a different seed per-pixel */\n      return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n    }\n    void main() {\n      vec4 color = vec4(0.0);\n      float total = 0.0;\n      float offset = random(v3offset);\n      for (float t = -nSamples; t <= nSamples; t++) {\n          float percent = (t + offset - 0.5) / nSamples;\n          float weight = 1.0 - abs(percent);\n          color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\n          total += weight;\n      }\n      gl_FragColor = color / total;\n    }",blur:0,padding:4,mainParameter:"blur",applyTo:function(e){this.blur&&(e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this.tileScaling=Math.min(e.originalWidth,e.originalHeight)/e.sourceWidth,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e))},applyTo2d:function(e){e.imageData=r(.06*this.blur*.3,e.imageData)},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e=1;1!==this.tileScaling?e=this.tileScaling:this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio);var t=e*this.blur*.06,n=[0,0];return this.horizontal?n[0]=t:n[1]=t,n},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{blur:this.blur})}});V.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.BlurFilter=V;var K=(n(465),M.fabric.util.createClass(A.a,{type:"ColorifyFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform vec4 uColor;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      float average = ( color.r + color.g + color.b) / 3.0;\n      gl_FragColor.rgb  = average * uColor.rgb;\n      gl_FragColor.a = color.a;\n    }",color:0,mainParameter:"color",findColor:function(e){var t="hsl(".concat(Math.round(360*e),", 100%, 50%)");return M.fabric.Color.sourceFromHsl(t)},applyTo2d:function(e){if(0!==this.color)for(var t,n=e.imageData,r=n.data,o=this.findColor(this.color),a=0;a<r.length;a+=4)t=(r[a]+r[a+1]+r[a+2])/765,r[a]=t*o[0],r[a+1]=t*o[1],r[a+2]=t*o[2]},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,t){var n=this.findColor(this.color);n[0]/=255,n[1]/=255,n[2]/=255,e.uniform4fv(t.uColor,n)},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{color:this.color})}}));K.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.ColorifyFilter=K;var X=M.fabric.util.createClass(A.a,{type:"InvertFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform int uInvert;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      if (uInvert == 1) {\n        gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n      } else {\n        gl_FragColor = color;\n      }\n    }",invert:0,mainParameter:"invert",applyTo2d:function(e){if(0!==this.invert)for(var t=e.imageData,n=t.data,r=0,o=n.length;r<o;r+=4)n[r]=255-n[r],n[r+1]=255-n[r+1],n[r+2]=255-n[r+2]},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){var n=this.invert||0;e.uniform1i(t.uInvert,n)},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{invert:this.invert})}});X.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.InvertFilter=X;var Y=M.fabric.util.createClass(a.a,{type:"HueFilter",rotation:0,lastRotation:0,mainParameter:"rotation",calculateMatrix:function(){if(this.rotation===this.lastRotation)return this.matrix;this.lastRotation=this.rotation;var e=this.rotation*Math.PI*2,t=Math.cos(e),n=Math.sin(e),r=Math.sqrt(1/3)*n,o=1-t;this.matrix=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],this.matrix[0]=t+o/3,this.matrix[1]=1/3*o-r,this.matrix[2]=1/3*o+r,this.matrix[4]=1/3*o+r,this.matrix[5]=t+1/3*o,this.matrix[6]=1/3*o-r,this.matrix[8]=1/3*o-r,this.matrix[9]=1/3*o+r,this.matrix[10]=t+1/3*o},applyTo:function(e){this.calculateMatrix(),M.fabric.Image.filters.EnhancedFilter.prototype.applyTo.call(this,e)},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{rotation:this.rotation})}});Y.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.HueFilter=Y;var q=M.fabric.util.createClass(A.a,{type:"TemperatureFilter",fragmentSource:"precision highp float;\n    uniform sampler2D uTexture;\n    uniform float uTemperature;\n    varying vec2 vTexCoord;\n    void main() {\n      vec4 color = texture2D(uTexture, vTexCoord);\n      color.r -= uTemperature;\n      color.b += uTemperature;\n      gl_FragColor = color;\n    }",temperature:0,mainParameter:"temperature",applyTo2d:function(e){if(0!==this.temperature)for(var t=e.imageData,n=t.data,r=Math.floor(255*this.temperature),o=0,a=n.length;o<a;o+=4)n[o]-=r,n[o+2]+=r},getUniformLocations:function(e,t){return{uTemperature:e.getUniformLocation(t,"uTemperature")}},sendUniformData:function(e,t){e.uniform1f(t.uTemperature,this.temperature)},toObject:function(){return M.fabric.util.object.extend(this.callSuper("toObject"),{temperature:this.temperature})}});q.fromObject=M.fabric.Image.filters.EnhancedFilter.fromObject,M.fabric.Image.filters||(M.fabric.Image.filters={}),M.fabric.Image.filters.TemperatureFilter=q;var Z={nofilter:null,argon:c,tungsten:s,zinc:d,carbon:h,magnesium:m,palladium:v,nickel:O,titanium:w,copper:T,xenon:C,sepia:x,blackandwhite:_,technicolor:N};t.a=Z},function(e,t,n){"use strict";function r(e,t,n){Object(a.r)(e)&&void 0!==t&&(e.preventDefault(),o.e(e,t,n))}t.a=r;var o=n(176),a=n(18)},,,,,function(e,t,n){"use strict";function r(e){var t=e.name,n=e.matcher;l.push({name:t,matcher:n})}function o(e,t){var n={name:e,handler:t};return s.push(n),function(){c()(s,n)}}function a(e){l.forEach(function(t){var n=t.matcher;if(n(e)){var r=s.filter(function(e){return e.name===t.name});r.length&&r.forEach(function(e){return e.handler(t.name)})}u.a&&n.describe&&console.log(n.describe(e))})}t.b=r,t.c=o,t.a=a;var i=n(1339),c=n.n(i),u=n(106),l=[],s=[]},function(e,t,n){"use strict";function r(e){return Object(o.a)(a.concat([e]))}t.b=r;var o=n(33),a=Object(o.a)(["FeatureFlag"]);t.a={featureFlags:a,flag:r}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"h",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return l}),n.d(t,"l",function(){return s}),n.d(t,"k",function(){return f}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"f",function(){return h});var r="ADD_LIGHTBOX",o="ADD_IMAGE_TO_LIGHTBOX",a="DELETE_IMAGE_FROM_LIGHTBOX",i="REMOVE_LIGHTBOX",c="RENAME_LIGHTBOX",u="GET_LIGHTBOXES",l="GET_LIGHTBOX",s="SET_LIGHTBOXES",f="SET_LIGHTBOX",d="SET_ACTIVE_LIGHTBOX_ID",p="SET_ACTIVE_IMAGE_INFO",h="LIGHTBOX_BACKEND_ERROR"},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i});var r="MARK_ONBOARDING_TOUR_INITIALIZED",o="MARK_ONBOARDING_TOUR_SEEN",a="MARK_ONBOARDING_TOUR_START",i="SET_ACTIVE_TOUR_STEP"},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){if(null==e)return{};var n,r,o=a(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function a(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var i=n(0),c=n.n(i),u=n(4),l=n.n(u),s=function(e){var t=e.children,n=e.blockLevel,a=e.label,i=e.className,u=(e.primary,o(e,["children","blockLevel","label","className","primary"]));return c.a.createElement("button",r({className:l()(i,{blockLevel:n})},u),a||t)};t.a=s},,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){"@babel/helpers - typeof";return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),e}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=E();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?T(e):t}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=nt.a.delay(400);return e.forEach(function(e){var r=e.duration/t,o=function(e){return rt.a.noticeError(e),a},a=function(){return nt.a.all([nt.a.resolve(e.action(r)),nt.a.delay(r)])};n=n.then(a,o)}),n}function x(){var e={},t={apply:function(){return it.controlState("bigHand",e),t},click:function(){return Object(_e.a)(800).then(function(){t.neutral().apply()}),t.press()},press:function(){return e.cursorState="pointer",t},descriptionClass:function(n){return e.descriptionClass=n,t},description:function(n){return e.description=n,t},neutral:function(){return Object.assign(e,{cursorState:"open",draggingClass:"",dragging:null}),t},nudge:function(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.locX&&e.locY||(n=n||it.getReactInstance("bigHand"),e.locX=n.state.locX,e.locY=n.state.locY),e.locX+=r.x||0,e.locY+=r.y||0,t},drag:function(n,r){return Object.assign(e,{cursorState:"closed",description:ct("tutorialstart.drag"),draggingClass:r,dragging:n}),t},opacity:function(n){return Object.assign(e,{opacity:n}),t},transition:function(n){return Object.assign(e,{transition:dt.getTransitionOf(n)}),t},drop:function(){return Object.assign(e,{description:ct("tutorialstart.drop"),cursorState:"open"}),t},fadeIn:function(e){return t.transition(0).moveToCanvasCenter().opacity(0),Object(_e.a)(50).then(function(){t.opacity(1).transition(e-50).apply()}),t},fadeOut:function(e){return t.opacity(0).transition(e)},moveToCanvasCenter:function(e){return t.moveToCanvasPercentLocation({x:.5,y:.5},e)},moveToCanvasLocation:function(e,n){return t.moveTo(dt.fromCanvasToScreen(e),n)},moveToCanvasPercentLocation:function(e,n){var r=e.x,o=void 0===r?1:r,a=e.y,i=void 0===a?1:a,c=Object(Ze.a)();return t.moveToCanvasLocation({x:c.getArtboard().width*o,y:c.getArtboard().height*i},n)},moveTo:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.assign(e,{locX:n.x,locY:n.y}),t.transition(r)},moveToComponent:function(e,n){var r=it.getHTMLelement(e);return t.moveToHtml(r,n)},moveToComponentDomNode:function(e,n,r){var o=it.getHTMLelement(e),a=o.querySelector(n);return t.moveToHtml(a,r)},moveToHtml:function(e,n){var r=dt.getCenterOf(e);return t.moveTo(r,n)},moveToFabricObjectCenter:function(e,n){var r=dt.fromCanvasToScreen(e.getCenterPoint());return t.moveTo(r,n)}};return t}function P(e,t){return A(e)||M(e,t)||I(e,t)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(e){if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?N(e,t):void 0}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function A(e){if(Array.isArray(e))return e}function R(e){var t=e.getBoundingClientRect&&e.getBoundingClientRect();return t?{x:t.left+t.width/2,y:t.top+t.height/2}:{x:0,y:0}}function D(e){return"left ".concat(e,"ms ease-in-out, top ").concat(e,"ms ease-in-out, opacity ").concat(e,"ms ease-in-out")}function L(e){var t=Object(Ze.a)(),n=t.calcOffset()._offset,r=t.viewportTransform;return $e.fabric.util.transformPoint({x:e.x-n.left,y:e.y-n.top},$e.fabric.util.invertTransform(r))}function G(e){var t=Object(Ze.a)(),n=t.calcOffset()._offset,r=t.viewportTransform,o=$e.fabric.util.transformPoint(e,r);return o.x+=n.left,o.y+=n.top,o}function B(e,t,n){e.setCoords();var r=Object(Ze.a)(),o=ft.fromCanvasToScreen(e.aCoords.tr);return lt.controlState("bigHand",{description:ut("action.edit"),locX:o.x+50,locY:o.y+100,transition:ft.getTransitionOf(800)}),e.enterEditing(),e.selectAll(),r.requestRenderAll(),F(t,n,function(t){e.set("text",t),e.selectionStart=e.selectionEnd=e.text.length,r.requestRenderAll()})}function F(e,t,n){var r="";return k([""].concat(e.split("")).map(function(o){return{action:function(){r+=o,n(r)},duration:t/e.length}}))}function z(e,t){e[t](),Object(Ze.a)().requestRenderAll()}function U(e,t,n){var r=P(n,2),o=r[0],a=r[1],i=e.getCenterPoint(),c=x();o&&a&&(e.set("originX",o),e.set("originY",a),e.setPositionByOrigin(i,"center","center")),e.animate({scaleX:t,scaleY:t},{onChange:function(){var t=Object(Ze.a)();e.setCoords(),c.moveToCanvasLocation(e.aCoords.tr).apply(),t.requestRenderAll()}})}function H(e,t){return e.set("fontSize",t)}function W(e){ft.cursor().fadeIn(e).apply(),Qe.default.dispatch(et.n,!0);var t=new Xe.Map({texthighlight_section:!1,fill_section:!0,drop_shadow:!1,filters:!1,stroke_section:!1});Qe.default.dispatch(et.j,t)}function V(){return we.a.createElement(Ve.a,{target:"helpmenu",className:"HelpMenuModal"},we.a.createElement(Ue.a,{key:"file-dropdown-1",label:pt("menu.help")}),we.a.createElement(ze.a,{openStartTutorial:!0}))}function K(){return Object(ve.g)({Modal:V,props:{className:"no-transform"}})}function X(){return we.a.createElement(Ve.a,{target:"preset_size",className:"PresetNudgeModal"},we.a.createElement(Ye.a,{open:!0,popper:Object(qe.d)()},we.a.createElement(Ke.a,{className:"hovered",button:Object(Xe.Map)({icon:"crop",id:"crop"})})))}function Y(){return Object(ve.g)({Modal:X,props:{hideOnClick:!0,className:"no-background no-transform"}})}function q(){return we.a.createElement(Ve.a,{target:"search",defaultLeft:0,defaultTop:200,className:"BlankcanvasNudgeModal"},we.a.createElement(Ke.a,{className:"hovered",button:Object(Xe.Map)({icon:"search",id:"search"})}),we.a.createElement(Ke.a,{button:Object(Xe.Map)({icon:"crop",id:"crop"})}),we.a.createElement(Ye.a,{open:!0,popper:Object(qe.c)()},we.a.createElement(Ke.a,{className:"hovered",button:Object(Xe.Map)({icon:"templates",id:"templates"})})))}function Z(e){var t=e.start;return we.a.createElement(Ve.a,{target:"assets"},we.a.createElement(Ye.a,{open:!0,popper:we.a.createElement(qe.a,{message:pt("onboarding-collections.start"),buttonText:pt("onboarding-collections.showme"),onClick:t})},we.a.createElement(Ke.a,{className:"hovered",button:Object(Xe.Map)({icon:"assets",id:"assets"})})))}function J(){return Object(ve.g)({Modal:q,props:{hideOnClick:!0,className:"no-background no-transform"}})}function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:0};return we.a.createElement(Ve.a,{defaultLeft:e.x,defaultTop:e.y,className:"TemplateNudgeModal"},we.a.createElement(Ye.a,{open:!0,popper:Object(qe.f)()}))}function Q(){var e=Object(Ze.a)(),t=e.getObjects("editorTextBox"),n=t.reduce(function(e,t){var n=t;return n.fontSize>e.fontSize&&(e=n),e},{fontSize:0}),r=n.aCoords.br,o={x:r.x,y:n.getCenterPoint().y},a=dt.fromCanvasToScreen(o);return e.setActiveObject(n),e.requestRenderAll(),Object(ve.g)({Modal:function(){return $(a)},props:{hideOnClick:!0,className:"no-background no-transform"}})}function ee(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";yt.b.track("FTUE tour start",{source:t}),e&&vt.default.flushAutoSave(e);var n=ht.b.isEnabled("autoSave");return n&&ht.b.actions.setFlag("autoSave",!1),St.a.enabled=!1,yt.b.track=Oe.a,vt.default.ftueActions.startTour(),function(){n&&ht.b.actions.setFlag("autoSave",!0),St.a.enabled=!0,yt.b.track=nn,wt.b.setFtueSeen(!0),vt.default.ftueActions.endTour(),yt.b.track("FTUE tour end",{source:t})}}function te(e,t,n,r,o){Object(ve.a)();var a=Qe.default.state,i=ee(!1,o);Qe.default.dispatch(et.f,[]);var c=r?function(){return Ot.e.openLeftPanel(r)}:function(){};k(e,t).then(ce).then(function(){return ae(a)}).then(i).then(function(){return Object(_e.a)(tn)}).then(n).then(c,c)}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=ee(!1,Ge._27.COLLECTIONS);k(e,t).then(n)}function re(){te(Wt,.6,Y,"preset_size",Ge._27.IMAGE)}function oe(){te(Lt,.8,Q,null,Ge._27.TEMPLATE)}function ae(e){var t=Object(Ze.a)(),n=t.renderAll,r=Qe.default.state.get("container"),o=Qe.default.state.get("routing");return t.renderAll=Oe.a,Qe.default.state=e.set("container",r).set("routing",o),Object(gt.c)().then(function(){t.renderAll=n,t.requestRenderAll()})}function ie(){te(Qt,.8,J,"search",Ge._27.BLANK)}function ce(){return yt.b.track("FTUE",{source:Ge._27.DEMO_COMPLETE}),Object(ve.g)({Modal:Re})}function ue(e){return function(){yt.b.track("FTUE",{source:Ge._27.SKIP,from:e}),wt.b.setFtueSeen(!0),K()}}function le(){return Object(ve.g)({Modal:Z,props:{className:"no-transform no-background",hideOnClick:!0,start:function(){Object(ve.a)(),ne(Pt)}},skipClear:!0})}function se(){yt.b.track("FTUE",{source:Ge._27.CANCEL}),Object(ve.a)()}function fe(){yt.b.track("FTUE",{source:Ge._27.TEMPLATE}),Object(ve.g)({Modal:Fe,props:{startTour:oe,icon1:"text",title1:"tutorialstart.text",icon2:"shape",title2:"tutorialstart.shape",icon3:"download",title3:"tutorialstart.download",hasSubtitle:!0,onSkipClick:ue(Ge._27.TEMPLATE),className:"ftue-modal no-transform",hideOnClick:!1}})}function de(e){yt.b.track("FTUE",{source:Ge._27.BLANK}),Object(ve.g)({Modal:Fe,props:{icon1:"image-placeholder",title1:"tutorialstart.search",icon2:"text",title2:"tutorialstart.text",icon3:"download",title3:"tutorialstart.download",hasSubtitle:e,startTour:ie,onSkipClick:ue(Ge._27.BLANK),className:"ftue-modal no-transform",hideOnClick:!1}})}function pe(){yt.b.track("FTUE",{source:Ge._27.IMAGE}),Object(ve.g)({Modal:Fe,props:{startTour:re,icon1:"crop",title1:"tutorialstart.resize",icon2:"text",title2:"tutorialstart.text",icon3:"download",title3:"tutorialstart.download",hasSubtitle:!0,onSkipClick:ue(Ge._27.IMAGE),className:"ftue-modal no-transform",hideOnClick:!1}})}function he(){yt.b.track("FTUE",{source:Ge._27.HELP}),Object(ve.g)({Modal:Fe,props:{startTour:oe,icon1:"text",title1:"tutorialstart.text",icon2:"shape",title2:"tutorialstart.shape",icon3:"download",title3:"tutorialstart.download",onSkipClick:se,className:"ftue-modal no-transform",hideOnClick:!1}})}function be(){if(!ht.b.isEnabled("ftue")||ht.b.isEnabled("embed"))return!1;if(Qe.default.evaluate(en.h.isMobile))return!1;if("undefined"==typeof Storage)return!0;if(mt.a.isLoggedIn()){if(Qe.default.evaluate(bt.c.userSeenBefore))return!1;var e=Qe.default.evaluate(bt.c.ftueSeen);return wt.b.setUserSeenBefore(),!e}var t=jt.a.getItem("user_seen_before");return t?!t:![!0,"true","skipped","skip"].includes(jt.a.getItem("ftue_seen"))}function me(){if(!ht.b.isEnabled("backgroundRemove")||!ht.b.isEnabled("ftue"))return!1;if(Qe.default.evaluate(en.h.isMobile))return!1;if("undefined"==typeof Storage)return!0;if(mt.a.isLoggedIn()){var e=Qe.default.evaluate(bt.c.backgroundRemovalSeen);return e||wt.b.setBackgroundRemovalSeen(),!e}return![!0,"true"].includes(jt.a.getItem("backgroundRemovalSeen"))}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.params;t&&(t.id?"image"===t.directive?rn.showStartModalImage():"template"===t.directive&&rn.showStartModalTemplate():rn.showStartModalBlankCanvas())}Object.defineProperty(t,"__esModule",{value:!0});var ve=n(25),ye=n(78),Oe=n.n(ye),Se=n(0),we=n.n(Se),je=n(11),Te=n(4),Ee=n.n(Te),Ce=n(133),ke=n(192),xe=n(555),Pe=n(2),_e=n(120),Ie=n(338),Ne=n.n(Ie),Me=Object(Pe.c)(Ne.a),Ae=function(e){function t(){var e;a(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o)),b(d(e),"state",{animationPhase1:!1,animationPhase2:!1}),e}u(t,e);var n=s(t);return c(t,[{key:"getDims",value:function(){var e=this.props,t=e.containerWidth;return{height:e.containerHeight,width:t,position:"relative"}}},{key:"componentDidMount",value:function(){var e=this;Object(_e.a)(2500).then(function(){return e.setState({animationPhase1:!0}),Object(_e.a)(1e3)}).then(function(){return e.setState({animationPhase2:!0}),Object(_e.a)(1e3)}).then(this.props.resolve)}},{key:"render",value:function(){var e=this.getDims(),t=this.state.animationPhase1,n=this.state.animationPhase2;return we.a.createElement(Ce.a,o({},this.props,{className:Ee()("cmpDownloadPanelPreview","tutorialPreview"),hideHeader:!0,showHeaderCloseBtn:!0,style:e}),we.a.createElement("p",{className:Ee()("title",{goingOut:t,comingBack:n,thateasy:!n})},Me(n?"modal.title":"modal.title-part2")),we.a.createElement(xe.a,{width:.8*e.width,height:.8*e.height-40,downloadPreview:!0,className:Ee()({goingOut:t})}))}}]),t}(Se.PureComponent);b(Ae,"displayName","TutorialPreview");var Re=Object(je.a)(function(e){return{containerWidth:ke.e.windowWidth(e),containerHeight:ke.e.windowHeight(e)}})(Ae),De=n(23),Le=n(128),Ge=n(9),Be=Object(Pe.c)(Ne.a),Fe=function(e){function t(){return g(this,t),n.apply(this,arguments)}O(t,e);var n=w(t);return y(t,[{key:"render",value:function(){var e=this.props,t=e.icon1,n=e.title1,r=e.icon2,o=e.title2,a=e.icon3,i=e.title3,c=e.hasSubtitle,u=e.onSkipClick,l=e.startTour;return we.a.createElement(Ce.a,{className:Ee()("cmpDownloadPanelPreview","tutorialStart"),color:"transparent",hideHeader:!0},we.a.createElement(Le.a,{src:"editor-logo.png",className:"editor-logo"}),we.a.createElement("hr",null),we.a.createElement("h1",{className:"title"},Be("tutorialstart.title")),c&&we.a.createElement("h2",{className:"subtitle"},Be("tutorialstart.subtitle")),we.a.createElement("div",{className:"icons-container"},we.a.createElement("div",{className:"icon-container"},we.a.createElement(De.b,{name:t}),we.a.createElement("p",null,Be(n))),we.a.createElement("div",{className:"icon-container"},we.a.createElement(De.b,{name:r}),we.a.createElement("p",null,Be(o))),we.a.createElement("div",{className:"icon-container"},we.a.createElement(De.b,{name:a}),we.a.createElement("p",null,Be(i)))),we.a.createElement("button",{"data-track":Ge.m,className:"cmpDownloadButton btn btn-lg btn-primary btn-download",onClick:l,title:Be("tutorialstart.showme")},Be("tutorialstart.thirtysec")),we.a.createElement("div",{className:"link","data-track":Ge.n,onClick:u},Be("tutorialstart.skip")))}}]),t}(Se.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fe,"displayName","TutorialStart");var ze=n(826),Ue=n(845),He=n(68),We=n.n(He),Ve=n(228),Ke=n(516),Xe=n(12),Ye=n(186),qe=n(185),Ze=n(6),Je=n(38),$e=n(8),Qe=n(1),et=n(121),tt=n(157),nt=n.n(tt),rt=n(44),ot=n(216),at=n.n(ot),it=Je.a.componentLocator,ct=Object(Pe.c)(at.a),ut=Object(Pe.c)(at.a),lt=Je.a.componentLocator,st={preventDefault:Oe.a,stopPropagation:Oe.a,stopImmediatePropagation:Oe.a},ft={cursor:function(){return x()},getCenterOf:R,mockedEvent:st,getTransitionOf:D,fromScreenToCanvas:L,fromCanvasToScreen:G,moveFabricObjectLayer:z,scaleFabricObject:U,showTypingFabric:B,showTyping:F,setFontSize:H,genericTourStart:W},dt=ft,pt=Object(Pe.c)(Object.assign({},Ne.a,We.a)),ht=n(15),bt=n(49),mt=n(64),gt=n(122),vt=n(65),yt=n(7),Ot=n(16),St=n(39),wt=n(56),jt=n(88),Tt=n(520),Et=n(729),Ct=Object(Pe.c)(at.a),kt=Je.a.componentLocator,xt=[{label:"100-collections",action:function(e){return dt.genericTourStart(e)},duration:500},{label:"200-collections",action:function(e){dt.cursor().moveToComponent("assets",e).apply()},duration:500},{label:"300-collections",action:function(){Tt.a.switchToTab("uploads"),dt.cursor().description(Ct("action.select")).click().apply(),kt.getReactInstance("assets").onClick()},duration:300},{label:"750-collections",action:function(e){dt.cursor().moveToComponent("collections-tab",e).apply()},duration:750},{label:"1000-collections",action:function(){kt.getReactInstance("collections-tab").onTabClick()},duration:750},{label:"1100-collections",action:function(e){dt.cursor().moveToComponent("first-collection",e).apply()},duration:750},{label:"1150-collections",action:function(){var e=kt.getReactInstance("first-collection").props;return e.loadLightbox(e.lightbox)},duration:750},{label:"1300-collections",action:function(){kt.getReactInstance("first-collection").handleOpenLightbox()},duration:750},{label:"1200-collections",action:function(e){dt.cursor().moveToComponent("collection-0-0",e).apply()},duration:750},{label:"1400-collections",action:function(){var e=kt.getReactInstance("collection-0-0");dt.cursor().drag(we.a.createElement(Et.a,e.props),"").apply()},duration:750},{label:"1500-collections",action:function(e){dt.cursor().moveToCanvasCenter(e).apply()},duration:500}],Pt=xt,_t=n(183),It=n(846),Nt=n(558),Mt=n(270),At=Object(Pe.c)(at.a),Rt=Je.a.componentLocator,Dt=[{label:"load template",action:function(){return _t.b.setTemplate("1201561")},duration:600},{label:"fade-in",action:function(e){return dt.genericTourStart(e)},duration:1e3},{label:"send cursor to textbox",action:function(e){var t=Object(Ze.a)(),n=t.getObjects()[2];dt.cursor().moveToFabricObjectCenter(n,e).apply()},duration:1e3},{label:"click and set as active",action:function(){var e=Object(Ze.a)(),t=e.getObjects()[2];dt.cursor().click().description(At("action.edit")).apply(),e.setActiveObject(t)},duration:1e3},{label:"move aside and type",action:function(e){var t=Object(Ze.a)(),n=t.getObjects()[2];dt.showTypingFabric(n,"Need a new look?",e-50)},duration:2500},{label:"exit editing",action:function(){Object(Ze.a)().getActiveObject().exitEditing()},duration:100},{label:"scroll fill color into view",action:function(){Rt.getHTMLelement("fill").scrollIntoView({behavior:"smooth"})},duration:400},{label:"navigate to fill color",action:function(e){dt.cursor().moveToComponent("fill",e).apply()},duration:800},{label:"click to open fill color dropdown",action:function(){dt.cursor().click().apply(),Rt.controlState("fill",{open:!0})},duration:600},{label:"move to chosen color",action:function(e){var t=Rt.getHTMLelement("presetTab"),n=t.querySelector("[style*='".concat("rgb(71, 31, 76)","']"));dt.cursor().moveToHtml(n,e).apply()},duration:800},{label:"choose fill color",action:function(){dt.cursor().click().apply(),Mt.a.setColor("rgb(71, 31, 76)",!0)},duration:600},{label:"close fill popover",action:function(){Rt.controlState("fill",{open:!1})},duration:500},{label:"move to shape button",action:function(e){dt.cursor().moveToComponent("shapes",e).apply()},duration:1200},{label:"click shapes button to open panel",action:function(){dt.cursor().click().apply(),Rt.getReactInstance("shapesPanel")||Rt.getReactInstance("shapes").onClick()},duration:800},{label:"Ensure the panel is on the shapes side",action:function(){Rt.controlState("shapesPanel",{elements:"shapes"})},duration:200},{label:"move to circle shape",action:function(e){dt.cursor().moveToComponentDomNode("shapesPanel",".shape_circle.shapeDefault",e).apply()},duration:800},{label:"initialize drag",action:function(){dt.cursor().drag(we.a.createElement(It.a,{classNames:"shapeDefault",shape:"shape_circle"}),"cmpShapesPanel").apply()},duration:400},{label:"drag to canvas position",action:function(e){dt.cursor().moveToCanvasPercentLocation({x:.8,y:.2},e).apply()},duration:1e3},{label:"exit drag state",action:function(){dt.cursor().neutral().apply();var e=Object(Ze.a)(),t={x:.8*e.getArtboard().width,y:.2*e.getArtboard().height};Nt.a.selectShape("shape_circle",t)},duration:500},{label:"send to back",action:function(){var e=Object(Ze.a)(),t=e.getActiveObject();dt.moveFabricObjectLayer(t,"sendToBack")},duration:300},{label:"move hand to corner for drag",action:function(e){var t=Object(Ze.a)(),n=t.getActiveObject().aCoords.tr,r=dt.fromCanvasToScreen({x:n.x,y:n.y});dt.cursor().moveTo({x:r.x+4,y:r.y-6},e).apply()},duration:500},{label:"initialize resize",action:function(){dt.cursor().description(At("tutorialstart.resize")).click().apply()},duration:150},{label:"resize shape",action:function(){var e=Object(Ze.a)(),t=e.getActiveObject();dt.scaleFabricObject(t,1,["left","bottom"])},duration:1400},{label:"set hand to neutral",action:function(){dt.cursor().neutral().apply()},duration:100},{label:"deactivate shape",action:function(){var e=Object(Ze.a)();e.requestRenderAll(),e.discardActiveObject(),Ot.e.closeLeftPanel()},duration:20},{label:"move to download button",action:function(e){var t=window.document.querySelector("#downloadButtonTourId");dt.cursor().description(At("action.download")).moveToHtml(t,e).apply()},duration:1e3},{label:"click download",action:function(e){dt.cursor().press().fadeOut(e).apply()},duration:1200}],Lt=Dt,Gt=n(522),Bt=n(193),Ft=n(118),zt=Object(Pe.c)(at.a),Ut=Je.a.componentLocator,Ht=[{label:"50-image",action:function(){return Ft.b("387610102",{forBackground:!0,changeDims:!0})},duration:300},{label:"100-image",action:function(e){return dt.genericTourStart(e)},duration:1e3},{label:"200-image",action:function(e){dt.cursor().moveToComponent("preset_size",e).apply()},duration:1e3},{label:"300-image",action:function(){dt.cursor().description(zt("action.select")).click().apply(),Ut.getReactInstance("preset_size").onClick()},duration:300},{label:"750-image",action:function(){Ut.getHTMLelement("facebookimage").scrollIntoView({behavior:"smooth"}),Ut.controlState("pinterest-post",{hovered:!1})},duration:750},{label:"800-image",action:function(e){dt.cursor().moveToComponent("facebookimage",e).apply()},duration:500},{label:"900-image",action:function(){Ut.controlState("facebookimage",{hovered:!0}),dt.cursor().description("Select").click().apply()},duration:300},{label:"1000-image",action:function(){Ut.getReactInstance("facebookimage").applyPreset(dt.mockedEvent)},duration:750},{label:"1100-image",action:function(e){dt.cursor().moveToComponent("text",e).apply()},duration:500},{label:"1200-image",action:function(){dt.cursor().description(zt("action.select")).click().apply(),Ut.getReactInstance("text").onClick()},duration:750},{label:"1300-image",action:function(e){dt.cursor().moveToComponent("add-headline",e).apply()},duration:500},{label:"1400-image",action:function(){dt.cursor().drag(we.a.createElement(Gt.a,{textClassName:"headline",addFunction:function(){},buttonText:zt("text.addheadline")}),"cmpTextPanel").apply()},duration:300},{label:"1500-image",action:function(e){dt.cursor().moveToCanvasCenter(e).apply()},duration:750},{label:"1600-image",action:function(){dt.cursor().neutral().apply();var e=Object(Ze.a)(),t={x:.5*e.getArtboard().width,y:.5*e.getArtboard().height},n={text:zt("text.addheadline"),position:t,pxFontSize:104,textAlign:"center",font:{familyName:"Montserrat"},fontWeight:"bold",charSpacing:140};return Bt.a.create(n)},duration:750},{label:"1700-image",action:function(e){var t=Object(Ze.a)();dt.showTypingFabric(t.getActiveObject(),"LAZY SUNDAZE",e-50)},duration:1500},{label:"1800-image",action:function(){Object(Ze.a)().getActiveObject().exitEditing()},duration:100},{label:"1900-image",action:function(){Ut.getHTMLelement("fill").scrollIntoView({behavior:"smooth"})},duration:400},{label:"2000-image",action:function(e){dt.cursor().moveToComponent("fill",e).apply()},duration:600},{label:"2100-image",action:function(){dt.cursor().description(zt("action.select")).click().apply(),Ut.controlState("fill",{open:!0})},duration:500},{label:"2200-image",action:function(e){var t=Ut.getHTMLelement("presetTab"),n=t.querySelector("[style*='".concat("rgb(255, 255, 255)","']"));dt.cursor().moveToHtml(n,e).apply()},duration:700},{label:"2300-image",action:function(){dt.cursor().description(zt("action.select")).click().apply(),Mt.a.setColor("rgb(255, 255, 255)",!0)},duration:500},{label:"2320-image",action:function(){Ut.controlState("fill",{open:!1})},duration:500},{label:"2360-image",action:function(){var e=Object(Ze.a)();e.discardActiveObject(),e.requestRenderAll(),Object(Ot.b)()},duration:20},{label:"2400-image",action:function(e){var t=window.document.querySelector("#downloadButtonTourId");dt.cursor().description(zt("action.download")).moveToHtml(t,e).apply()},duration:800},{label:"2600-image",action:function(e){dt.cursor().press().fadeOut(e).apply()},duration:1200}],Wt=Ht,Vt={id:"756256837",description:"Pumpkin spice latte. Blue coffee cup with foam, cinnamon sticks, autumn flowers and small yellow pumpkins at white wood background. Fall hot drinks, cafe and bar concept, top view",preview:{height:450,width:450,link:"https://thumb1.shutterstock.com/display_pic_with_logo/156673/756256837/stock-photo-pumpkin-spice-latte-blue-coffee-cup-with-foam-cinnamon-sticks-autumn-flowers-and-small-yellow-756256837.jpg"},vector:!1,contributorID:"156673"},Kt={page:1,perPage:20,totalCount:3087046,images:[{id:"547416751",description:"Coffee cup and beans on old kitchen table. Top view with copyspace for your text",preview:{height:300,width:450,link:"https://thumb11.shutterstock.com/display_pic_with_logo/490804/547416751/stock-photo-coffee-cup-and-beans-on-old-kitchen-table-top-view-with-copyspace-for-your-text-547416751.jpg"},vector:!1,contributorID:"490804"},{id:"261745823",description:"Coffee cup and coffee beans on table",preview:{height:300,width:450,link:"https://thumb11.shutterstock.com/display_pic_with_logo/1006748/261745823/stock-photo-coffee-cup-and-coffee-beans-on-table-261745823.jpg"},vector:!1,contributorID:"1006748"},Vt,{id:"326070713",description:"Cup of coffee, bag and scoop on old rusty background",preview:{height:300,width:450,link:"https://thumb1.shutterstock.com/display_pic_with_logo/509455/326070713/stock-photo-cup-of-coffee-bag-and-scoop-on-old-rusty-background-326070713.jpg"},vector:!1,contributorID:"509455"},{id:"540206506",description:"Quote coffee cup typography. Calligraphy style quote. Shop promotion motivation. Graphic design lifestyle lettering. Sketch hot drink mug inspiration vector. Coffee break",preview:{height:225,width:450,link:"https://thumb7.shutterstock.com/display_pic_with_logo/3574142/540206506/stock-vector-quote-coffee-cup-typography-calligraphy-style-quote-shop-promotion-motivation-graphic-design-540206506.jpg"},vector:!0,contributorID:"3574142"},{id:"111999368",description:"Coffee cup and beans on a white background.",preview:{height:294,width:450,link:"https://thumb9.shutterstock.com/display_pic_with_logo/118042/111999368/stock-photo-coffee-cup-and-beans-on-a-white-background-111999368.jpg"},vector:!1,contributorID:"118042"},{id:"278456510",description:"Close-up of espresso pouring from coffee machine. Professional coffee brewing",preview:{height:299,width:450,link:"https://thumb7.shutterstock.com/display_pic_with_logo/345733/278456510/stock-photo-close-up-of-espresso-pouring-from-coffee-machine-professional-coffee-brewing-278456510.jpg"},vector:!1,contributorID:"345733"},{id:"590000864",description:"Morning coffee doodle concept on wooden background",preview:{height:339,width:450,link:"https://thumb9.shutterstock.com/display_pic_with_logo/1881956/590000864/stock-vector-morning-coffee-doodle-concept-on-wooden-background-590000864.jpg"},vector:!0,contributorID:"1881956"},{id:"524061637",description:"Hot Coffee cup with Coffee beans on the wooden table and the plantations background",preview:{height:300,width:450,link:"https://thumb1.shutterstock.com/display_pic_with_logo/2472376/524061637/stock-photo-hot-coffee-cup-with-coffee-beans-on-the-wooden-table-and-the-plantations-background-524061637.jpg"},vector:!1,contributorID:"2472376"},{id:"429510046",description:"Coffee Shop Bar Counter Cafe Restaurant Relaxation Concept",preview:{height:300,width:450,link:"https://thumb7.shutterstock.com/display_pic_with_logo/2117717/429510046/stock-photo-coffee-shop-bar-counter-cafe-restaurant-relaxation-concept-429510046.jpg"},vector:!1,contributorID:"2117717"},{id:"401425492",description:"Closeup of hands with coffee cups in a cafe",preview:{height:300,width:450,link:"https://thumb9.shutterstock.com/display_pic_with_logo/630361/401425492/stock-photo-closeup-of-hands-with-coffee-cups-in-a-cafe-401425492.jpg"},vector:!1,contributorID:"630361"},{id:"562127497",description:"Two shiny fresh roasted coffee beans with leaves isolated on white background.",preview:{height:365,width:450,link:"https://thumb1.shutterstock.com/display_pic_with_logo/2037362/562127497/stock-photo-two-shiny-fresh-roasted-coffee-beans-with-leaves-isolated-on-white-background-562127497.jpg"},vector:!1,contributorID:"2037362"},{id:"383682988",description:"Coffee cup vector illustration.  Paper ?offee cup icon isolated on background. Plastic coffee cup with hot coffee in flat style. Coffee cup beans. ",preview:{height:450,width:450,link:"https://thumb9.shutterstock.com/display_pic_with_logo/3138983/383682988/stock-vector-coffee-cup-vector-illustration-paper-offee-cup-icon-isolated-on-background-plastic-coffee-cup-383682988.jpg"},vector:!0,contributorID:"3138983"},{id:"114120892",description:"roasted coffee beans, can be used as a background",preview:{height:300,width:450,link:"https://thumb9.shutterstock.com/display_pic_with_logo/1127993/114120892/stock-photo-roasted-coffee-beans-can-be-used-as-a-background-114120892.jpg"},vector:!1,contributorID:"1127993"},{id:"385820884",description:"coffee beans isolated on white background",preview:{height:90,width:450,link:"https://thumb9.shutterstock.com/display_pic_with_logo/548026/385820884/stock-photo-coffee-beans-isolated-on-white-background-385820884.jpg"},vector:!1,contributorID:"548026"},{id:"113907787",description:"Coffee on grunge wooden background",preview:{height:450,width:450,link:"https://thumb11.shutterstock.com/display_pic_with_logo/809509/113907787/stock-photo-coffee-on-grunge-wooden-background-113907787.jpg"},vector:!1,contributorID:"809509"},{id:"236589346",description:"Digital tablet and cup of coffee on old wooden desk. Simple workspace or coffee break in morning/ selective focus",preview:{height:300,width:450,link:"https://thumb7.shutterstock.com/display_pic_with_logo/1014806/236589346/stock-photo-digital-tablet-and-cup-of-coffee-on-old-wooden-desk-simple-workspace-or-coffee-break-in-morning-236589346.jpg"},vector:!1,contributorID:"1014806"},{id:"563553361",description:"Background with assorted coffee, coffee beans, ground and instant, pads and capsules, retro style toned, copy space, top view.",preview:{height:300,width:450,link:"https://thumb1.shutterstock.com/display_pic_with_logo/1301926/563553361/stock-photo-background-with-assorted-coffee-coffee-beans-ground-and-instant-pads-and-capsules-retro-style-563553361.jpg"},vector:!1,contributorID:"1301926"},{id:"385008904",description:"Coffee restaurant brochure vector, coffee shop menu design. Vector cafe template with hand-drawn graphic. Coffee flyer.",preview:{height:319,width:450,link:"https://thumb9.shutterstock.com/display_pic_with_logo/1166783/385008904/stock-vector-coffee-restaurant-brochure-vector-coffee-shop-menu-design-vector-cafe-template-with-hand-drawn-385008904.jpg"},vector:!0,contributorID:"1166783"},{id:"213165142",description:"Vector coffee cup stains",preview:{height:450,width:450,link:"https://thumb7.shutterstock.com/display_pic_with_logo/897070/213165142/stock-vector-vector-coffee-cup-stains-213165142.jpg"},vector:!0,contributorID:"897070"}]},Xt=n(77),Yt=n.n(Xt),qt=n(357),Zt=n(851),Jt=n(260),$t=Object(Pe.c)(at.a),Qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.searchTerm,n=e.searchResultsData,r=void 0===n?{}:n,o=e.searchResultIndex,a=void 0===o?"2-0":o,i=e.resultPreview,c=void 0===i?"":i,u=e.text,l=void 0===u?"":u,s=e.textColor,f=void 0===s?"rgb(255, 38, 2)":s,d=Je.a.componentLocator;return[{label:"75-panel",action:function(){return Ot.e.openLeftPanel("search")},duration:1e3},{label:"50-start",action:dt.genericTourStart,duration:1e3},{label:"200-empty",action:function(e){dt.cursor().moveToComponent("search-textbox",e).nudge({x:-100}).apply()},duration:800},{label:"300-empty",action:function(e){dt.cursor().description($t("tutorialstart.search")).apply(),dt.showTyping(t,e,function(e){d.controlState("search-textbox",{inputVal:e})})},duration:1e3},{label:"400-empty",action:function(){},duration:1e3},{label:"500-empty",action:function(){Object(qt.a)(r)},duration:750},{label:"600-empty",action:function(e){dt.cursor().moveToComponent("search-result-".concat(a),e).apply()},duration:700},{label:"700-empty",action:function(){var e=c.preview;dt.cursor().drag(we.a.createElement(Zt.a,{preview:e}),"cmpSearchResult").apply()},duration:750},{label:"800-empty",action:function(e){dt.cursor().moveToCanvasCenter(e).apply()},duration:500},{label:"900-empty",action:function(){dt.cursor().drop().apply();var e=Object(Ze.a)(),t=dt.fromCanvasToScreen({x:.5*e.getArtboard().width,y:.5*e.getArtboard().height});return Jt.a(Yt()(c,t,{isBackground:!0,scaleY:.8,scaleX:.8}),"searchPanel")},duration:700},{label:"1000-empty",action:function(){},duration:1e3},{label:"1100-empty",action:function(e){dt.cursor().neutral().description($t("tutorialstart.text")).moveToComponent("text",e).apply()},duration:1200},{label:"1200-empty",action:function(){dt.cursor().click().apply(),d.getReactInstance("text").onClick()},duration:400},{label:"1300-empty",action:function(e){dt.cursor().moveToComponent("add-headline",e).apply()},duration:1e3},{label:"1400-empty",action:function(){dt.cursor().drag(we.a.createElement(Gt.a,{textClassName:"headline",addFunction:function(){},buttonText:$t("text.addheadline")}),"cmpTextPanel").apply()},duration:200},{label:"1500-empty",action:function(e){dt.cursor().moveToCanvasCenter(e).apply()},duration:1e3},{label:"1600-empty",action:function(){dt.cursor().neutral().apply();var e=Object(Ze.a)(),t={text:$t("text.addheadline"),position:{x:.5*e.getArtboard().width,y:.5*e.getArtboard().height},pxFontSize:130,textAlign:"center",font:{familyName:"Montserrat"},fontWeight:"bold",charSpacing:120};return Bt.a.create(t)},duration:500},{label:"1800-empty",action:function(){},duration:300},{label:"1700-empty",action:function(e){var t=Object(Ze.a)();return dt.showTypingFabric(t.getActiveObject(),l,e-50)},duration:1500},{label:"1800-empty",action:function(){Object(Ze.a)().getActiveObject().exitEditing()},duration:100},{label:"1900-empty",action:function(){d.getHTMLelement("fill").scrollIntoView({behavior:"smooth"})},duration:400},{label:"2000-empty",action:function(e){dt.cursor().description($t("action.select")).moveToComponent("fill",e).apply()},duration:800},{label:"2100-empty",action:function(){dt.cursor().click().apply(),d.controlState("fill",{open:!0})},duration:500},{label:"2200-empty",action:function(e){var t=d.getHTMLelement("presetTab"),n=t.querySelector("[style*='".concat(f,"']"));dt.cursor().moveToHtml(n,e).apply()},duration:800},{label:"2300-empty",action:function(){dt.cursor().click().apply(),Mt.a.setColor(f,!0)},duration:600},{label:"2320-image",action:function(){d.controlState("fill",{open:!1})},duration:500},{label:"2360-image",action:function(){var e=Object(Ze.a)();e.discardActiveObject(),e.requestRenderAll(),Ot.e.closeLeftPanel()},duration:20},{label:"2400-empty",action:function(e){var t=window.document.querySelector("#downloadButtonTourId");dt.cursor().description($t("action.download")).moveToHtml(t,e).apply()},duration:1e3},{label:"2500-empty",action:function(){dt.cursor().press().apply()},duration:500},{label:"2600-empty",action:function(e){dt.cursor().fadeOut(e).apply()},duration:1200}]}({searchTerm:$t("tutorialstart.coffee"),text:"COFFEE BRAND",textColor:"rgb(255, 255, 255)",searchResultsData:Kt,searchResultIndex:"2-0",resultPreview:Vt}),en=n(22),tn=1100,nn=yt.b.track,rn={showStartModalTemplate:fe,showStartHelpMenu:he,showStartModalBlankCanvas:de,showStartModalImage:pe,showFinalModal:ce,showSkipModal:ue,cancelForNow:se,shouldShowFTUE:be,shouldShowBgRemoval:me,showModalByParams:ge,onTourStart:ee,showCollectionTour:le};t.default=rn},,function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r={cs:"etina",da:"Dansk",de:"Deutsch",en:"English",es:"Espaol",fr:"Franais",el:"",id:"Indonesia",it:"Italiano",hu:"Magyar",nl:"Nederlands",nb:"Norsk",pl:"Polski",pt:"Portugus",ro:"Romn",fi:"Suomi",sv:"Svenska",tr:"Trke",vi:"Ting Vit",ru:"",th:"",ko:"",ja:"",zh:"","zh-Hant":""},o=function(e){return r[e]},a=function(e){var t=window.location,n=t.host,o=t.pathname,a=t.search,i=window.navigator.userLanguage||window.navigator.language,c=i?i.split("-"):["en"],u="zh"===c[0]&&"Hant"===c[1]?"zh-Hant":c[0],l=o.split("/");return l.shift(),-1!==Object.keys(r).indexOf(l[0])&&l.shift(),e!==u&&l.unshift(e),"https://".concat(n,"/").concat(l.join("/")).concat(a)}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return I});var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(23),O=n(512),S=n.n(O),w=n(15),j=n(38),T=n(7),E=n(166),C=n.n(E),k=n(16),x=n(195),P=n(80),_=w.b.isEnabled("disableTooltips"),I=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"refControllerCallback",j.a.refControllerCallback.bind(f(r))),h(f(r),"onClick",C()((e=r).onClick.bind(e),250,{leading:!0,trailing:!1})),r}c(t,e);var n=l(t);return i(t,[{key:"onClick",value:function(){var e=this.props,t=e.onClick,n=e.id,r=e.isActive;t&&t(n),r?k.e.closeLeftPanel():(Object(P.c)()&&Object(P.b)(),Object(x.b)(n).then(function(){return k.e.openLeftPanel(n)})),T.b.track("".concat(r?"closed":"open"," ").concat(n," panel"))}},{key:"render",value:function(){var e=this.props,t=e.isActive,n=e.activeTourStep,r=e.stepHighlightedBy,o=e.className,a=e.tracking,i=e.icon,c=e.id,u=e.label,l=e.shortcut,s=S()(c),f=n===r,d=v()("cmpNavButton cmpNavButton".concat(s),o,{selected:t,"shepherd-target":f,"shepherd-enabled":f});return m.a.createElement("div",{ref:this.refControllerCallback,className:d,onClick:this.onClick,"data-track":a},m.a.createElement(y.b,{name:i}),!_&&m.a.createElement("div",{className:"label-wrapper"},m.a.createElement("div",{className:"label"},u," ",l)))}}]),t}(b.PureComponent);h(I,"displayName","NavButton")},function(e,t,n){"use strict";function r(e){var t=e.e;if(!Object(l.a)(t)&&i){var n=this.getPointer(t,!1);i(n),i=null}}function o(e){var t=e.target;this.processed&&this.originals&&(this.processed=!1,this.off("dragleave",this.dragleavehandler),Object.assign(this,t.originals),this.clippingPath&&Object(f.a)(this.clippingPath,this.width,this.height),this.canvas.requestRenderAll())}function a(e){var t=e.target;if(!e.e.shiftKey&&t&&!t.processed&&t instanceof u.fabric.Image&&c){var n=c.querySelector(".previewable img");if(!n)return!1;t.originals={top:t.top,left:t.left,width:t.width,height:t.height,scaleX:t.scaleX,scaleY:t.scaleY,cropX:t.cropX,cropY:t.cropY,filters:t.filters,_element:t._element,stroke:t.stroke,strokeNofill:t.strokeNofill,strokeWidth:t.strokeWidth,vignetteStrength:t.vignetteStrength,opacity:t.opacity},t.on("dragleave",o),t.processed=!0,this.requestRenderAll();var r={height:n.naturalHeight,width:n.naturalWidth},a=Object(d.a)(r,t),i={cropX:0,cropY:0};Object.assign(t,i,a),t.clippingPath&&Object(f.a)(t.clippingPath,t.width,t.height),s.b.track("Image Replace Dragover"),t._element=n}}n.d(t,"d",function(){return p}),n.d(t,"c",function(){return h}),t.b=r,t.a=a;var i,c,u=n(8),l=(n.n(u),n(722)),s=n(7),f=n(337),d=n(707),p=function(e){i=e},h=function(e){c=e}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return j});var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(4),O=n.n(y),S=n(38),w=n(358),j=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"state",{open:!1}),h(f(r),"renderListItems",(e=r).renderListItems.bind(e)),h(f(r),"toggleLabelHandler",(e=r).toggleLabelHandler.bind(e)),h(f(r),"handleLabelDropdownItemClick",(e=r).handleLabelDropdownItemClick.bind(e)),h(f(r),"refControllerCallback",S.a.refControllerCallback.bind(f(r))),r}c(t,e);var n=l(t);return i(t,[{key:"renderListItems",value:function(){var e=this.props,t=e.items,n=e.activeLabel,o=e.action,a=void 0===o?this.handleLabelDropdownItemClick:o;return t.map(function(e){var t,o=e.key,i=e.label,c=e.className;return t="object"===r(n)?n.key===o?"selected":"":n===o?"selected":"",m.a.createElement("li",{key:o,className:O()("cmpLabelDropdown__listItem",{selected:t},c),onClick:function(e){e.stopPropagation(),a(o)}},i)})}},{key:"toggleLabelHandler",value:function(e){var t=this;e&&e.stopPropagation(),this.setState({open:!this.state.open},function(){t.props.toggleHandler&&t.props.toggleHandler()})}},{key:"handleLabelDropdownItemClick",value:function(e){var t=this;this.setState({open:!this.state.open},function(){t.props.toggleHandler&&t.props.toggleHandler(e)})}},{key:"renderTarget",value:function(){var e=this.props,t=e.title,n=e.activeLabel;return m.a.createElement("div",{className:"cmpLabelDropdownToggle-label",title:t,onClick:this.toggleLabelHandler},"object"===r(n)&&n.label||n,m.a.createElement("span",{className:"sstk-icons-before icon-caret-down"}))}},{key:"render",value:function(){var e=this.props,t=e.open,n=e.toggle,r=e.modifiers,o=e.coverToggle,a=e.handleClickOutside,i=e.listClassName,c=e.scrollBoundsClassName,u=e.width,l=this.renderListItems(),s=n||this.renderTarget();return m.a.createElement(w.a,{forwardRef:this.refControllerCallback,toggle:s,open:void 0!==t?t:this.state.open,className:"cmpLabelDropdown",toggleClassName:"cmpLabelDropdown__target",listClassName:O()("cmpLabelDropdown__list",i),scrollBoundsClassName:O()("cmpLabelDropdown__scrollBounds",c),modifiers:r,handleClickOutside:a||this.toggleLabelHandler,coverToggle:o,width:u},l)}}]),t}(b.PureComponent);h(j,"displayName","LabelDropdown"),h(j,"propTypes",{activeLabel:v.a.oneOfType([v.a.bool,v.a.number,v.a.string,v.a.object]),toggle:v.a.element,items:v.a.array,open:v.a.bool,action:v.a.func,toggleHandler:v.a.func,handleClickOutside:v.a.func,coverToggle:v.a.bool,width:v.a.oneOfType([v.a.number,v.a.string])})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=T();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){"@babel/helpers - typeof";return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}function I(e,t){return(I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=R();return function(){var n,r=D(e);if(t){var o=D(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e){"@babel/helpers - typeof";return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t,n){return t&&F(e.prototype,t),n&&F(e,n),e}function U(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}function H(e,t){return(H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function W(e){var t=X();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Z(e){"@babel/helpers - typeof";return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),e}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=ae();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){"@babel/helpers - typeof";return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(){return le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)}function se(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function de(e,t,n){return t&&fe(e.prototype,t),n&&fe(e,n),e}function pe(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&he(e,t)}function he(e,t){return(he=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=ve();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return me(this,n)}}function me(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?ge(e):t}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Se=n(0),we=n.n(Se),je=n(1468),Te=n.n(je),Ee=n(11),Ce=n(273),ke=n(117),xe=n(5),Pe=n.n(xe),_e=n(127),Ie=n(188),Ne=n(4),Me=n.n(Ne),Ae=n(2),Re=n(340),De=n.n(Re),Le=Object(Ae.c)(De.a),Ge=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"setupCanvas",function(){Object(Ie.c)(e.props.template)}),e}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props.template,t=e.width,n=e.height,r=e.thumbnail,o=e.labelKey,a=this.props.extraMarginLeft,i="".concat(t," x ").concat(n),c=t/n,u=c>200/140?"wide":"tall",l=Le(o),s=Me()("cmpSinglePreset",u,{extraMarginLeft:a});return we.a.createElement("div",{className:s,onClick:this.setupCanvas},we.a.createElement(_e.a,{draggable:"false",src:r}),we.a.createElement("p",{className:"label"},l),we.a.createElement("p",{className:"dimensions"},i))}}]),t}(Se.PureComponent);h(Ge,"displayName","SinglePreset"),h(Ge,"propTypes",{template:Pe.a.object,extraMarginLeft:Pe.a.bool});var Be=Object(Ae.c)(De.a),Fe=function(e){function t(){return m(this,t),n.apply(this,arguments)}y(t,e);var n=S(t);return v(t,[{key:"render",value:function(){var e=Be("newdesign-modal.create-custom");return we.a.createElement("div",{className:"cmpCreateCustomSize cmpSinglePreset",onClick:Ie.a},we.a.createElement("div",{className:"customSizeContainer"},we.a.createElement("div",{className:"circle"},we.a.createElement("div",{className:"vplus"}),we.a.createElement("div",{className:"hplus"}))),we.a.createElement("p",{className:"label"},e),we.a.createElement("p",{className:"dimensions"},""))}}]),t}(Se.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Fe,"displayName","CreateCustomSize");var ze=function(){return["153455","153069","153385","153319","153123","153163","153269","153241","153191","2695823"]}(),Ue=function(e){function t(){var e;k(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),L(A(e),"state",{extractedTemplates:[]}),e}_(t,e);var n=N(t);return P(t,[{key:"componentWillMount",value:function(){var e=this;Object(Ce.a)(ze,["thumbnail","width","height","id"]).then(function(t){Object(Ce.d)(e.props.templatePresets,t),e.setState({extractedTemplates:t})})}},{key:"render",value:function(){var e=this.state.extractedTemplates;return we.a.createElement("div",{className:"templateList"},[we.a.createElement(Fe,{key:"crateCustomSize"})].concat(e.map(function(e){return we.a.createElement(Ge,{draggable:"false",key:e.id,template:e})})),function(){var t=(e.length+1)%3;return Te()(t,function(){return we.a.createElement("div",{key:t--,className:"cmpSinglePreset"})})}())}}]),t}(Se.PureComponent);L(Ue,"displayName","StandardTemplateList");var He=Object(Ee.a)(function(e){return{templatePresets:ke.c.templatePresets(e)}})(Ue),We=n(23),Ve=n(49),Ke=n(556),Xe=function(e){var t=e.children;return we.a.createElement("div",{className:"cmpBackgroundGroup-list"},t)},Ye=Object(Ke.a)(Xe),qe=Object(Ae.c)(De.a),Ze=function(e){function t(){var e;B(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),q(K(e),"onClick",function(){var t=e.props.preset.toJS(),n=t.height,r=t.width,o=t.id;Object(Ie.c)({height:n,width:r,presetId:o,label:"custom"},"search")}),e}U(t,e);var n=W(t);return z(t,[{key:"render",value:function(){var e=this.props.preset;return we.a.createElement("div",{className:"cmpCustomPreset",onClick:this.onClick},we.a.createElement("div",{className:"name",title:e.get("label")},e.get("label")),we.a.createElement("div",{className:"dims"},qe("image.dimensions",{WIDTH:e.get("width").toFixed(0),HEIGHT:e.get("height").toFixed(0)})))}}]),t}(Se.PureComponent),Je=Object(Ae.c)(De.a),$e=function(e){function t(){var e;J(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),ce(oe(e),"state",{expanded:e.props.expanded||!1}),ce(oe(e),"onClick",function(){var t=e.props,n=t.className,r=t.onClick,o=e.state.expanded;e.setState({expanded:!o}),r&&r(n,{willExpand:!o})}),ce(oe(e),"onViewAllClick",function(e){e.preventDefault(),Object(Ie.d)()}),ce(oe(e),"onCollapse",function(){var t=e.props,n=t.onCollapse,r=t.className;n&&n(r)}),ce(oe(e),"onExpand",function(){var t=e.props,n=t.onExpand,r=t.className;n&&n(r)}),e}ee(t,e);var n=ne(t);return Q(t,[{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.customPresets,o=this.state.expanded,a=r.slice(0,3),i=r.slice(3,10),c=!!i.size,u=Me()("cmpCustomTemplatesGroup clearfix",n,{active:o,canExpand:c}),l=r.size>10;if(this.state.expanded){e=34*(l?i.size+1:i.size)}else e=0;return we.a.createElement("div",{className:u},we.a.createElement("div",{className:"cmpCustomTemplatesGroup-header",onClick:this.onClick},we.a.createElement("span",{className:"cmpCustomTemplatesGroup-title"},Je("newdesign-modal.saved-custom-size")),c&&we.a.createElement(We.b,{name:"chevron-arrow"})),a.map(function(e){return we.a.createElement(Ze,{preset:e,key:e.get("id")})}),c&&we.a.createElement(Ye,{expanded:this.state.expanded,height:e,onExpand:this.onExpand,onCollapse:this.onCollapse},i.map(function(e){return we.a.createElement(Ze,{preset:e,key:e.get("id")})}),l&&we.a.createElement("div",{className:"viewAll"},we.a.createElement("a",{href:"#",onClick:this.onViewAllClick},Je("view-all")))))}}]),t}(Se.PureComponent);ce($e,"displayName","CustomPresets");var Qe=Object(Ee.a)(function(e){return{customPresets:Ve.c.customPresets(e)}})($e),et=n(133),tt=n(456);n.d(t,"a",function(){return nt});var nt=function(e){function t(){var e;se(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),Oe(ge(e),"state",{scrolled:!1}),Oe(ge(e),"onScroll",function(t){t.target.scrollTop>20?e.setState({scrolled:!0}):e.setState({scrolled:!1})}),e}pe(t,e);var n=be(t);return de(t,[{key:"render",value:function(){return we.a.createElement(et.a,le({},this.props,{className:"cmpNewDesignModal",iconName:"login-modal-header",title:this.props.titleText,message:this.props.subTitleText,scrolled:this.state.scrolled,onScroll:this.onScroll}),we.a.createElement(tt.a,{title:this.props.titleText,message:this.props.subTitleText}),we.a.createElement(Qe,null),we.a.createElement(He,null))}}]),t}(Se.PureComponent);Oe(nt,"displayName","NewDesignModal")},function(e,t,n){"use strict";var r=n(1),o=n(56),a=n(9),i=n(99),c=n(16);n.d(t,"b",function(){return u});var u=function(e){o.b.setActiveTab({name:e,source:a.r})},l=function(e){r.default.dispatch("SET_ACTIVE_ASSETS_TAB",e)},s=function(){var e=r.default.evaluate(i.b);return"assets"!==e&&c.e.openLeftPanel("assets"),e};t.a={setActiveTab:u,switchToTab:l,openDigitalAssetsPanel:s}},function(e,t,n){"use strict";function r(){var e=[];try{e=JSON.parse(Object(o.a)(window.location.href).query.excludeFeatures)}catch(e){}return e}var o=n(101),a=n(129),i=n.n(a),c=i()(r);t.a=c},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=T();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){"@babel/helpers - typeof";return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=D();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var B=n(0),F=n.n(B),z=n(164),U=n(5),H=n.n(U),W=n(273),V=n(384),K=n(4),X=n.n(K),Y=n(7),q=n(9),Z=n(724),J=n(183),$=n(16),Q=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"onTemplateClick",e.onTemplateClick.bind(f(e))),e}c(t,e);var n=l(t);return i(t,[{key:"onTemplateClick",value:function(e){Y.a.click(Object(q._129)(e)),Object(J.d)(e,{type:"text",ignoreWarning:!0,allowColorCoercion:!0}),Object($.c)()}},{key:"render",value:function(){var e=this.props,t=X()("id-".concat(e.id," textTemplate"));return F.a.createElement(Z.a,{key:e.id,template:e,className:t,onClick:this.onTemplateClick,showFreeIcon:!1,checkerboard:!1,styles:{width:124}})}}]),t}(B.PureComponent),ee=function(e){function t(){var e;m(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),C(j(e),"state",{textTemplates:[]}),e}y(t,e);var n=S(t);return v(t,[{key:"componentWillMount",value:function(){var e=this;W.h.then(function(t){e.setState({textTemplates:t})})}},{key:"render",value:function(){var e=this.state.textTemplates;return e.length>0&&F.a.createElement(V.a,{totalCount:e.length,assets:e,cmp:Q})||null}}]),t}(B.PureComponent);C(ee,"displayName","TextTemplates"),C(ee,"propTypes",{templatePresets:H.a.object,t:H.a.func});var te=ee,ne=n(37),re=n(924),oe=n(898),ae=n(899),ie=Object(ae.a)("textTemplate"),ce=function(){var e=Object(ne.useSelector)(Object(oe.b)("textTemplates"));return e.length>0&&F.a.createElement(V.a,{onClick:ie,assets:e,cmp:re.a})||null},ue=ce,le=n(540),se=n(232),fe=n(448),de=n.n(fe),pe=n(155),he=n(2),be=n(1476),me=n.n(be),ge=n(107);n.d(t,"a",function(){return we}),n.d(t,"b",function(){return Te});var ve,ye,Oe=Object(he.c)(me.a),Se=de()(function(){Promise.all([{name:"Oswald"},{name:"Lato"},{name:"PT Sans"}].map(function(e){var t=e.name,n=e.weight,r=void 0===n?400:n,o=e.style,a=void 0===o?"normal":o;return Object(se.a)(t,r,a,!0)}))}),we=(ye=ve=function(e){function t(){return x(this,t),n.apply(this,arguments)}I(t,e);var n=M(t);return _(t,[{key:"render",value:function(){var e="cmpTextButton btn btn-default btn-add-".concat(this.props.textClassName);return F.a.createElement(pe.a,{className:e,hoverState:!1,effectAllowed:"copy",setData:{text:""},onDragClass:"duringDragging",onClick:this.props.addFunction,onCanvasDrop:this.props.addFunction,controllingKey:this.props.controllingKey},this.props.buttonText)}}]),t}(B.PureComponent),G(ve,"displayName","TextButton"),ye),je=function(e){function t(){var e;x(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),G(R(e),"textFunction",null),e}I(t,e);var n=M(t);return _(t,[{key:"componentDidMount",value:function(){Se()}},{key:"addText",value:function(e){Y.a.click(q._125),le.d.addText({allowColorCoercion:!0,point:e}),Object($.c)()}},{key:"addHeadline",value:function(e){Y.a.click(q._127),le.d.addHeadline({allowColorCoercion:!0,point:e}),Object($.c)()}},{key:"addSubheadline",value:function(e){Y.a.click(q._130),le.d.addSubheadline({allowColorCoercion:!0,point:e}),Object($.c)()}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.noClose,r=e.isMobile,o=e.isCustomTextTemplatesActive,a=Oe(r?"text.texthelpmobile":"text.texthelp");return F.a.createElement(z.a,{className:X()("cmpTextPanel",t),closeTrack:q._126,onCloseButtonClick:$.b,noClose:n},F.a.createElement(ge.b,null,F.a.createElement("div",{className:"textHelp"},a),F.a.createElement(we,{controllingKey:"add-headline",textClassName:"headline",addFunction:this.addHeadline,buttonText:Oe("text.addheadline")}),F.a.createElement(we,{textClassName:"subheadline",addFunction:this.addSubheadline,buttonText:Oe("text.addsubheadline")}),F.a.createElement(we,{textClassName:"text",addFunction:this.addText,buttonText:Oe("text.addlittlebodytext")}),F.a.createElement("hr",null),o?F.a.createElement(ue,null):F.a.createElement(te,null)))}}]),t}(B.PureComponent);G(je,"displayName","TextPanel");var Te=function(e){function t(){return x(this,t),n.apply(this,arguments)}I(t,e);var n=M(t);return t}(je)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c._131,t=Object(a.a)();t.getActiveObjects().forEach(function(e){e.isLocked=!0,e.setCoords()});var n=t.getActiveObject();"activeSelection"===n.type&&(n.destroy(),t.discardActiveObject(null)),t.requestRenderAll(),t.fire("save"),i.a.click("toolbar.lock",{source:e})}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c._131,t=Object(a.a)(),n=t.getActiveObjects();u(n),t.requestRenderAll(),t.fire("save"),i.a.click("toolbar.unlock",{source:e})}t.a=r,n.d(t,"c",function(){return u}),t.b=o;var a=n(6),i=n(7),c=n(9),u=function(e){(Array.isArray(e)?e:[e]).forEach(function(e){var t=Object.getPrototypeOf(e),n=t.controls;e.isLocked=!1,e.controls=n,e.setCoords()})}},,,function(e,t,n){"use strict";n.d(t,"j",function(){return r}),n.d(t,"i",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"k",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"m",function(){return l}),n.d(t,"l",function(){return s}),n.d(t,"e",function(){return f}),n.d(t,"h",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"n",function(){return h}),n.d(t,"f",function(){return b}),n.d(t,"a",function(){return m}),n.d(t,"o",function(){return g});var r="SET_PUBLISH_PROCESS_STEP",o="SET_PUBLISH_PLATFORM",a="SET_PUBLISH_DESCRIPTION",i="SET_PUBLISH_PINTEREST_BOARDS",c="SET_PUBLISH_SELECTED_BOARD",u="SELECT_PINTEREST_BOARD_ITEM",l="SET_PUBLISH_TWITTER_REQUEST_CREDENTIALS",s="SET_PUBLISH_TWITTER_ACCESS_CREDENTIALS",f="SET_PUBLISH_FACEBOOK_CREDENTIALS",d="SET_PUBLISH_PINTEREST_CREDENTIALS",p="SET_PUBLISH_ERROR",h="SET_SHARE_PANEL_SCREEN",b="SET_PUBLISH_LINK",m="CLEAR_PUBLISH_LINK",g="SET_SHOW_SUCCESS_MODAL"},,function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"e",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var r=n(33),o=Object(r.a)(["backgroundRemove","image"]),a=Object(r.a)(["backgroundRemove","brushStrokes"]),i=Object(r.a)(o,a,function(e,t){var n=t.get(e.id);return n?n.toJS():[]}),c=Object(r.a)(["backgroundRemove","brushSize"]),u=Object(r.a)(["backgroundRemove","brushType"]);t.c={image:o,brushStrokes:a,strokes:i,brushSize:c,brushType:u}},function(e,t,n){"use strict";function r(e,t,n){for(var r=new Float32Array(3*t*n),o=t*n,a=0;a<o;a++){var i=4*a,c=Math.pow(e[i]/255,2.2),u=Math.pow(e[i+1]/255,2.2),l=Math.pow(e[i+2]/255,2.2),s=y(.488718*c+.31068*u+.200602*l),f=y(.176204*c+.812985*u+.0108109*l),d=y(.0102048*u+.989795*l);r[a]=116*f-16,r[a+o]=500*(s-f),r[a+2*o]=200*(f-d)}return r}function o(e,t,n,r){for(var o=0;o<3;o++)for(var a=o*n*r,i=1;i<r-1;i++)for(var c=1;c<n-1;c++){var u=e[a+i*n+c-1],l=e[a+i*n+c+1],s=e[a+(i+1)*n+c],f=e[a+(i-1)*n+c];t[i*n+c]=t[i*n+c]+(u-l)*(u-l)+(s-f)*(s-f)}}function a(e,t,n,r,o,a,i,c,u){for(var l,s,f,d=0,p=0,h=0;h<a;h++)for(var b=0;b<o;b++){var m=0,g=0,v=1/0,y=void 0,O=void 0;for(l=parseInt(Math.round(i*(b+.5)),10),s=parseInt(Math.round(i*(h+.5)),10),l=Math.max(Math.min(l,c-1),0),s=Math.max(Math.min(s,u-1),0),O=Math.max(0,s-1);O<=Math.min(u-1,s+1);O++)for(y=Math.max(0,l-1);y<=Math.min(c-1,l+1);y++){var S=t[O*c+y];S<v&&(v=S,m=y,g=O)}n[d++]=parseFloat(m),n[d++]=parseFloat(g),f=g*c+m,n[d++]=e[f],n[d++]=e[c*u+f],n[d++]=e[2*c*u+f],r[p++]=100,r[p++]=i*i}}function i(e,t,n,r,o,a,i){for(var c=0;c<i;c++)for(var u=0;u<a;u++){var l=c*a+u,s=t[l],f=5*s;n[s]++,r[f]+=u,r[f+1]+=c,r[f+2]+=e[l],r[f+3]+=e[a*i+l],r[f+4]+=e[2*a*i+l]}for(var d=0;d<o;d++){var p=5*d,h=1/Math.max(n[d],1e-8);r[p]=r[p]*h,r[p+1]=r[p+1]*h,r[p+2]=r[p+2]*h,r[p+3]=r[p+3]*h,r[p+4]=r[p+4]*h}}function c(e,t,n,r,o){var a,i,c,u,l,s,f,d,p,h,b,m=new Int32Array(n),g=new Int32Array(n),v=[1,-1,0,0],y=[0,0,1,-1];for(l=0;l<n;l++)if(!m[l]){for(i=e[l],u=0,a=0,g[a++]=l,c=i+1,m[l]=i+1,s=l%r,f=Math.floor(l/r),h=0;h<4;h++)d=s+v[h],p=f+y[h],b=d+p*r,d>=0&&d<r&&p>=0&&p<o&&m[b]&&(c=m[b]);for(;u<a;){var O=g[u++];for(s=O%r,f=Math.floor(O/r),h=0;h<4;++h)d=s+v[h],p=f+y[h],b=d+p*r,d>=0&&d<r&&p>=0&&p<o&&0===m[b]&&e[b]===i&&(m[b]=i+1,g[a++]=b)}if(a<t)for(;a>0;)m[g[--a]]=c}for(l=0;l<n;++l)--m[l];for(var S=0;S<n;++S)e[S]=m[S]}function u(e,t,n,r){for(var o=new Float32Array(r.length/2),a=new Float32Array(r.length/2),i=0;i<e.length;i++){var c=e[i];o[c]<t[c]&&(o[c]=t[c],r[2*c+0]=t[c]),a[c]<n[c]&&(a[c]=n[c],r[2*c+1]=n[c])}}function l(e,t,n,r,o,a,i,c,u,l,s,f){for(var d,p,h=s*f,b=0;b<o.length;++b)o[b]=1/0;for(var m=l,g=0;g<c*u;++g){var v=5*g,y=Math.round(a[v]),O=Math.round(a[v+1]),S=a[v+2],w=a[v+3],j=a[v+4];for(p=Math.max(0,O-m);p<Math.min(f,O+m);++p)for(d=Math.max(0,y-m);d<Math.min(s,y+m);++d){var T=(d-y)*(d-y)+(p-O)*(p-O),E=p*s+d,C=e[E]-S,k=e[h+E]-w,x=e[2*h+E]-j,P=C*C+k*k+x*x,_=Math.sqrt(P/i[2*g+0]+T/i[2*g+1]);_<o[E]&&(o[E]=_,t[E]=g)}}var I,N;for(p=0;p<f;++p)for(d=0;d<s;++d)I=p*s+d,N=t[I],i[2*N]<n[I]&&(i[2*N]=n[I]),i[2*N+1]<r[I]&&(i[2*N+1]=r[I])}function s(e,t){for(var n=0,r=0;r<e.length;++r)n+=Math.abs(e[r]-t[r]);return n}function f(e,t){var n=e.width,f=e.height,d=parseInt(n/t.regionSize,10),p=parseInt(f/t.regionSize,10),h=parseInt(d*p,10),b=parseInt(n*f,10),m=t.regionSize,g=new Float32Array(b),v=new Array(b),y=new Float32Array(5*h),O=new Float32Array(5*h),S=new Float32Array(2*h),w=new Float32Array(b),j=new Float32Array(b),T=new Float32Array(b),E=r(e.data,e.width,e.height);o(E,g,e.width,e.height),a(E,g,y,S,d,p,m,e.width,e.height);for(var C=new Int32Array(b),k=0;k<10;++k){l(E,C,w,j,T,y,S,d,p,m,e.width,e.height),u(C,w,j,S);for(var x=0;x<v.length;x++)v[x]=0;for(var P=0;P<O.length;P++)O[P]=0;i(E,C,v,O,h,e.width,e.height);if(s(y,O)<1e-7)break;for(var _=0;_<O.length;_++)y[_]=O[_]}return c(C,t.minRegionSize,b,e.width,e.height),{segmentation:C,edgeMap:g}}function d(e){for(var t={},n=0,r=0;r<e.length;++r){var o=e[r];void 0===t[o]&&(t[o]=n++),e[r]=t[o]}return n}function p(e,t){var n=f(e,t),r=n.segmentation,o=d(r),a=new Uint8Array(e.data);return{width:e.width,height:e.height,size:o,indexMap:r,rgbData:a}}function h(e){e.segments={};for(var t,n,r,o=e.width,a=e.height,i=e.indexMap.length,c=new Uint32Array(e.rgbData.buffer),u=0;u<i;++u){r=16777215&c[u],n=e.indexMap[u],e.segments[n]||(e.segments[n]={id:n,min_x:o+1,min_y:a+1,max_x:-1,max_y:-1,mask:{b:0,f:0},count:0,mp:[0,0,0],colors:{}}),t=e.segments[n];var l=Math.floor(u/o),s=u%o;u!==s+l*o&&console.log(["Error?",u,s+l*o]),t.count+=1,t.mp[0]+=e.rgbData[4*u],t.mp[1]+=e.rgbData[4*u+1],t.mp[2]+=e.rgbData[4*u+2],t.colors[r]=t.colors[r]?++t.colors[r]:1,s>t.max_x&&(t.max_x=s),s<t.min_x&&(t.min_x=s),l>t.max_y&&(t.max_y=l),l<t.min_y&&(t.min_y=l)}for(var f=Object.keys(e.segments),d=f.length,p=0;p<d;p++){var h=e.segments[f[p]];h.mp[0]/=h.count,h.mp[1]/=h.count,h.mp[2]/=h.count,h.commonColors=Object.entries(h.colors).sort(function(e,t){return t[1]-e[1]}).slice(0,3).map(function(e){return[parseInt(e[0],10),e[1]]})}v=e}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.regionSize,r=void 0===n?25:n,o=t.minRegionSize,a=void 0===o?8:o;return void 0===a&&(a=r/4),v=p(e,{regionSize:r,minRegionSize:a}),h(v),v}function m(){return v}function g(e){v=e}t.b=b,t.a=m,t.c=g;var v,y=function(e){return e>.00856?Math.pow(e,.33333333):7.78706891568*e+.1379310336}},function(e,t,n){"use strict";var r=n(37),o=(n.n(r),n(22)),a=function(e){var t=e.feature,n=e.children;return Object(r.useSelector)(o.o).get(t)?n:null};t.a=a},,function(e,t,n){"use strict";function r(e){var t=e.header,n=e.footer,r=e.children,o=e.className,i=e.style,u=e.onScroll;return a.a.createElement("div",{className:c()("sticky-container",o),style:i},t&&a.a.createElement("div",{className:"sticky-container-header"},t),a.a.createElement("div",{className:"sticky-container-contents",onScroll:u},r),n&&a.a.createElement("div",{className:"sticky-container-footer"},n))}t.a=r;var o=n(0),a=n.n(o),i=n(4),c=n.n(i)},,,,,function(e,t,n){"use strict";function r(){return o.apply(void 0,arguments).then(function(){l.a.takeSnapshot()})}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyPartial,r=t.allowColorCoercion,o=void 0!==r&&r;Object(O.b)(),e.state.doc.fabric.pages.forEach(function(e){e.data.objects&&(e.data.objects=e.data.objects.filter(Boolean))});var a=e.state.pages.find(function(e){return!0===e.active});a||(a=e.state.pages[0],a.active=!0);var p=a.id,b=e.state.doc.fabric.pages,v=b.find(function(e){return e.id===p}).data;if(h()(e.state,["doc","fabric","fabricTimeStamp"],0),n)return s.b.putObjectsOnDesign(v.objects,o);var w=m()(e,"state.doc.printResolution.units"),E=m()(e,"state.doc.printResolution.dotsPerUnit");h()(e.state,["doc","ruler","units"],w||j.c),w||h()(e,"state.doc.printResolution.units",j.c),E||h()(e,"state.doc.printResolution.dotsPerUnit",300);var C=b.map(function(e){var t=e.data;return delete e.data,e.selected=[],t});i(v,a,!0),v.objects.forEach(function(e){e.id=u.b.getNewObjectId(),Object(O.d)(e),delete e.owner});var k=Object(f.a)();k.stopRendering=!0;var x=Object(T.a)(v.objects);return y.b.assetPreloader(x).then(function(){var t=Object(d.fromJS)({state:e.state}),n=t.getIn(["state","doc","fabric","pages"]),r=n.map(function(e,t){return b[t].data=C[t],e.set("data",C[t])});return l.a.loadSnapshot(t.setIn(["state","doc","fabric","pages"],r)),u.b.putStateIntoCanvas(p)}).then(function(){return c.default.dispatch(g.O),k.stopRendering=!1,k.fire("setData"),S.a.initThumbnails()}).catch(function(e){throw k.stopRendering=!1,e})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.keepSelected,r=void 0!==n&&n,o=e.state.pages.find(function(e){return!0===e.active}),a=parseInt(o.id,10)||1,i=e.state.doc.fabric.pages,s=i.find(function(e){return e.id===a}),p=s.data;h()(e.state,["doc","fabric","fabricTimeStamp"],0);var b=[],m=i.map(function(e){var t=e.data;return r?b.push(e.selected):b.push([]),delete e.selected,delete e.data,t});p.objects.forEach(O.d),e.state.fromSocket=!0;var g=Object(f.a)();return g.stopRendering=!0,y.b.assetPreloader(p.objects).then(function(){var t=Object(d.fromJS)({state:e.state}),n=t.getIn(["state","doc","fabric","pages"]),o=n.map(function(e,t){return i[t].data=m[t],i[t].selected=b[t],e.set("data",m[t]).set("selected",b[t])});return l.a.loadSnapshot(t.setIn(["state","doc","fabric","pages"],o)),a!==c.default.evaluate(w.k.activePageId)?Promise.resolve():(r&&g.discardActiveObject(),u.b.putStateIntoCanvas(a,{isForCollab:!0}))}).then(function(){return g.stopRendering=!1,S.a.initThumbnails()}).catch(function(e){throw g.stopRendering=!1,e})}function i(e,t,n){if(e.backgroundImage){var r=t.height,o=t.width;n||(e.backgroundImage.id=u.b.getNewObjectId()),e.backgroundImage.width=o,e.backgroundImage.height=r,e.backgroundImage.left=o/2,e.backgroundImage.top=r/2}}t.c=r,t.b=o,t.a=a;var c=n(1),u=n(122),l=n(39),s=n(57),f=n(6),d=n(12),p=(n.n(d),n(254)),h=n.n(p),b=n(21),m=n.n(b),g=n(19),v=n(106),y=n(708),O=n(80),S=n(109),w=n(14),j=n(116),T=n(181);v.a&&(window.applyDesign=o)},function(e,t,n){"use strict";function r(e){for(var t=[],n=0;n<e.length;n++){var r=e.charAt(n),a=e.charCodeAt(n);if(a>=55296&&a<=56319){var i=e.charCodeAt(n+1),c=1024*(a-55296)+(i-56320)+65536;a=o(a.toString(16).toUpperCase(),4),i=o(i.toString(16).toUpperCase(),4),c=o(c.toString(16).toUpperCase(),4),t.push(c),n++}else a>=65536?(a=o(a.toString(16).toUpperCase(),4),t.push(a)):a>=127?(a=o(a.toString(16).toUpperCase(),4),t.push(a)):t.push(r)}return t}function o(e,t){var n,r=t-e.length;for(n=0;n<r;n++)e="0".concat(e);return e}function a(e){return"emoji_u".concat(e.join("_").toLowerCase().replace(/u\+/g,"").replace(/_fe0f/g,""))}function i(e){var t=r(e),n=a(t);if(n)return"".concat(s).concat(l.client.basePath,"assets/notoemoji/png/").concat(n,".png?v=").concat(f)}function c(e){var t=r(e),n=a(t);if(n)return"".concat(s).concat(l.client.basePath,"assets/notoemoji/svg/").concat(n,".svg?v=").concat(f)}function u(e){return"noto".concat(e)}var l=n(29);t.b=i,t.c=c,t.a=u;var s=window.sstkCdnPrefix||"",f=l.client.emoji_cache_buster},function(e,t,n){"use strict";function r(e,t){return Object(o.Set)(t).forEach(function(t){e=e.deleteIn(t)}),e}t.a=r;var o=n(12);n.n(o)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){p.a.click("textPanel.addTextbox",{type:j[e],source:"button"})}function a(e){switch(e){case S.HEADLINE:return O.headlineFont;case S.SUBHEADLINE:return O.subHeadlineFont;case S.BODY_TEXT:return O.bodyTextFont;default:return{}}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.fontSize,n=e.type,r=e.point,i=void 0===r?{}:r,c=e.text,u=e.allowColorCoercion,l=void 0!==u&&u,s=e.selectAllText,f=void 0===s||s,p=c||w[n],h={fontSize:t,active:!0,selectAllText:f,allowColorCoercion:l};return Number(i.x)&&Number(i.y)&&(h.position=i),h.text=p,h.font=a(n),o(n),d.a.create(h)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h.default.evaluate(b.a),n=void 0!==e.selectAllText,r=Object.assign(e,{fontSize:t.get("headline"),type:S.HEADLINE,selectAllText:n?e.selectAllText:!h.default.evaluate(b.p)});return T._addText(r)}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h.default.evaluate(b.a),n=void 0!==e.selectAllText,r=Object.assign(e,{fontSize:t.get("subheadline"),type:S.SUBHEADLINE,selectAllText:n?e.selectAllText:!h.default.evaluate(b.p)});return T._addText(r)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=h.default.evaluate(b.a),n=void 0!==e.selectAllText,r=Object.assign(e,{fontSize:t.get("body"),type:S.BODY_TEXT,selectAllText:n?e.selectAllText:!h.default.evaluate(b.p)});return T._addText(r)}t.a=c,t.b=u,t.c=l;var s,f,d=n(193),p=n(7),h=n(1),b=n(22),m=n(2),g=n(1475),v=n.n(g),y=Object(m.c)(v.a),O=n(705),S={HEADLINE:"HEADLINE",SUBHEADLINE:"SUBHEADLINE",BODY_TEXT:"BODY_TEXT"},w=(s={},r(s,S.HEADLINE,y("text.addheadline")),r(s,S.SUBHEADLINE,y("text.addsubheadline")),r(s,S.BODY_TEXT,y("text.addlittlebodytext")),s),j=(f={},r(f,S.HEADLINE,"headline"),r(f,S.SUBHEADLINE,"subheading"),r(f,S.BODY_TEXT,"body text"),f),T={_addText:i,addText:l,addHeadline:c,addSubheadline:u};t.d=T},function(e,t,n){"use strict";function r(e){Object(s.a)(function(e){var t=e.keyPath,n=e.value;n.then&&"function"==typeof n.then&&d.push(n.then(function(e){return l()(f,t,e),o()})),l()(f,t,n)})(e)}function o(){if(d.length){var e=Promise.all(d);return d=[],e}return Promise.resolve()}function a(){return c||(c=o()),c}function i(){return f||(f={}),f}t.b=r,t.c=a;var c,u=n(254),l=n.n(u),s=n(446),f={},d=[];t.a=function(){return i(),f}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ne,n=e.width,r=e.height;if(n>r&&n>t){return{width:t,height:r/n*t}}if(r>t){return{width:n/r*t,height:t}}return{width:n,height:r}}function s(e,t,n){var r=document.createElement("canvas");r.width=e.width;var o=Math.floor(e.width/2)||1,a=Math.floor(e.height/2)||1;r.height=a;var i=r.getContext("2d");i.drawImage(e,0,0,o,a);for(var c,u,l,s=0;o>2*t&&a>2*n;)l=o+s,c=Math.floor(o/2),u=Math.floor(a/2),s<0&&(s=0),o>e.width&&(o=e.width),a>e.height&&(a=e.height),i.drawImage(r,s,0,o,a,l,0,c,u),s=l,o=c,a=u;var f=document.createElement("canvas");return f.width=t,f.height=n,s<0&&(s=0),o>e.width&&(o=e.width),a>e.height&&(a=e.height),f.getContext("2d").drawImage(r,s,0,o,a,0,0,t,n),f}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=T();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){"@babel/helpers - typeof";return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=D();return function(){var n,r=L(e);if(t){var o=L(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return A(this,n)}}function A(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?R(e):t}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){"@babel/helpers - typeof";return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),e}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=Y();return function(){var n,r=q(e);if(t){var o=q(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?X(e):t}function X(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function $(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){J(c,r,o,a,i,"next",e)}function i(e){J(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function Q(e){var t=0,n=0,r=e.length;if(r>0)for(;n<r;)t=(t<<5)-t+e.charCodeAt(n++)|0;return t.toString(16)}function ee(e){return te.apply(this,arguments)}function te(){return te=$(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(qe.d)()&&!Object(qe.b)()&&crypto.subtle){e.next=2;break}return e.abrupt("return",Promise.resolve(Q(t)));case 2:return n=new TextEncoder("utf-8").encode(t),e.next=5,crypto.subtle.digest("SHA-256",n);case 5:return r=e.sent,o=Array.from(new Uint8Array(r)),a=o.map(function(e){return"00".concat(e.toString(16)).slice(-2)}).join(""),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)})),te.apply(this,arguments)}function ne(e){return ie(e)||ae(e)||oe(e)||re()}function re(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,t){if(e){if("string"==typeof e)return ce(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ce(e,t):void 0}}function ae(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function ie(e){if(Array.isArray(e))return ce(e)}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ue(e){return function(t){return t.imageId===e&&t.filters.length}}function le(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=n.width,i=n.height+o,c=n.getContext("2d");c.setTransform(1,0,0,1,0,0),c.drawImage(t,0,0,a,i);var u=we.default.evaluate(ke.k.activePageId),l=we.default.evaluate(et.B.allFlattenedFabricObjects),s=Object.keys(l).filter(function(e){return e!==u}).map(function(e){return l[e]}),f=(r=[]).concat.apply(r,ne(Object.values(s))),d=Object($e.a)(),p=Object(Qe.a)(d.getObjects()),h=f.filter(ue(e)),b=p.filter(ue(e));h.forEach(function(e){d.filterBackend&&d.filterBackend.evictCachesForKey&&d.filterBackend.evictCachesForKey(tt.fabric.UserImage.prototype.getFilterCacheKey.call(e))}),b.forEach(function(e){e.set("dirty",!0),e.removeTexture(e.cacheKey),e.removeTexture("".concat(e.cacheKey,"_filtered")),d.filterBackend&&d.filterBackend.evictCachesForKey&&d.filterBackend.evictCachesForKey(e.getFilterCacheKey()),e.applyFilters()}),d.requestRenderAll()}function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach(function(t){de(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pe(e,t){return function(){var n,r=e.type,o=function(){Object($e.a)().fire("asset:updated",e)};return n="editorImage"===r?dt(e,t).then(o):"userImage"===r?pt(e,t).then(o):Promise.resolve(),we.default.dispatch(xe.c,{id:e.id,promise:n}),n}}function he(e,t){e.changeDims&&we.default.dispatch(je.m,Ce()(t,["width","height","pageId"])),e.forBackground&&we.default.dispatch(je.k,Ce()(t,["id","pageId"]))}function be(e){return e.handler=e.canvas?Xe:ut[e.type],new Pe(e.imageId,e).createAsset().then(function(t){return nt.b.track("asset_loaded_first_render",{time_since_navigation:Object(ye.k)()}),he(e,t),Te.a(pe(t,le)),t.submitterId&&"undefined"!==t.submitterId&&Te.a(at(t)),t})}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Ze(e).then(function(n){e.imageId=n;var r=Object(_e.a)(n);return r?(he(e,r),r):st[n]?st[n]:(Object(Se.a)("getLoadedAsset",n,e,t),t||we.default.dispatch(xe.G,"searchProgress"),st[n]=be(e).then(function(e){return t||we.default.dispatch(xe.G,null),e}).catch(function(e){throw t||we.default.dispatch(xe.G,null),e}),st[n])})}function ge(e,t,n){if("editorImage"===t.type&&""!==e){var r=t.id.replace("sstk://image/",""),o=t.thumb!==e;return Object(ye.d)(e,o,2).then(function(e){n(r,e,t.sourceImage),nt.b.track("asset_loaded_Unwatermarked",{time_since_navigation:Object(ye.k)()}),ve(r,lt,e)})}return Promise.resolve()}function ve(e,t,n){we.default.dispatch(xe.b,{size:t,image:n,id:e})}var ye=n(18),Oe=n(29),Se=n(385),we=n(1),je=n(110),Te=n(284),Ee=n(69),Ce=n.n(Ee),ke=n(14),xe=n(19),Pe=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,e),this.id=t;var r=n.handler;this._handler=new r(this.id,n)}return u(e,[{key:"load",value:function(){return this._handler.load()}},{key:"createAsset",value:function(e){var t=this;return this.load().then(function(){var n={sourceImage:t._handler.sourceImage},r=t._handler.getAssetMessage();r.width=Math.round(r.width),r.height=Math.round(r.height);var a=o(o({},r),n);we.default.dispatch(xe.i,a);var i=o(o(o({},r),e),n);return i.pageId=we.default.evaluate(ke.k.activePageId),i}).catch(function(e){throw e})}}]),e}(),_e=n(823),Ie=n(15),Ne=5e3,Me=n(43),Ae=n(21),Re=n.n(Ae),De=n(381),Le=n(87),Ge=n(255),Be=Re()(document.defaultView,"devicePixelRatio",1),Fe=function(){function e(t,n){var r=this;f(this,e),h(this,"createSmallPreviewForPreset",function(e){if(e.width<=250&&e.height<=250)return void(r.resizedPreview=e);var t=we.default.evaluate(De.c),n=Object(Le.b)(e,t.toJS())*Be,o=e.width*n,a=e.height*n,i=s(e,o,a);r.resizedPreview=i}),this.id=t,this._internalId=this.id,this.opts=n}return p(e,[{key:"load",value:function(){var e=this;return this._load().then(function(){return e.metadata&&Object(Ge.a)(h({},e._internalId,e.metadata)),e.sourceImage})}}]),e}(),ze=n(79),Ue=100,He=Ie.b.isEnabled("capto3500")?3500:5e3,We=function(e){function t(){var e;m(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),C(j(e),"fetchMetadata",function(t){return(t?Promise.resolve(t):Object(Me.a)({url:"".concat(Object(ye.e)("mediaImage")).concat(e._internalId),dataType:"json"})).then(function(t){var n=t.id,r=t.vector,o=t.huge;if(r&&o&&o.height<500&&o.width<500){var a=new Error("Tried to load a vector that does not have a licenseable jpg");throw a.name="vector",a.trackjsMeta=[{key:"sstk_id",value:n}],Object(ze.q)(n),a}var i=l(t.huge,He);return t.height=i.height,t.width=i.width,e.metadata=t,e.availableSizes=[],["huge","medium","small"].forEach(function(n){t[n]&&e.availableSizes.push(n)}),e.metadata.preview.thumb_250px}).catch(function(e){throw e})}),C(j(e),"getTheImage",function(t){var n=e._internalId,r=document.getElementById("".concat(n));if(r&&r.complete&&!r.getAttribute("failedToLoad"))return Promise.resolve(r);var o=e.metadata.preview.thumb_250px;return Object(ye.d)(t,!1,1).catch(function(e){if(o)return Object(ye.d)("https://image.shutterstock.com/z/photo-slug-".concat(n,".jpg"),!1,1);throw e})}),C(j(e),"cropImage",function(t){var n=document.createElement("canvas"),r=n.getContext("2d"),o=t.naturalWidth,a=t.naturalHeight;if(e.metadata.preview.toBeParsed){var i=a-Ue;n.width=o,n.height=i;var c=l(n,He),u=c.width,s=c.height;e.metadata.height=s,e.metadata.width=u,r.drawImage(t,0,0),e.createSmallPreviewForPreset(n)}else e.createSmallPreviewForPreset(t),n.width=e.metadata.preview.width,n.height=e.metadata.preview.height,r.scale(n.width/o,n.width/o),r.drawImage(t,0,0);return e.sourceImage=n,n}),e}y(t,e);var n=S(t);return v(t,[{key:"_load",value:function(){var e=Object(Ge.b)(this._internalId);return this.fetchMetadata(e).then(this.getTheImage).then(this.cropImage)}},{key:"getAssetMessage",value:function(){return{id:"".concat(this.id),type:"editorImage",description:this.metadata.description,width:this.metadata.width,height:this.metadata.height,thumb:this.metadata.preview.thumb_250px,preview:this.metadata.preview.image,presetImage:this.resizedPreview,availableSizes:this.availableSizes,submitterId:this.metadata.submitterId,license:{imageId:this._internalId},sourceImage:this.sourceImage}}}]),t}(Fe),Ve=2048,Ke=function(e){function t(){var e;x(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),G(R(e),"fetchMetadata",function(){var t=Object(Ge.b)(e._internalId);e.metadata=t||e.opts.metadata||{}}),G(R(e),"getTheImage",function(){return e.metadata.preview?(e.hasPreview=!0,Object(ye.d)(e.metadata.preview,!1,2)):Object(ye.d)(e.opts.url,!1,2)}),G(R(e),"saveHiresImage",function(t){return e.hasPreview?e.createSmallPreviewForPreset(t):e.hiResImage=t,t}),G(R(e),"getDimensions",function(t){e.hasPreview?(e.width=e.metadata.width,e.height=e.metadata.height):(e.width=t.naturalWidth||t.width,e.height=t.naturalHeight||t.height);var n={width:e.width,height:e.height};if(e.width>Ve||e.height>Ve){var r=Object(Le.c)(R(e),{width:Ve,height:Ve});n.width=Math.floor(e.width*r),n.height=Math.floor(e.height*r)}else e.hiResImage=void 0;return n}),G(R(e),"saveTheImage",function(t){var n=t,r=e.getDimensions(t),o=r.width,a=r.height;if(e.hasPreview||e.width!==o||e.height!==a){var i=document.createElement("canvas"),c=i.getContext("2d");i.width=o,i.height=a,c.drawImage(t,0,0,o,a),n=i}return e.hasPreview||e.createSmallPreviewForPreset(n),e.sourceImage=n,n}),e}I(t,e);var n=M(t);return _(t,[{key:"_load",value:function(){return this.fetchMetadata(),this.getTheImage().then(this.saveHiresImage).then(this.saveTheImage)}},{key:"getAssetMessage",value:function(){return{id:this._internalId,fullUrl:this.opts.url,previewUrl:this.metadata.preview,thumb:this.opts.url.replace("/original/","/thumbnail_250_px/"),isPreview:!!this.hasPreview,type:"userImage",width:this.width,height:this.height,presetImage:this.resizedPreview,license:{imageId:this._internalId},sourceImage:this.sourceImage,hiResImage:this.hiResImage}}}]),t}(Fe),Xe=function(e){function t(){var e;F(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),Z(X(e),"getTheImage",function(){return Promise.resolve(e.opts.canvas)}),e}H(t,e);var n=V(t);return U(t,[{key:"getAssetMessage",value:function(){return{id:this._internalId,type:"dataImage",width:this.width,height:this.height,presetImage:this.resizedPreview,license:{imageId:this._internalId},sourceImage:this.sourceImage,hiResImage:this.hiResImage}}}]),t}(Ke),Ye=n(211),qe=n(94),Ze=(n(702),n(88),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,n=e.url,r=e.type,o=e.imageId;if(o)return Promise.resolve(o);var a;switch(r){case"editorImage":a="".concat(t);break;case"userImage":a=ee(n);break;case"dataImage":a=e.url?ee(n):Object(Ye.a)();break;default:a=Object(Ye.a)()}return Promise.resolve(a)}),Je=n(804),$e=n(6),Qe=n(181),et=n(17),tt=n(8),nt=n(7),rt=n(64),ot=function(e){return function(){var t=e.submitterId,n="".concat(Object(ye.e)("contributorInfo"),"?contributorId=").concat(t);return Object(Me.a)({url:n,type:"GET",dataType:"json"}).then(function(t){return we.default.dispatch(xe.h,fe({assetId:e.id},t))})}},at=ot,it=n(543),ct=n(22);t.a=be,t.b=me,n.d(t,"c",function(){return dt}),n.d(t,"f",function(){return pt}),t.d=ve,n.d(t,"e",function(){return bt});var ut={editorImage:We,userImage:Ke,dataImage:Xe},lt="medium",st={},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.id.replace("sstk://image/",""),r=Object(Je.a)({realUrl:"",imageId:n,mediaSize:e}),o=r.url;if(o)return we.default.dispatch(xe.x,{id:n}),Promise.resolve(o);if(we.default.evaluate(ct.o).get("free_images")&&Object(it.a)("".concat(n),Oe.client.freeImages))return Object(Je.b)({mediaSize:e,imageId:n,editorialUseOnly:!0}).then(function(e){var t=e.url;return we.default.dispatch(xe.x,{id:n}),t}).catch(function(e){var t=e.message;e.message="complicensed: failed",e.trackjsMeta=[{key:"reason",value:t}]});var a=Object(ye.e)("userSubscriptions");return Me.a({cache:!1,data:{media_ids:[n]},dataType:"json",type:"GET",url:a}).then(function(e){var t=e.images2Redownloads;return(void 0===t?{}:t)[n]||{}}).then(function(e){var t=e.subId,r=e.license;return t&&we.default.dispatch(xe.x,{id:n}),{subId:t,license:r}}).then(function(t){var r=t.subId,o=t.license;return r?Object(Je.b)({mediaSize:e,imageId:n,subscriptionId:r,license:o,editorialUseOnly:!0}):{url:""}}).then(function(e){return e.url}).catch(function(e){var t=e.message;e.message="getLicensedAsset: failed",e.trackjsMeta=[{key:"reason",value:t}]})},dt=function(e,t){var n=!0,r=e.id.replace("sstk://image/",""),o=e.preview,a=Promise.resolve(),i=Object(ye.d)(o,!1,2).then(function(o){n&&(t(r,o,e.sourceImage,100),nt.b.track("asset_loaded_1500px",{time_since_navigation:Object(ye.k)()}))});return we.default.dispatch(xe.v),rt.a.isLoggedIn()&&(a=ft(lt,e).then(function(t){return""!==t&&(n=!1),ge(t,e,le)}).then(function(){return nt.b.track("asset_loaded_complete",{time_since_navigation:Object(ye.k)()})})),Promise.all([i,a]).then(function(){return we.default.dispatch(xe.u)}).catch(function(){return we.default.dispatch(xe.u)})},pt=function(e,t){if(!e.isPreview)return Promise.resolve();var n=e.id;return Object(ye.d)(e.fullUrl,!1,2).then(function(r){t(n,r,e.sourceImage),nt.b.track("asset_loaded_userImage full px",{time_since_navigation:Object(ye.k)()})})},ht=function(e){return function(){return ft(lt,e).then(function(t){return ge(t,e,le)})}},bt=function(){we.default.evaluate(ke.k.assets).forEach(function(e){"editorImage"!==e.get("type")||e.get("licensed")||Te.a(ht(e.toJS()))})}},function(e,t,n){"use strict";function r(e,t){return Boolean(o(e,t))}function o(e,t){var n=t[e];if(n){if(n.start&&n.end){var r=new Date(n.start),o=new Date(n.end),a=new Date;if(a>r&&a<o)return n;return}return n}}t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"uploadAndClose",function(){return a});var r=n(16),o=n(792);n.d(t,"uploadLocalFiles",function(){return o.a});var a=function(){o.a.apply(void 0,arguments),Object(r.b)()};t.default={uploadAndClose:a,addSDKUploadToCanvas:o.a}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r="SET_CUSTOM_DATA",o="ADD_TEMP_UPLOAD",a="DELETE_TEMP_UPLOAD"},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=a(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){c(u,r,o,a,i,"next",e)}function i(e){c(u,r,o,a,i,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=g();return function(){var n,r=v(e);if(t){var o=v(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return W});var O=n(0),S=n.n(O),w=n(5),j=n.n(w),T=n(557),E=n.n(T),C=n(21),k=n.n(C),x=n(100),P=n.n(x),_=n(190),I=n.n(_),N=n(15),M=n(547),A=n(7),R=n(366),D=n(70),L=n(25),G=n(376),B=n(1),F=n(392),z=n(18),U=n(19),H=/\W/g,W=function(e){function t(){var e,r;l(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),y(m(r),"uploadSuccess",function(e){r.props.onUploadComplete(null,e)}),y(m(r),"uploadFailure",function(e){if(e){var t=e.errorData,n=e.retryFunc;r.props.onUploadComplete(!0,t,function(){return n().then(r.uploadSuccess).catch(r.uploadFailure)})}}),y(m(r),"_sendFile",function(e,t,n){var o=n.fileName,a=n.tempId,i=void 0===a?null:a;return Object(D.ensureLoggedIn)().then(function(){return Object(F.c)(e,t,{fileName:o,tempId:i}).then(r.uploadSuccess).catch(r.uploadFailure)})}),y(m(r),"genFileTitle",function(e){return k()(r.props,"fileName",e.name.slice(0,e.name.lastIndexOf(".")).replace(H,"_"))}),y(m(r),"onUploadStart",function(e){r.props.onUploadStart&&r.props.onUploadStart(e),r.uploadFilesInit(e)}),y(m(r),"uploadError",function(e){r.props.onBlobLoad&&r.props.onBlobLoad(e,null),r.props.onUploadComplete&&r.props.onUploadComplete(e,null)}),y(m(r),"openPrompt",(e=r).openPrompt.bind(e)),y(m(r),"catchPosition",function(e){var t=document.querySelector(Object(z.i)(".cmpPanel-main")),n=t.getBoundingClientRect().right,r=e.clientX<n,o=Object(L.c)()===G.default;if(r||o)return void B.default.dispatch(R.e,null);var a={clientX:e.clientX,clientY:e.clientY};B.default.dispatch(R.e,a)}),r}d(t,e);var n=h(t);return f(t,[{key:"sendFile",value:function(e,t){var n=t.fileName,r=t.tempId,o=void 0===r?null:r;Object(F.a)(this._sendFile,this.props.route,e,{fileName:n,tempId:o}),Object(F.b)()}},{key:"processFile",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n,r,a,i,c,u,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props.validateFile,r=o(t),e.prev=2,r.s();case 4:if((a=r.n()).done){e.next=16;break}if(i=a.value,!n){e.next=14;break}return c=I.a.generate(),u=i,l=i.name,e.next=12,n(i,t.length,function(e){u=e,l=e.name});case 12:s=e.sent,s&&this.sendFile(u,{fileName:l,tempId:c});case 14:e.next=4;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),r.e(e.t0);case 21:return e.prev=21,r.f(),e.finish(21);case 24:case"end":return e.stop()}},e,this,[[2,18,21,24]])}));return e}()},{key:"processFileOnBlobLoad",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n,r,a,i,c,u,l,s,f,d,p,h,b,m,g,v,y,O,S,w,j,T,E=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=this.props,r=n.validateFile,a=n.onBlobLoad,i=n.onUploadComplete,c=[],u=[],l=0,s=["application/postscript","application/pdf"],f=o(t),e.prev=6,f.s();case 8:if((d=f.n()).done){e.next=36;break}if(p=d.value,"image/svg+xml"!==p.type){e.next=15;break}return M.a.create(Object.assign({svg:p.preview})),A.b.track("uploaded svg"),l++,e.abrupt("return");case 15:if(h=p.name.indexOf("cdr")>-1,b=s.indexOf(p.type)>-1,!(m=b||h)||!N.b.isEnabled("svg")){e.next=26;break}return g=p.fileName,v=I.a.generate(),y="epsUploader",O="string",Object(F.c)(Object(z.e)("tosvgstring"),p,{fileName:g,tempId:v,fileKey:y,dataType:O}).then(function(e){M.a.create(Object.assign({svg:e.responseText}))}),l++,e.abrupt("return");case 26:if(!r){e.next=34;break}return S=p.name,w=p,e.next=31,r(p,t.length,function(e){w=e,S=e.name});case 31:j=e.sent,T=I.a.generate(),j?c.push({tempId:T,fileObj:w,fileName:S}):u.push({fileObj:p,message:"validation error"});case 34:e.next=8;break;case 36:e.next=41;break;case 38:e.prev=38,e.t0=e.catch(6),f.e(e.t0);case 41:return e.prev=41,f.f(),e.finish(41);case 44:if(l!==t.length){e.next=46;break}return e.abrupt("return");case 46:c.length?(a&&a(null,c),i&&c.forEach(function(e){var t=e.fileObj,n=e.fileName,r=e.tempId;return E.sendFile(t,{fileName:n,tempId:r})})):a&&a(u,null);case 47:case"end":return e.stop()}},e,this,[[6,38,41,44]])}));return e}()},{key:"uploadFilesInit",value:function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,r=n.onDragLeave,o=n.onBlobLoad,P()(r)&&r(),!(t&&t.length>0)){e.next=10;break}if(!o){e.next=8;break}return e.next=6,this.processFileOnBlobLoad(t);case 6:e.next=10;break;case 8:return e.next=10,this.processFile(t);case 10:this.props.onClick&&this.props.onClick();case 11:case"end":return e.stop()}},e,this)}));return e}()},{key:"openPrompt",value:function(){var e=this;if(N.b.isEnabled("embed"))return this.refs.dropzone.open();Object(D.ensureLoggedIn)().then(function(){e.refs.dropzone.open()})}},{key:"onClick",value:function(){B.default.dispatch(U.D,!1)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.dropZoneClassName,r=e.labelClassName,o=e.multiple,a=e.maxSize,i=e.accept,c=e.onDragEnter,u=e.onDragLeave,l=e.children,s=e.id,f=e.dropZoneId,d=e.noLabel;return S.a.createElement("div",{id:s,className:t,onDrop:this.catchPosition,onClick:this.onClick},S.a.createElement(E.a,{ref:"dropzone",disableClick:!0,id:f,className:n,onDrop:this.onUploadStart,onDropRejected:this.uploadError,onDragEnter:c,onDragLeave:u,multiple:o,maxSize:a,accept:[].concat(i).join(",")}),!d&&S.a.createElement("label",{className:r,onClick:this.openPrompt},l))}}]),t}(O.PureComponent);y(W,"displayName","FileUploader"),y(W,"propTypes",{onBlobLoad:j.a.func,onUploadStart:j.a.func,onUploadComplete:j.a.func,maxSize:j.a.number,multiple:j.a.bool,accept:j.a.any,route:j.a.oneOfType([j.a.string,j.a.func]),id:j.a.string,className:j.a.string,dropZoneId:j.a.string,dropZoneClassName:j.a.string,labelClassName:j.a.string,validateFile:j.a.func,noLabel:j.a.bool,trackLabel:j.a.string}),y(W,"defaultProps",{multiple:!0,accept:[],dropZoneClassName:"dropzone",trackLabel:""})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=e.filter(function(e){var t=y.fabric.svgValidTagNamesRegEx.test(e.nodeName),n=t&&u(e),r=!y.fabric.svgValidParentsRegEx.test(e.nodeName),o=!y.fabric.svgInvalidAncestorsRegEx.test(e.nodeName);return t||E.b.track("Invalid Svg Feature",{type:"element",value:e.nodeName}),(!t||n)&&r&&o});return t&&t.length>0}function c(e){var t=[];if(!M[e.nodeName]){var n=y.fabric.util.getKlass(e.nodeName),r=n&&n.ATTRIBUTE_NAMES||y.fabric.util.getSvgAttributes(e.nodeName);M[e.nodeName]={},r.forEach(function(t){M[e.nodeName][t]=!0})}for(var o=0;o<e.attributes.length-1;o++){var a=e.attributes[o].name;M[e.nodeName][a]||(t.push(a),E.b.track("Invalid Svg Feature",{type:"attribute",attribute:a}))}return t}function u(e){return!!c(e).length}function l(e){return e=e.map(function(e){if("text"===e.type){var t=e.toObject();return t.type="editorTextBox",T.a.isValidFontFamily(t.fontFamily)||(t.fontFamily="Oswald"),new y.fabric.EditorTextBox(t.text,t)}return e}),Promise.all(e)}function s(e,t,n){for(var r,o,a=new Map,i=0;i<e.length;i++){r=e[i],o=r.parentNode;var c="none"===r.style.display;if(o&&a.get(o)&&!c?a.get(o).push(t[i]):o&&!c&&a.set(o,[t[i]]),i===e.length-1){return h(f(e,a),n)}}}function f(e,t){var n=e[0].ownerSVGElement,r=t.get(n)||[];return d(t,n.childNodes,r),p(r),r}function d(e,t,n){for(var r=t?t.length:0,o=0,a=0;o<r;o++,a++){var i=t[o];if("g"===i.nodeName){var c=e.get(i)||[];n.splice(a,0,c),d(e,i.childNodes,c)}else A.test(i.nodeName)&&a--}}function p(e){for(var t=e.length,n=0;n<t;n++){var r=e[n];if(Array.isArray(r)){for(var o=!0;1===r.length;)r=r[0];e[n]!==r&&(e.splice(n,1,r),Array.isArray(r)||(o=!1)),o&&(r.length?p(r):e.splice(n--,1))}}}function h(e,t){function n(e){for(var t=0;t<e.length;t++){var o=e[t];Array.isArray(o)&&(r.push({parent:e,parentIndex:t,arr:o}),n(o))}}var r=[{arr:e}];n(e);for(var a=Object(S.a)(),i=r.length-1;i>=0;i--){var c=r[i],u=c.arr,l=c.parent,s=c.parentIndex;if(0===i&&1===u.length&&"group"===u[0].type)return u[0];if(0===i)return new y.fabric.Group(u,o({id:Object(w.a)()},t));l[s]=new y.fabric.Group(u,{id:Object(w.a)(),canvas:a})}}var b=n(285),m=n.n(b),g=n(500),v=n.n(g),y=n(8),O=(n.n(y),n(149)),S=n(6),w=n(211),j=n(79),T=n(360),E=n(7),C=n(115),k=n(44),x=n(57),P=n(923),_=n(362),I=n(719),N=m()(I,_).defaults;t.a={create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.loadSvg(e.svg,e).then(function(t){return e.defaultHeightPercent=.5,x.b.scaleAndPlaceFabricObject(t,e)})},loadSvg:function(e,t){var n=N;return new Promise(function(r){(Object(P.a)(e)?y.fabric.loadSVGFromURL:y.fabric.loadSVGFromString)(e,function(e,o){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(e&&0===e.length)return void k.a.noticeError(new Error("loadSvgMethod returned 0 svg objects"));l(e).then(function(e){i(c)&&!t.ignoreRejectedFeatures&&Object(j.k)();var u={originX:"center",originY:"center"};if(e.forEach(function(e){var t=e.getCenterPoint();u.top=t.y,u.left=t.x,e.id=Object(w.a)(),e.name=e.type,e.nofill=!e.fill||e.fill===C.a,e.nofill&&(e.fill=C.a),e.strokeNofill=!e.stroke||e.stroke===C.a,e.strokeNofill&&(e.stroke=C.a),e.strokeDashArray=e.strokeDashArray||n.stroke.dashArray,e.shadow=e.shadow||new y.fabric.Shadow(n.shadow),v()(e,u)}),1===e.length)r(e[0]);else{delete o.width,delete o.height;var l=s(a,e,o);l.bindEditorEvents(O.a),r(l)}})})})}};var M={},A=/^(?:pattern|defs|symbol|metadata|clipPath|mask)$/i},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(t).filter(function(e){return-1!==o.a.prototype._styleProperties.indexOf(e)});Object(a.a)(e)?(e.setSelectionStyles(t),n.forEach(function(t){return e.cleanStyle(t)})):(e.set(t),"editorTextBox"===e.type&&(n.forEach(function(t){return e.removeStyle(t)}),n.forEach(function(t){return e.cleanStyle(t)})))}t.a=r;var o=n(283),a=n(672)},function(e,t,n){"use strict";function r(e){e.isEditing&&e.hiddenTextarea.focus()}t.a=r},,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return s});var i=n(24),c=(n.n(i),Object(i.makeStyles)(function(e){var t=e.palette;return{sstkTextColor:{"&&":{color:function(e){var n=e.color,r=e.palette;return r?r[n]:t.text[n]},fill:function(e){var n=e.color,r=e.palette;return r?r[n]:t.text[n]},fontWeight:function(e){return e.weight}}}}})),u=Object(i.makeStyles)({icon:{"&&":{top:"calc(50% - 16px)"}},menu:{marginTop:"10px",marginLeft:"-15px"}}),l={m:2.5},s=Object(i.makeStyles)(function(e){var t=e.dimension;return{basicButton:function(e){var n=e.blockLevel,r=e.size,a=n?{display:"flex",width:"100%"}:{},i=r?{minHeight:t(l[r])}:{};return o(o(o({},a),i),{},{fontSize:"14px",borderRadius:"20px",fontWeight:"bold"})},withBorder:{border:"1px solid"}}})},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r="SET_STATIC_CONFIG",o="SET_SDK_INFO",a="SET_SDK_ASSET_LOADING"},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return l});var r=n(1),o=n(121),a=n(386),i=function(e){return r.default.dispatch(a.b,e)},c=function(e){return r.default.dispatch(o.f,e)},u=function(e){return r.default.dispatch(a.c,e)},l=function(){return r.default.dispatch(a.a)}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(11),O=n(14),S=n(153),w=n(1),j=n(23),T=n(223),E=n(2),C=n(709),k=n.n(C),x=n(109),P=n(334),_=n(8),I=(n.n(_),n(102)),N=n(94),M=_.fabric.devicePixelRatio,A=Object(E.c)(k.a),R=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"state",{previews:[],activeIndex:0,previousIndex:-1}),h(f(r),"prev",(e=r).prev.bind(e)),h(f(r),"next",(e=r).next.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.width,r=t.height;this.pages=w.default.evaluate(O.n);var o=w.default.evaluate(O.a),a=this.pages.indexOf(o),i=new Array(this.pages.size),c={width:n*M,height:r*M};this.pages.forEach(function(t,n){i[n]={element:x.a.getElementCopyToFit(t,c,e.props.downloadPreview)}}),this.setState({previews:i,activeIndex:a,previousIndex:a-1}),this.props.bindKeyboardShortcut("left",this.prev),this.props.bindKeyboardShortcut("up",this.prev),this.props.bindKeyboardShortcut("right",this.next),this.props.bindKeyboardShortcut("down",this.next)}},{key:"componentWillUnmount",value:function(){this.props.unbindKeyboardShortcut("left",this.prev),this.props.unbindKeyboardShortcut("up",this.prev),this.props.unbindKeyboardShortcut("right",this.next),this.props.unbindKeyboardShortcut("down",this.next)}},{key:"prev",value:function(){if(this.canMoveLeft()){var e=this.state.activeIndex>0?this.state.activeIndex-1:0;this.setState({activeIndex:e,previousIndex:this.state.activeIndex}),this.props.downloadPreview&&S.a.selectPage(this.pages.getIn([e,"id"]))}}},{key:"next",value:function(){if(this.canMoveRight()){var e=this.state.previews.length-1,t=this.state.activeIndex<e?this.state.activeIndex+1:e;this.setState({activeIndex:t,previousIndex:this.state.activeIndex}),this.props.downloadPreview&&S.a.selectPage(this.pages.getIn([t,"id"]))}}},{key:"append",value:function(e,t){var n=t.element;e&&e.firstChild&&n!==e.firstChild&&(M&&(n.style.width="".concat(n.width/M,"px"),n.style.height="".concat(n.height/M,"px")),e.replaceChild(n,e.firstChild))}},{key:"canMoveLeft",value:function(){return this.state.activeIndex>0}},{key:"canMoveRight",value:function(){var e=this.state,t=e.previews;return e.activeIndex<t.length-1}},{key:"render",value:function(){var e=this,t=this.state,n=t.previews,r=t.activeIndex,o=t.previousIndex,a=n[r]||{width:1200,height:1200},i=n.length>1,c=this.props,u=c.downloadMultipageSelected,l=c.className,s=o>-1&&n[o],f=this.canMoveLeft()?"":"caret-invisible",d=this.canMoveRight()?"":"caret-invisible",p=Object(N.d)()?"ie11-caret-fix":"";return m.a.createElement("span",null,0===n.length&&m.a.createElement("div",{className:"download-preview-loader"},m.a.createElement("span",null,A("download-preview.loading"))),!!n.length&&m.a.createElement("div",{className:v()("download-preview-img-container",l)},i&&(this.props.downloadPreview?m.a.createElement("div",{className:v()("caret-column","prev",f,p),onClick:this.prev},m.a.createElement("div",{className:v()("caret-container",f)},m.a.createElement("div",{className:v()("preview-caret","sstk-icons-before","icon-chevron-left")}))):m.a.createElement("div",{className:v()("editor-carousel-prev",{"caret-invisible":!u||f}),onClick:this.prev},m.a.createElement(j.b,{name:"caret-left"}))),m.a.createElement("div",{className:"download-preview-img",draggable:"false",ref:function(t){e.append(t,a)}},m.a.createElement("div",null)),s&&m.a.createElement("div",{key:"k".concat(r),className:v()("download-preview-img","fade-out"),draggable:"false",ref:function(t){e.append(t,s)}},m.a.createElement("div",null)),i&&(this.props.downloadPreview?m.a.createElement("div",{className:v()("caret-column","next",d,p),onClick:this.next},m.a.createElement("div",{className:v()("caret-container",d)},m.a.createElement("div",{className:v()("preview-caret","sstk-icons-before","icon-chevron-right")}))):m.a.createElement("div",{className:v()("editor-carousel-next",{"caret-invisible":!u||d}),onClick:this.next},m.a.createElement(j.b,{name:"caret-right"})))))}}]),t}(b.PureComponent);h(R,"displayName","ThumbnailPreview"),h(R,"defaultProps",{width:P.a,height:P.a}),t.a=Object(y.a)(function(e){return{downloadMultipageSelected:T.a.downloadMultipageSelected(e)}})(Object(I.a)(R))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(4),O=n.n(y),S=n(716);t.a=function(e){var t,n;return n=t=function(t){function n(e){var t;o(this,n),t=r.call(this,e),h(f(t),"el",m.a.createRef()),h(f(t),"onTransitionEnd",function(){var e=t.props,n=e.onExpand,r=e.onCollapse;t.state.isCollapsing?(t.setState({expanded:!1,showExpandedChildren:!1,isCollapsing:!1}),r&&r()):(t.setState({isExpanding:!1,expanded:!0}),n&&n())});var a=e.expanded,i=e.height;return t.state={expanded:a||!1,showExpandedChildren:a||!1,isExpanding:!1,isCollapsing:!1,height:i||0},t}c(n,t);var r=l(n);return i(n,[{key:"componentDidMount",value:function(){this.transitionEndUnsubscribe=Object(S.a)(this.el.current,this.onTransitionEnd)}},{key:"componentWillUnmount",value:function(){Object(S.b)(this.el.current,this.transitionEndUnsubscribe)}},{key:"componentWillReceiveProps",value:function(e){var t=e.expanded,n=e.height,r=void 0===n?0:n;if(t!==this.state.expanded||r!==this.state.height){if(t&&"number"!=typeof r)throw new Error("Expandable must be provided a height when expanding");t?this.setState({isExpanding:!0,isCollapsing:!1,showExpandedChildren:!0,height:r}):this.setState({isCollapsing:!0,isExpanding:!1,height:r})}}},{key:"render",value:function(){var t=this.state,n=t.expanded,r=t.showExpandedChildren,o=t.isExpanding,a=t.isCollapsing,i=t.height;return m.a.createElement("div",{ref:this.el,className:O()("cmpExpandable",{expanded:n,"is-expanding":o,"is-collapsing":a}),style:{height:i}},r&&m.a.createElement(e,this.props))}}]),n}(b.PureComponent),h(t,"BaseComponent",e.BaseComponent||e),h(t,"propTypes",{expanded:v.a.bool.isRequired,height:v.a.oneOfType([v.a.number,v.a.string])}),n}},,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return f(e)||s(e,t)||u(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function f(e){if(Array.isArray(e))return e}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shape,n=e.allowColorCoercion,r="shape_line"===t?N:I;return Object(E.a)(t).then(function(a){var c=a.match(j.a),u=i(c,2),l=u[1],s=r.stroke.nofill;w()(e.strokeNofill)&&(s=e.strokeNofill);var f=r.color.nofill;w()(e.nofill)&&(f=e.nofill);var d=e.fill||r.color.fill,p=e.stroke||r.stroke.fill,h=new v.a(l,o(o({},e),{},{fill:d,name:t,nofill:f,strokeNofill:s,strokeWidth:e.strokeWidth||r.stroke.width,stroke:p,strokeDashArray:e.dashArray||r.stroke.dashArray,shadow:new T.fabric.Shadow(e.shadow||r.shadow)}));return n&&Object(C.a)(h),h.selectable=!("selectable"in e)||e.selectable,h.cornerStyle="cornerStyle"in e?e.cornerStyle:"circle",k.b.scaleAndPlaceFabricObject(h,o(o({},e),{},{defaultHeightPercent:r.heightPercent}))})}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach(function(t){b(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(7),g=n(1),v=n(848),y=n(285),O=n.n(y),S=n(1472),w=n.n(S),j=n(717),T=n(8),E=n(718),C=n(463),k=n(57),x=n(362),P=n(719),_=n(1473),I=O()(P,x).defaults,N=O()(_,x).defaults,M={create:d},A=n(22),R=n(16);t.a={selectShape:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=M.create(h({shape:e,position:t},n));return g.default.evaluate(A.h.isMobile)&&R.e.closeLeftPanel(),m.a.click("elementsPanel.addShape",{type:e}),r}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n.n(a),c=n(289),u=n.n(c),l=n(552),s=n(1678),f=function(e){var t=e.children,n=e.className,r=e.onClick,a=e.blockLevel,c=e.onClickTrack,f=e.size,d=Object(l.a)({blockLevel:a,size:f}),p=Object(s.a)(r,c);return o.a.createElement(u.a,{onClick:p,color:"primary",variant:"outlined",className:i()(d.basicButton,d.withBorder,n)},t)};t.a=f},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n(1),o=n(764),a=n(732),i=function(){return r.default.evaluate(o.a)},c=function(){return i()?Promise.resolve():new Promise(function(e,t){r.default.dispatch(a.b,{open:!0,onCancel:t,onSuccess:e})})}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(266),i=n.n(a),c=n(24),u=(n.n(c),n(81)),l=Object(c.makeStyles)({text:{fontSize:24}}),s=function(e){var t=e.title,n=l();return o.a.createElement(i.a,{mb:1.5},o.a.createElement(u.a,{className:n.text,weight:"bold"},t))};t.a=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=o(e).replace(/\\\*/g,"(.+?)").replace(/\\\?/g,".");return new RegExp("^".concat(t,"$"))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\".concat(t,"-]"),"g"),"\\$&")}function a(e){var t=c.parse(e);return!!i.find(function(e){return e.test(t.hostname||t.pathname)})}t.a=a;var i,c=n(1246);!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i=e.map(r)}(window.__whitelistedHosts)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(){var e=document.getElementById("app-container");if(!e)return setTimeout(r,10);Object(i.render)(a.a.createElement(c,null),e),u.b.on("wire.connect",function(){u.b.publish("error",{type:401,message:"your host is not authorized"})})}var o=n(0),a=n.n(o),i=n(59),c=function(){var e=document.getElementById("fake-app-container");return e&&e.parentNode.removeChild(e),a.a.createElement("div",{style:{background:"#fff",width:"100%",height:"100%",position:"absolute"}},a.a.createElement("p",{style:{fontFamily:"monospace",color:"#000"}},"Forbidden"))},u=n(180);t.a=r},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=Object(d.a)(window.location.href).query;if(e.embed&&e.embedconfig?O.embedConfig=JSON.parse(decodeURIComponent(e.embedconfig)):O.embedConfig={},e.embed&&e.excludeFeatures){var t=JSON.parse(decodeURIComponent(e.excludeFeatures));t.includes("shapes")&&t.push("elements"),O.excludedFeatures=t}else O.excludedFeatures=[];O.isMobileDevice=!!window.isMobileDevice,j&&(O.isMobileSize=document.defaultView.innerWidth<720),e.embed&&(O.isFeatureActive=o(o({},O.isFeatureActive),v));var n=Object(f.fromJS)(O);return n=n.set("navBarPanels",w),e.embed&&(n=u(n,"uploads",!0),n=u(n,"templates",!1),n=u(n,"assets",!1),n.get("excludedFeatures").forEach(function(e){n=u(n,e,!1)})),n}function c(e,t,n){return e.update("isFeatureActive",function(e){return e.set(t,n)})}function u(e,t,n){var r=e.get("navBarPanels").map(function(e){return e.id===t&&(e.enabled=n),e});return c(e.set("navBarPanels",r),t,n)}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case h.b:return c(e,r[0],r[1]);case h.d:return u(e,r[0],r[1]);case h.c:return e.set("maxPages",r);case h.a:return e.set("isMobileSize",r);case b.c:return e.merge(r);case b.b:return e.set("sdkInfo",r);default:return e}}var s=n(41),f=n(12),d=n(101),p=n(15),h=n(494),b=n(553),m=n(9),g={assets:!0,background_removal:!0,background_removal_notification:!0,canvas_resize:!0,custom_templates:!1,custom_uploads:!1,elements:!0,gradients:!0,opacity:!0,pages:!0,preset_size:!0,search:!0,shadow:!0,similar_images:!1,templates:!0,text:!0,filters:!0,uploads:!1,free_images:!0,safe_color_picker:!1},v={assets:!1,background_removal:!1,background_removal_notification:!1,templates:!1,uploads:!0,free_images:!1},y={isFeatureActive:g,fileFormat:"jpg",logo:!0,logoUrl:"/editor/image/assets/images/editor-logo.svg",hideCloseButton:!1,primaryActionText:"Download",overrideUploadHandler:!1,showPrimaryActionButton:!0,dpi:72,maxPages:12,rotation:{snap:45,threshold:5},shapeShadowMultiplier:5,textShadowMultiplier:.01,filterButton:{defaultHeight:123,defaultWidth:123},filterPanel:{defaultHeight:123,defaultWidth:123},addTextDefaultSize:{body:.03,subheadline:.06,headline:.12},imageObjectScaleThreshold:1.5,imageObjectLimit:99,fontWeight:{bold:700,regular:400},fontVariant:{italic:"italic",bold:"bold",boldItalic:"boldItalic"},minimumAllowedDimension:30,fontSize:{min:0,max:9999,predefined:[6,8,10,12,14,16,18,21,24,28,32,36,42,48,56,64,72,80,88,96,104,120,144]},strokePageMultiplier:3500,strokeTextMultiplier:1,availableStrokeWidths:[1,2,3,4,8,12,16,24,36,72],availableStrokeWidthsNext:[0,1,2,3,4,8,12,16,24,36,72],availableStrokeDashes:[[0,0],[1,1],[2,1],[3,1],[4,1],[5,1]],availablePresetColors:["#000000","#616161","#BDBDBD","#FFFFFF","#E43935","#EF534F","#EF9A9A","#FFCDD2","#EF6C00","#FB8D00","#FFA726","#FECC80","#FDD835","#FFEB3B","#FFF176","#FFF9C4","#388E3C","#4CAF50","#81C784","#C8E6C9","#1677D2","#2196F3","#64B5F6","#BBDEFB","#4527A0","#673AB7","#9575CD","#D1C4E9","#5D4037","#795548","#A1887F","#D7CCC8"],availablePresetColorsNext:["transparent","#FFFFFF","#DCDCDC","#B9B9B9","#969696","#505050","#323232","#000000","#BA0B0B","#E72525","#F47900","#ECA71E","#F1F12A","#AAE41A","#04D505","#04D5AB","#17E0E1","#09BBF6","#1E55F8","#0700FF","#7E02FF","#BF01FF","#EA06B2","#EA067C"],availablePresetColorsSafe:["transparent","#FFFFFF","#DCDCDC","#B9B9B9","#969696","#505050","#323232","#000000","#B32221","#DE302E","#E7832B","#EFAA23","#DBDA36","#98B541","#2DA63F","#55BDAA","#48BDC0","#43B9E7","#415CA7","#164595","#75619D","#783886","#A42982","#E1167B"],supportedFileFormats:["jpg","png","pdf","tiff","pdfv"],defaultCanvasBounds:{minimumWidth:5,maximumWidth:3500,minimumHeight:5,maximumHeight:3500},designs:{maxLength:191},shapeTypes:{outline:{stroke:"rgba(255, 255, 255, 1)",strokeWidth:72,nofill:!0,fill:"transparent",strokeNofill:!1},outlineFill:{stroke:"rgba(255, 255, 255, 1)",strokeNofill:!1,strokeWidth:36,fill:"rgba(155, 155, 155, 1)"}}},O=y,S=[{id:"search",icon:"image-placeholder",label:"paneltitle.search",panel:"SearchPanel",stepHighlightedBy:"get-inspired",controllingKey:"search",virtualPage:"editor-search",tracking:m._92,shortcut:"(S)",enabled:!0},{id:"preset_size",icon:"preset-sizes",label:"paneltitle.presetsizes",panel:"ResizePanel",controllingKey:"preset_size",virtualPage:"editor-presetSizes",tracking:m._71,shortcut:"(P)",enabled:!0},{id:"templates",icon:"templates",label:"paneltitle.templates",panel:"Templates",stepHighlightedBy:"get-inspired",controllingKey:"templates",virtualPage:"editor-templates",tracking:m._120,shortcut:"(T)",enabled:O.isFeatureActive.templates},{id:"custom_templates",icon:"templates",label:"paneltitle.templates",panel:"SdkTemplates",controllingKey:"templates",virtualPage:"editor-templates",tracking:m._120,shortcut:"(T)",enabled:O.isFeatureActive.custom_templates},{id:"text",icon:"text",label:"paneltitle.text",panel:"TextPanel",stepHighlightedBy:"start-designing",controllingKey:"text",virtualPage:"editor-text",tracking:m._128,shortcut:"(A)",enabled:!0},{id:"elements",icon:"elements",label:"paneltitle.elements",panel:"ElementPanel",controllingKey:"shapes",virtualPage:"editor-elements",tracking:m._3,shortcut:"(H)",enabled:!0},{id:"assets",icon:"assets",label:"paneltitle.assets",panel:"AssetsPanel",stepHighlightedBy:"start-designing",panelSize:"wide",controllingKey:"assets",virtualPage:"editor-myContent",tracking:m._42,shortcut:"(M)",enabled:!0},{id:"pages",icon:"pages",label:"paneltitle.pages",panel:"Page",virtualPage:"editor-pages",tracking:m._48,shortcut:"(G)",enabled:!0},{id:"uploads",icon:"uploads-icon",label:"paneltitle.my-uploads",panel:"MyUploads",shortcut:"(U)",tracking:m._42,enabled:O.isFeatureActive.uploads},{id:"custom_uploads",icon:"uploads-icon",label:"paneltitle.my-uploads",panel:"SdkUploadsPanel",shortcut:"(U)",tracking:m._42,enabled:O.isFeatureActive.custom_uploads}],w=S,j=p.b.isMobileModeAvailable();Object(s.a)({config:l})},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r="SET_FLAG",o="RESET_FLAGS"},function(e,t,n){"use strict";function r(e){return"number"!=typeof e&&(e=99),e%100/100}function o(e){return u(e)||c(e)||i(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=t.featureName,r=t.value;return e.set(n,!!r)}function f(e){var t=m()(window,["identity","guid"]),n=Object(y.a)(window),r=m()(window,["editor","integration","featureFlags"],{}),o=T.getFlagOverrides(t,n,r);return e.merge(Object(h.fromJS)(o))}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case E.b:return s(e,r);case E.a:return f(e);case g.k:return r.loggedIn?f(e):e;default:return e}}var p=n(41),h=n(12),b=n(21),m=n.n(b),g=n(19),v=n(7),y=n(812),O=n(29),S=n(813),w=n.n(S),j={onboarding:!0,testCorruptedImageOnDownload:!1,ignoreImageObjectLimit:!1,autotesting_disableAnimationEntry:!1,sstkdebug:O.client.debug,suggest:!1,debug_nogl:!1,benchmark:!1,preview:!1,backgrounds:!1,loginRequired:!1,backgroundRemove:!0,autoSave:!0,svg:!1,svgexamples:!1,nocors:!1,gradient:!1,ftue:!0,contributorInfo:!1,unwatermark:!0,desktop:!1,flyer:!1,universalLicensor:!0,next:!0},T={getFeatureRolloutPercentages:function(){return m()(window,"featureRolloutPercentages")},getFlagOverrides:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r(e),i=this.getFeatureRolloutPercentages();return w()([].concat(o(Object.keys(t)),o(Object.keys(n)),o(Object.keys(j)),o(O.client.featureKeys))).reduce(function(e,r){if(void 0!==t[r])return e[r]=t[r],e;if(void 0!==n[r])return e[r]=n[r],e;if(!1===j[r])return e[r]=!1,e;e[r]=!1;var o=m()(i,r,1);return a<o&&(e[r]=!0),e},{})}},E=n(652),C=Object(h.fromJS)({});if("undefined"!=typeof window){var k=Object(y.a)(window),x=m()(window,["editor","integration","featureFlags"],{}),P=m()(window,["identity","guid"]),_=T.getFlagOverrides(P,k,x);v.b.register(_),C=Object(h.fromJS)(_)}Object(p.a)({FeatureFlag:d})},,,,,,,function(e,t,n){"use strict";var r=n(21),o=n.n(r);t.a=o()(window,"identity.visitorId")},,function(e,t,n){"use strict";function r(e){return e.map(function(e){return e.updateIn(["data"],function(e){return e.objects&&(e.objects=e.objects.filter(Boolean)),e})})}t.a=r},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SAVE_GENERATED_PREVIEWS"},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o});var r="INTEGRATION_INIT",o="INTEGRATION_SET_DATA"},,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var r=1200,o=1200},function(e,t){e.exports={defaultId:0,builtin:[{label:"Original",labelKey:"preset.original",id:0},{label:"Facebook Image",labelKey:"preset.facebookimage",id:1,width:1200,height:1200,controllingKey:"facebookimage",trackingKey:"facebookImage",icon:"facebook"},{label:"Facebook Link",labelKey:"preset.facebooklink",id:2,width:1200,height:627,trackingKey:"facebookLink",icon:"facebook"},{label:"Facebook Cover",labelKey:"preset.facebookcover",id:3,width:820,height:312,trackingKey:"facebookCover",icon:"facebook"},{label:"Facebook Mobile Cover",labelKey:"preset.facebookcovermobile",id:322,width:640,height:360,trackingKey:"facebookCoverMobile",icon:"facebook"},{label:"Facebook Story",labelKey:"preset.facebookstory",id:13,width:1080,height:1920,trackingKey:"facebookStory",icon:"facebook"},{label:"Instagram Story",labelKey:"preset.instragramstory",id:409,width:1080,height:1920,trackingKey:"instagramStory",icon:"instagram"},{label:"Instagram Post",labelKey:"preset.instragrampost",id:4,width:1080,height:1080,trackingKey:"instagramPost",icon:"instagram"},{label:"Twitter Post",labelKey:"preset.twitterpost",id:5,width:1024,height:512,trackingKey:"twitterPost",icon:"twitter"},{label:"Twitter Banner",labelKey:"preset.twitterbanner",id:6,width:1500,height:500,trackingKey:"twitterBanner",icon:"twitter"},{label:"Pinterest Post",labelKey:"preset.pinterest-post",id:7,width:736,height:1128,controllingKey:"pinterest-post",trackingKey:"pinterestPost",icon:"pinterest"},{label:"Email Header",labelKey:"preset.emailheader",id:8,width:600,height:300,trackingKey:"emailHeader",icon:"print-ebook"},{label:"Presentation",labelKey:"preset.presentation",id:9,width:1024,height:768,trackingKey:"presentation",icon:"print-ebook"},{label:"Presentation Wide",labelKey:"preset.presentationwide",id:10,width:1920,height:1080,trackingKey:"presentationWide",icon:"print-ebook"},{label:"E-book Cover",labelKey:"preset.ebook-cover",id:11,width:1600,height:2400,trackingKey:"ebookCover",icon:"print-ebook"},{label:"LinkedIn Post",labelKey:"preset.linkedinpost",id:12,width:1200,height:627,trackingKey:"linkedIn",icon:"linkedin"},{label:"Brochure Cover (A4)",labelKey:"preset.brochurecover",id:16,width:2490,height:3510,trackingKey:"brochure",icon:"print-ebook"},{label:"Business Card",labelKey:"preset.businesscard",id:171,width:1050,height:600,trackingKey:"businessCard",icon:"print-ebook"},{label:"Postcard",labelKey:"preset.postcard",id:17,width:1500,height:2100,trackingKey:"postcard",icon:"print-ebook"},{label:"Photo print",labelKey:"preset.photoprint",id:18,width:1200,height:1800,trackingKey:"photoprint",icon:"print-ebook"},{label:"Coupon",labelKey:"preset.coupon",id:189,width:1800,height:750,trackingKey:"coupon",icon:"print-ebook"},{label:"Gift Certificate",labelKey:"preset.giftcertificate",id:183,width:2400,height:1125,trackingKey:"giftCertificate",icon:"print-ebook"},{label:"Flyer",labelKey:"preset.flyer",id:283,width:2550,height:3300,trackingKey:"flyer",icon:"print-ebook"},{label:"Certificate",labelKey:"preset.certificate",id:287,width:3300,height:2550,trackingKey:"certificate",icon:"print-ebook"},{label:"YouTube Profile Image",labelKey:"preset.youtubeprofilepimage",id:19,width:800,height:800,trackingKey:"youtubeprofilepimage",icon:"youtube"},{label:"YouTube Channel Art",labelKey:"preset.youtubechannelart",id:20,width:2560,height:1440,trackingKey:"youtubechannelart",icon:"youtube"}]}},function(e,t,n){"use strict";n.d(t,"k",function(){return r}),n.d(t,"j",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"p",function(){return c}),n.d(t,"g",function(){return u}),n.d(t,"o",function(){return l}),n.d(t,"f",function(){return s}),n.d(t,"m",function(){return f}),n.d(t,"n",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"c",function(){return b}),n.d(t,"b",function(){return m}),n.d(t,"i",function(){return g}),n.d(t,"a",function(){return v});var r="OPEN_RIGHT_PANEL",o="OPEN_LEFT_PANEL",a="CLOSE_RIGHT_PANEL",i="CLOSE_LEFT_PANEL",c="RIGHT_PANEL_OPENED",u="LEFT_PANEL_OPENED",l="RIGHT_PANEL_CLOSED",s="LEFT_PANEL_CLOSED",f="PLACEHOLDER_PANEL",d="PLACEHOLDER_UPPER_PANEL",p="PANELS_OVERLAY",h="NAVBAR_VISIBLE",b="CLOSE_BOTTOM_PANEL",m="BOTTOM_PANEL_OPENED",g="OPEN_BOTTOM_PANEL",v="BOTTOM_PANEL_CLOSED"},,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n,r=t.staticData;if("string"===r.dataType)n=o({responseText:e.target.response},r);else{var a=JSON.parse(e.target.response),i=a.data,c=void 0===i?{}:i,u=a.included,l=void 0===u?{}:u;n=o(o({},c),{},{included:l},r)}return s.a.resolve(n)}function c(e,t){var n,r,a=t.xhrOptions,i=t.formData,c=t.staticData;n=e.target&&e.target.responseText?e.target.responseText:"NO RESPONSE TEXT PROVIDED",r=e.target&&e.target.status?e.target.status:"NO STATUS PROVIDED";var l=o({res:n,status:r},c),f=new Error("rejecting xhrFormReq");return s.a.reject(Object.assign(f,{aborted:e.aborted,retryFunc:u.bind(null,a,i,c),errorData:l}))}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};document&&"function"==typeof document.execCommand&&document.execCommand("ClearAuthenticationCache","false"),"string"==typeof e&&(e={route:e});var r=new FormData;return Object.keys(t).forEach(function(e){if(t[e]instanceof Blob&&!(t[e]instanceof File)){var o="image/png"===t[e].type?"png":"jpg";r.append(e,t[e],"thumbnail.".concat(o))}else{var a=n.fileKey||e;r.append(a,t[e])}}),Object(f.b)(o({withCredentials:!0},e),r).then(function(e){return i(e,{staticData:n})}).catch(function(r){return c(r,{xhrOptions:e,formData:t,staticData:n})})}t.a=u;var l=n(157),s=n.n(l),f=n(43)},function(e,t,n){"use strict";function r(e){return Object(o.a)(e)&&e.selectionStart!==e.selectionEnd}t.a=r;var o=n(673)},function(e,t,n){"use strict";function r(e){return"editorTextBox"===e.type}t.a=r},function(e,t,n){"use strict";function r(e,t){return A()(e,t)}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return u(e)||c(e)||f(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return d(e)}function l(e,t){return h(e)||p(e,t)||f(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function h(e){if(Array.isArray(e))return e}function b(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){b(c,r,o,a,i,"next",e)}function i(e){b(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function g(e,t){return v.apply(this,arguments)}function v(){return v=m(regeneratorRuntime.mark(function e(t,n){var i,c,u,s,f,d,p,h,b,m,v,y,O,S,w,j,T;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.filters&&t.filters.slice(0),c=n.filters&&n.filters.slice(0),!n.objects){e.next=14;break}return f=n.objects,d=[],p=[],f.forEach(function(e){var n=t._objects.find(function(t){return t.id===e.id});n?p.push(g(n,e)):d.push(e)}),e.next=9,Promise.all(d.length?Object(N.a)(d):[],Promise.all(p));case 9:h=e.sent,b=l(h,1),m=b[0],v=void 0===m?[]:m,(s=t._objects).push.apply(s,a(v));case 14:if(t.maskUrl!==n.maskUrl&&(u=!0),t.saveState({propertySet:"cacheProperties"}),k()(t,n),t.group||t.setCoords(),delete t.objects,delete t.clipPathObject,delete t.filters,t.hasStateChanged("cacheProperties")&&t.set("dirty",!0),!(t instanceof I.a)){e.next=27;break}return n.styles&&(t.styles=P()(n.styles)),n.lineStyles&&(t.lineStyles=P()(n.lineStyles)),t._splitTextIntoLines(t.text),e.abrupt("return");case 27:if(t.shadow&&(y=!!t.shadow.toObject,O=y&&t.shadow.toObject()||t.shadow,t.shadow=new _.fabric.Shadow(O)),["fill","stroke","textBackgroundColor"].forEach(function(e){"object"!==o(t[e])||t[e]instanceof _.fabric.Gradient||!(t[e]&&"linear"===t[e].type||t[e]&&"radial"===t[e].type)||(t[e]=new _.fabric.Gradient(t[e]))}),t instanceof _.fabric.Image){e.next=31;break}return e.abrupt("return");case 31:if(S=t.clippingPath,w=S?S.pathString:"",j=n.clipPathObject,T=j?j.pathString:"",w!==T&&(t.clippingPath=T?new _.fabric.Path(T,j):null),!u){e.next=44;break}if(!t.maskUrl){e.next=43;break}return e.next=40,Object(R.a)(t.maskUrl).then(function(e){return t.maskImage=e,Object(D.a)(t._unMaskedElement,e)});case 40:t._originalElement=e.sent,e.next=44;break;case 43:t._originalElement=t._unMaskedElement;case 44:if(!r(i.map(function(e){return e.toObject()}),c)){e.next=48;break}if(t.filters=i,u){e.next=48;break}return e.abrupt("return");case 48:return e.abrupt("return",new Promise(function(e){_.fabric.Image.prototype._initFilters.call(t,c,function(n){t._element=t._originalElement,t.filters=n||[],t.applyFilters(),e()})}));case 49:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function y(e,t){return T(e)||j(e,t)||S(e,t)||O()}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(e){if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function T(e){if(Array.isArray(e))return e}function E(e,t){var n=[],r=[];return t.forEach(function(t){var o=e.find(function(e){return e.id===t.id});o?n.push(g(o,t)):r.push(t)}),Promise.all([r.length?Object(N.a)(r):[]].concat(n)).then(function(e){var t=y(e,1),n=t[0];return void 0===n?[]:n})}var C=n(77),k=n.n(C),x=n(659),P=n.n(x),_=n(8),I=n(283),N=n(464),M=n(174),A=n.n(M),R=n(18),D=n(470);t.a=E},function(e,t,n){"use strict";function r(e,t,n){return"".concat(e,"-").concat(t,"-").concat(n).replace(/\s+/g,"")}t.a=r},,function(e,t,n){"use strict";function r(e){var t=c.fabric.util.createCanvasElement();t.height=d,t.width=f;var n=t.getContext("2d");return n.font="".concat(f,"px anyFont normal normal"),n.textBaseline="alphabetic",n.fillText(e,0,f),t}function o(e){var t=c.fabric.util.createCanvasElement();t.height=s,t.width=1.5*s;var n=t.getContext("2d");n.drawImage(e,0,0,e.width,e.height);for(var r=2;r<=p;r*=2){var o=h[r/2],a=h[r];n.drawImage(t,o.x,o.y,o.w,o.h,a.x,a.y,a.w,a.h)}return t}function a(e){for(var t=s,n=1;t/2>e&&n<p;)n*=2,t/=2;return h[n]}function i(e){return new Promise(function(t){var n=new Image;n.crossOrigin="anonymous",n.onload=function(){n.width=s,n.height=s,t(o(n))},n.onerror=function(){t(r(e))},Object(l.d)()?n.src=Object(u.b)(e):n.src=Object(u.c)(e)})}n.d(t,"a",function(){return s}),t.c=a,t.b=i;var c=n(8),u=(n.n(c),n(538)),l=n(94),s=(n(490),512),f=160,d=200,p=32,h=function(){for(var e={1:{x:0,y:0,w:s,h:s}},t=2;t<=p;t*=2)e[t]={x:s,y:s-2*s/t,w:s/t,h:s/t};return e}()},function(e,t,n){"use strict";e.exports={action:{page:{"no-more-page_plural":"Shutterstock Editor currently supports up to __MAXPAGEAMOUNT__ pages per design."}},"flash-message":{"background-image":"You must have a background image in order to apply a filter on your canvas.","design-copied":'A copy of your design has been saved in the <span style="text-decoration:underline;">design panel</span>.',"design-deleted":"Design has been deleted.","delete-upload":"Image has been deleted.","error-message":{failed:"Oops! Looks like one or more of your images failed to upload, please check the <u>uploads panel</u> and try again."},"fit-canvas":"The canvas has been updated to fit the image size (__WIDTH__px x __HEIGHT__px)","ie11-intel-driver-problem":"Your computer has an old graphics driver that stops downloads from working in IE 11. Please access Editor with a different browser or try updating your drivers.","missing-fonts":"Oops! Looks like there was an issue with one or more of your fonts. We've replaced the font automatically.","not-licensable-vector":"Sorry, the image you have chosen is not currently supported by Shutterstock Editor.  Please select another image to continue.","rejected-svg-features":"Shutterstock Editor does not currently support all the features in this SVG and you design may appear incorrect.","shared-design":"Any edits you make will not alter the original design shared with you."},search:{"max-images-full":"Looks like you're trying to add more images to your design. <span style=\"font-weight:bold;\">We're sorry, Editor only supports up to __IMAGE_LIMIT__ images at this time.</span>"},upload:{"error-message":{failed:"Oops! Looks like one or more of your images failed to upload, please check the <u>uploads panel</u> and try again.","file-size":"Shutterstock Editor only supports files up to __FILESIZE_LIMIT__MB. Choose a file that is less than __FILESIZE_LIMIT__MB to proceed.","file-type":"Shutterstock Editor only supports uploads of .jpg and .png files. Please select a .jpg or .png file to proceed.",limit:"Shutterstock Editor currently allows up to __MAX_UPLOADS__ uploaded files. To upload more files, remove the ones you no longer need."},"image-low-quality":"The image `__FILENAME__` you added to the canvas may be of low quality when published or downloaded"},upsell:{toast:{upgrade:"Upgrade"}},onboarding:{toast:{showme:"Show me"}}}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=h();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=n(0),v=n.n(g),y=n(11),O=n(133),S=n(456),w=n(822),j=n(4),T=n.n(j),E=n(163),C=n(2),k=n(158),x=n.n(k),P=n(23),_=n(450),I=n(131),N=n(70),M=n(9),A=n(7),R=Object(C.c)(x.a),D=function(e){function t(){var e,r;i(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return r=n.call.apply(n,[this].concat(a)),m(p(r),"state",{label:r.props.preset.label||"",width:r.props.preset.width,height:r.props.preset.height,labelError:"",activeIndex:1,dimensionsError:!1}),m(p(r),"onLabelChange",function(e){var t=Object(_.a)(e.target.value);r.setState({label:t,labelError:e.target.value?"":R("preset.errors.enter-preset-name")})}),m(p(r),"onCancel",(e=r).onCancel.bind(e)),m(p(r),"onSave",(e=r).onSave.bind(e)),m(p(r),"onConfirm",(e=r).onConfirm.bind(e)),r}l(t,e);var n=f(t);return u(t,[{key:"onLabelFocus",value:function(){A.a.click(M._65)}},{key:"onCancel",value:function(){var e=this.props.reject;A.a.click(M._62),e&&e()}},{key:"onSave",value:function(){var e=this,t=this.props,n=t.resolve,r=t.preset;return A.a.click(M._66),N.ensureLoggedIn().then(function(){if(!e.state.dimensionsError&&!e.state.labelError){var t={height:Number(e.state.height),width:Number(e.state.width),label:e.state.label};if(r.id)I.g.updateCustomPreset(r.id,t),t.id=r.id;else{var o=I.g.addCustomPreset(t);t.id=o.get("id")}I.g.applyPreset(t),n()}})}},{key:"renderSaveInterface",value:function(){var e=this.state,t=e.labelError,n=e.label;return v.a.createElement("div",null,v.a.createElement("div",{className:"flex-row"},v.a.createElement("div",{className:T()("cmpField","cmpTextInput")},v.a.createElement("input",{type:"text",name:"preset-name",placeholder:R("presetsizes.entername"),onChange:this.onLabelChange,value:n,onFocus:this.onLabelFocus}),!!t&&v.a.createElement(P.b,{name:"field-error"}),!!t&&v.a.createElement("ul",{className:"cmpFieldErrors"},t))),v.a.createElement("div",{className:"flex-row actions"},v.a.createElement("button",{onClick:this.onSave,name:"save",className:"btn btn-default preset-save-btn"},R("action.save"))),v.a.createElement("div",{className:"flex-row actions"},v.a.createElement("button",{className:"cancel-button",name:"cancel",onClick:this.onCancel},R("action.cancel"))))}},{key:"onConfirm",value:function(e){var t=e.width,n=e.height,r=e.dimensionsError;this.setState({width:t,height:n,dimensionsError:r})}},{key:"render",value:function(){var e=this.props,t=e.displayUnits,n=e.currentUnitsToPx,r=e.pxToCurrentUnits,o=e.preset,i=e.reject,c=e.style,u=void 0===c?{}:c,l=e.title,s=e.label;return v.a.createElement(O.a,{id:"modal-resize-dropdown",style:a(a({},u),{},{width:402}),title:R("presetsizes.saveaspreset"),iconName:"edit-rename",className:"cmpResizeModal",reject:i},v.a.createElement(S.a,{title:l||R("presetsizes.saveaspreset"),message:s||R("presetsizes.set-custom-size-label")}),v.a.createElement(w.a,{onConfirm:this.onConfirm,presetWidth:o.width,presetHeight:o.height,locked:!1,displayUnits:t,convertFunc:r,convertFuncReverse:n}),this.renderSaveInterface())}}]),t}(g.PureComponent);t.a=Object(y.a)(function(e){return{currentUnitsToPx:E.b.currentUnitsToPx(e),pxToCurrentUnits:E.b.pxToCurrentUnits(e)}})(D)},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="UPDATE_CAPABILITY"},function(e,t,n){"use strict";function r(e,t){var n=t.imageId,r=o.default.evaluate(a.b.cachedPreviews),p=r.find(function(e){return e.type===t.widget&&e.imageId===n});if(p)return Promise.resolve(p.previews);var h,b,m=o.default.evaluate(a.b.filterPreview),g=i.a.get([t.widget,"defaultWidth"])*c.fabric.devicePixelRatio,v=i.a.get([t.widget,"defaultHeight"])*c.fabric.devicePixelRatio,y=document.createElement("canvas");e instanceof HTMLCanvasElement?(h=e.width,b=e.height):(h=e.naturalWidth,b=e.naturalHeight);var O=Object(u.a)();if(O.filterBackend){var S=d;if(O.filterBackend.supportsWebGL&&(g<S||v<S)){var w=Math.max(S/g,S/v);g*=w,v*=w}}var j=g/h,T=v/b;y.width=g,y.height=v;var E=0,C=0,k=g,x=v;j>T?(x=b*j,C=(v-x)/2):(k=h*T,E=(g-k)/2),y.getContext("2d").drawImage(e,E,C,k,x);var P=m.toArray().map(function(e){var t=y.cloneNode(),r=t.getContext("2d");return r.setTransform(1,0,0,1,0,0),r.drawImage(y,0,0),{id:e.get("id"),filterImage:t,label:e.get("label"),labelKey:e.get("labelKey"),selected:"nofilter"===e.get("id"),imageId:n}}),_=O.getObjects().filter(function(e){return e instanceof c.fabric.Image}).map(function(e){return e.imageId}).concat([n]),I=O.getBackgroundImage();return null!=I&&null!=I.imageId&&_.push(I.imageId),o.default.dispatch(l.a,{imageId:n,previews:P,widget:t.widget,fabricObjectIds:_}),Object(s.a)(f.a.bind(null,n)),Promise.resolve(P)}t.a=r;var o=n(1),a=n(271),i=n(212),c=n(8),u=(n.n(c),n(6)),l=n(664),s=n(284),f=n(704),d=256},function(e,t,n){"use strict";function r(e){var t=Object(c.a)(),n=o.default.evaluate(a.b.buttonPreviewsById(e)).previews;if(n.length){var r=n[0].filterImage,l=new i.fabric.UserImage(r,{imageId:"previews.jpg",canvas:t});n.forEach(function(e){"nofilter"!==e.id&&(l.filters=[u.a[e.id]],l.applyFilters(),e.filterImage.getContext("2d").drawImage(l._element,0,0))}),l.dispose()}}t.a=r;var o=n(1),a=n(271),i=n(8),c=(n.n(i),n(6)),u=n(501)},function(e,t){e.exports={defaults:{color:{fill:"rgba(0, 0, 0, 1)"},stroke:{enabled:!1,fill:"rgba(255, 255, 255, 0)",nofill:!0},font:{baseUrl:"/editor/image/assets/fonts",id:"Lato-Regular",familyName:"Lato",variants:["bold","italic","boldItalic"],url:"/Lato/Lato-Regular.ttf"},justify:"left",fontSize:16,lineHeight:1,letterSpace:0,html:"Add Text",textCursorPosition:0,textBackgroundColorNofill:!0},headlineFont:{baseUrl:"/editor/image/assets/fonts",id:"Oswald",familyName:"Oswald",variants:["bold"],url:"/Oswald/Oswald-Regular.ttf"},subHeadlineFont:{baseUrl:"/editor/image/assets/fonts",id:"Lato-Regular",familyName:"Lato",variants:["bold","italic","boldItalic"],url:"/Lato/Lato-Regular.ttf"},bodyTextFont:{baseUrl:"/editor/image/assets/fonts",id:"PT Sans",familyName:"PT Sans",variants:["bold","italic","boldItalic"],url:"/PT Sans/PT_Sans-Web-Regular.ttf"}}},function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var r="SHOW_CUSTOM_PRESETS",o="REQUEST_DELETE_CUSTOM_PRESET",a="SET_LOCK_RATIO"},function(e,t,n){"use strict";function r(e,t){var n={height:e.naturalHeight||e.height,width:e.naturalWidth||e.width},r=t.strokeWidth;t.strokeWidth=0;var o={width:t.getScaledWidth(),height:t.getScaledHeight()};t.strokeWidth=r;var a=i.fabric.util.findScaleToCover(n,o);n.scaleX=a,n.scaleY=a,n.angle=t.angle;var c=o.width/e.width;return o.height/e.height>c?(n.cropX=(e.width-o.width/a)/2,n.width=o.width/a):(n.cropY=(e.height-o.height/a)/2,n.height=o.height/a),n}function o(e){if(!e)return null;var t={x:e.x,y:e.y};return Object(a.a)().getObjects().find(function(e){return(!0===e.isPlaceholder||e.processed)&&e.containsPoint(t,null,!0)})}t.a=r,t.b=o;var a=n(6),i=n(8);n.n(i)},function(e,t,n){"use strict";function r(e,t){return l.b.createPreviews(t,{imageId:e,widget:"filterButton",imageKey:"".concat(e,"_").concat(t.width,"_").concat(t.height)})}n.d(t,"a",function(){return b}),n.d(t,"c",function(){return m});var o=n(118),a=n(12),i=n.n(a),c=n(14),u=n(1),l=n(122),s=n(18),f=n(43),d=n(255),p=function(e){return Object(f.a)({url:"".concat(Object(s.e)("mediaImages")),data:{ids:e},dataType:"json"}).then(function(e){Object(d.a)(e)}).catch(function(){return{}})},h=function(e){var t=[],n=[],a=Promise.resolve();return e.forEach(function(e){var a=e.imageId;a&&t.push(function(){return o.a.getLoadedAsset({type:e.type,url:e.src,id:a},!0).then(function(e){return r(a,e.sourceImage)})}),a&&Object(d.c)(a)&&"editorImage"===e.type&&-1===n.indexOf(a)&&n.push(a)}),n.length&&(a=p(n)),a.then(function(){return Promise.all(t.map(function(e){return e()}))})},b=function(e){var t=u.default.evaluate(["doc","fabric","pages"]),n=t.find(function(t){return t.get("id")===e}),r=n.getIn(["data","objects"],i.a.List()),o=[];return r.forEach(function(e){e.get("imageId")&&o.push({type:e.get("type"),src:e.get("src"),imageId:e.get("imageId")})}),h(o)},m=function(e){var t=u.default.evaluate(["doc","fabric","pages"]),n=t.find(function(t){return t.get("id")===e});return!!n&&(n&&n.getIn(["data","objects"],i.a.List())).some(function(e){return!!e.get("imageId")&&!Object(c.g)(e.get("imageId"))})};t.b={prefetchMetadata:p,assetPreloader:h,assetPreloaderFromStateByPageId:b,needsPreload:m}},function(e,t,n){"use strict";e.exports={"download-preview":{preview:"Preview",loading:"Loading preview..."},pages:{"download-all":"Download all pages"}}},,function(e,t,n){"use strict";n.d(t,"b",function(){return u});var r=n(33),o=Object(r.a)(["onboardingTour"]),a=Object(r.a)(o.concat(["tourInitialized"])),i=Object(r.a)(o.concat(["tourSeen"])),c=Object(r.a)(o.concat(["activeTourStep"])),u=Object(r.a)(o.concat(["tourInProgress"])),l=Object(r.a)(o.concat(["activeGradientTourStep"]));t.a={onboardingTour:o,tourInitialized:a,tourSeen:i,activeTourStep:c,isActive:u,activeGradientTourStep:l}},,,,,function(e,t,n){"use strict";function r(e,t){var n=a(e),r=function(e){return e.target===n&&t(e),!1};return n.addEventListener(i,r),r}function o(e,t){var n=a(e);n&&!n.removeEventListener||n.removeEventListener(i,t)}function a(e){return"string"==typeof e&&document.getElementById(e)||e}t.a=r,t.b=o;var i="transitionend"},function(e,t,n){"use strict";var r=/\<path.+d\=(?:\"|\')(.+?)(?:\"|\')(?:.+?)\>/;t.a=r},function(e,t,n){"use strict";function r(e){return Object(o.a)(function(){return n(1454)("./".concat(e,".svg"))})}t.a=r;var o=n(382)},function(e,t){e.exports={defaults:{width:500,height:500,heightPercent:.2,stroke:{fill:"transparent",nofill:!0}}}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return y});var h=n(0),b=n.n(h),m=n(226),g=(n.n(m),n(4)),v=n.n(g),y=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.activeIndex,r=t.length?t[n]:null,o=r?r.props.containerClassName:"";return r&&b.a.createElement(m.TransitionGroup,{className:v()("cmpTabs-contents",o)},b.a.createElement(m.CSSTransition,{component:"div",classNames:"activeTabTransition",timeout:{enter:100,exit:0}},r))||null}}]),t}(h.PureComponent)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=T();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var C=n(0),k=n.n(C),x=function(e){var t=e.tabCount,n=e.activeIndex;return k.a.createElement("div",{className:"cmpTabs-blue-line",style:{width:"calc(100% / ".concat(t,")"),transform:"translateX(".concat(100*n,"%)")}})};x.displayName="BlueLine";var P=x,_=n(4),I=n.n(_),N=n(38),M=n(7),A=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"onTabClick",(e=r).onTabClick.bind(e)),h(f(r),"refControllerCallback",N.a.refControllerCallback.bind(f(r))),r}c(t,e);var n=l(t);return i(t,[{key:"onTabClick",value:function(){var e=this.props,t=e.onClick,n=e.index,r=e.tabId,o=e.trackLabel;o&&M.a.click(o),t&&t(n,r)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.active,r=e.tabCount,o=e.label;return k.a.createElement("div",{ref:this.refControllerCallback,className:I()("cmpTabs-label",t,{active:n}),style:{width:"calc(100% / ".concat(r,")")},onClick:this.onTabClick},o)}}]),t}(C.PureComponent);n.d(t,"a",function(){return R});var R=function(e){function t(){return m(this,t),n.apply(this,arguments)}y(t,e);var n=S(t);return v(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.activeIndex,r=e.onClick,o=t.length;return k.a.createElement("div",{className:"cmpTabs-labels"},k.a.Children.toArray(t).map(function(e,t){return k.a.createElement(A,{controllingKey:e.props.controllingKey,key:e.props.tabId,label:e.props.tabLabel,active:t===n,index:t,tabId:e.props.tabId,className:e.props.tabClassName,tabCount:o,onClick:r,trackLabel:e.props.trackLabel||null})}),k.a.createElement(P,{activeIndex:n,tabCount:o}))}}]),t}(C.PureComponent)},function(e,t,n){"use strict";var r=n(94),o=function(e){if(e.dataTransfer&&e.dataTransfer.types){var t=e.dataTransfer.types,n="undefined"!=typeof DOMStringList&&t instanceof DOMStringList;if(!Array.isArray(t)&&!n)return!1;if(0===t.length)return!1;if(1===t.length&&"application/json"===t[0])return!1;var o;return o=Object(r.d)()?"Text":Object(r.b)()?"text/plain":"dragfromapp",n?!t.contains(o):-1===t.indexOf(o)}return!0};t.a=o},function(e,t,n){"use strict";function r(e){var t=Object(o.withRouter)(e);return t.BaseComponent=e.BaseComponent||e,t.displayName=e.displayName||"RouterDecorator",t}t.a=r;var o=n(506);n.n(o)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=T();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=n(4),x=n.n(k),P=n(0),_=n.n(P),I=n(5),N=n.n(I),M=n(155),A=n(127),R=n(2),D=n(725),L=n.n(D),G=n(77),B=n.n(G),F=n(68),z=n.n(F),U=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"onClickHandler",(e=r).onClickHandler.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"onClickHandler",value:function(){var e=this.props.onClick;e&&e()}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.type,r=e.label,o=e.className,a=e["data-tip"],i=e["data-class"],c=e["data-for"];return _.a.createElement("span",{className:x()("cmpPill",n,o),onClick:this.onClickHandler,title:t,"data-tip":a,"data-for":c,"data-class":i},r)}}]),t}(P.PureComponent);h(U,"displayName","Pill"),h(U,"propTypes",{type:N.a.string,label:N.a.string}),h(U,"defaultProps",{type:"info"});n.d(t,"a",function(){return W});var H=Object(R.c)(B()(L.a,z.a)),W=function(e){function t(){var e,r;m(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),C(j(r),"handleClick",(e=r).handleClick.bind(e)),C(j(r),"handleCanvasDrop",(e=r).handleCanvasDrop.bind(e)),r}y(t,e);var n=S(t);return v(t,[{key:"handleClick",value:function(e){1!==e.button&&(e.preventDefault(),this.handleCanvasDrop())}},{key:"handleCanvasDrop",value:function(){var e=this.props;(0,e.onClick)(e.template.id)}},{key:"renderFreeIcon",value:function(){return _.a.createElement(U,{className:"freeIcon",type:"tag",label:H("free")})}},{key:"render",value:function(){var e=this.props,t=e.fadeOnce,n=e.noShrink,r=e.template,o=e.styles,a=e.showFreeIcon,i=void 0===a||a,c=e.checkerboard,u=void 0===c||c,l=x()("cmpTemplateGroupItem ".concat(this.props.className||""));return _.a.createElement("a",{href:"/editor/template/".concat(r.id),onClick:this.handleClick,className:l},_.a.createElement(M.a,{key:r.id,style:o,setData:{text:""},onCanvasDrop:this.handleCanvasDrop,className:"hoverable"},_.a.createElement(A.a,{fadeOnce:t,noShrink:n,alt:"preview",className:"gray-border",src:r.thumbnail,checkerboard:u}),i&&r.isFree&&this.renderFreeIcon()))}}]),t}(P.PureComponent);C(W,"displayName","TemplateGroupItem"),C(W,"propTypes",{fadeOnce:N.a.bool,noShrink:N.a.bool,template:N.a.object,onClick:N.a.func,t:N.a.func})},function(e,t,n){"use strict";e.exports={image:{dimensions:"__WIDTH__ x __HEIGHT__ px"},free:"Free",templates:{"hover-expand":"Click to see more templates","panel-header":"Select a template",by:"by <1>{contributorName}</1>","import-template":"Import template"}}},,,function(e,t,n){"use strict";e.exports={action:{cancel:"Cancel"},languageselect:{apply:"Apply"},shortcutmenu:{title:"Keyboard shortcuts",globalshortcuts:"Global shortcuts",designshortcuts:"Design shortcuts"}}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return I});var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(23),O=n(48),S=n(159),w=n(127),j=n(260),T=n(155),E=n(2),C=n(215),k=n.n(C),x=n(38),P=n(9),_=Object(E.c)(k.a),I=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"lightboxMenu",[{label:"",iconName:"down-arrow",actionName:"close"},{label:_("lightbox.delete"),iconName:"delete",actionName:"delete",clickTrack:P.B}]),h(f(r),"handleClick",(e=r).handleClick.bind(e)),h(f(r),"onItemClick",function(e,t){var n=r.props.toggleContextMenu;e.preventDefault(),e.stopPropagation(),n(-1),"delete"===t&&r.showDeleteModal()}),h(f(r),"openContextMenu",function(e){e.stopPropagation(),e.preventDefault();var t=r.props;(0,t.toggleContextMenu)(t.id)}),h(f(r),"dropImageOnCanvas",(e=r).dropImageOnCanvas.bind(e)),h(f(r),"refControllerCallback",x.a.refControllerCallback.bind(f(r))),r}c(t,e);var n=l(t);return i(t,[{key:"handleClick",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(1!==e.button){e.preventDefault&&e.preventDefault();var t=this.props,n=t.preview.link,r=t.id,o=t.contributorID,a=t.vector,i=t.description,c=t.preview,u=t.isSmallVector,l=t.toggleContextMenu,s=t.onClick;l(-1),j.c({id:r,preview:c,vector:a,contributorID:o,description:i,src:n,isSmallVector:u},"lightbox"),s&&s()}}},{key:"showDeleteModal",value:function(){var e=this.props,t=e.results,n=e.id,r=t.get("id");O.a.showModal({modal:"DeleteFromLightboxModal",actionFunction:function(){Object(S.c)(r,n)}})}},{key:"drawContextMenu",value:function(){var e=this;return this.lightboxMenu.map(function(t){return m.a.createElement("button",{key:"context-".concat(t.label),onClick:function(n){e.onItemClick(n,t.actionName)},title:t.label,"data-track":t.clickTrack},m.a.createElement(y.b,{name:t.iconName}),t.label)})}},{key:"dropImageOnCanvas",value:function(e){var t=this.props,n=t.id,r=t.preview,o=t.vector,a=t.description,i=t.contributorID,c=t.isSmallVector;j.a({id:n,preview:r,src:r.link,vector:o,description:a,contributorID:i,position:e,isSmallVector:c},"lightbox")}},{key:"render",value:function(){var e=this.props,t=e.actualWidth,n=e.actualHeight,r=e.preview,o=e.id,a=e.openMenuId,i=a===o?"isOpen":"";return m.a.createElement("a",{href:"/search/".concat(o),onClick:this.handleClick,"data-track":P.D,ref:this.refControllerCallback},m.a.createElement(T.a,{style:{height:n,width:t},setData:{text:""},effectAllowed:"copy",className:"cmpLightboxResultsImageItem hoverable",title:_("search.result-label"),onCanvasDrop:this.dropImageOnCanvas},m.a.createElement(w.a,{className:"LightboxResultsImageItem",alt:"lightbox result image preview",src:r.link},m.a.createElement("div",{className:"lightbox-hover"},m.a.createElement("div",{className:"lightbox-image-menu",onClick:this.openContextMenu},m.a.createElement(y.b,{name:"down-arrow"}))),m.a.createElement("div",{className:v()("".concat(i," context-menu"))},this.drawContextMenu()))))}}]),t}(b.PureComponent);h(I,"displayName","LightboxResultsImageItem")},function(e,t,n){"use strict";e.exports={assetpanel:{"collections-tab":"Collections","designs-tab":"Designs","uploads-tab":"Uploads"},collection:{"create-new":"Create New","logout-message":"Collections you create will appear here.","total-item-count":"__TOTAL_COUNT__ Collection","total-item-count_plural":"__TOTAL_COUNT__ Collections"}}},function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return f});var r=n(33),o=n(49),a=Object(r.a)(["AssetsPanel"]),i=Object(r.a)(a.concat(["initializing"])),c=Object(r.a)(a.concat(["loading"])),u=Object(r.a)(a.concat(["pending"])),l=Object(r.a)(a.concat(["error"])),s=Object(r.a)(a.concat(["sections"])),f=Object(r.a)(s,o.a,function(e,t){return e&&e.findIndex(function(e){return e===t})});t.b={panel:a,initializing:i,loading:c,pending:u,error:l,sections:s,activeSectionIndex:f}},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a});var r="SET_LOGGED_IN",o="SET_LOGIN_MODAL",a="SET_USER_DATA"},,,function(e,t,n){"use strict";function r(e){var t=m.default.evaluate(b.k.activePage),n=e.left/t.get("width"),r=e.top/t.get("height"),o={left:0,top:0},a=Math.max(y,e.height*e.scaleY),i=Math.max(y,e.width*e.scaleX);if(e.left&&e.top){var c=g,u=v,l=Math.max(y,a*u),s=Math.max(y,i*c),f=e.left+i,d=e.left/n,p=f+s;o.left=p<=d?e.left+s:e.left-s;var h=e.top+a,O=e.top/r,S=h+l;o.top=S<=O?e.top+l:e.top-l}return o}function o(e){return u(e)||c(e)||i(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){var t=Object(p.a)(),n=t.getActiveObject();if(n){if(Object(T.c)(n))return;var r=m.default.evaluate(w.G).filter(function(e){return"editorImage"===e.type});if(r.length>0&&Object(j.d)(!1,r.length))return;d(n,e)}}function f(e){e.forEach(function(e){e.id=Object(h.a)(),e._objects&&f(e._objects)})}function d(e,t){var n=r(e),a=n.top,i=n.left;return e.clone(function(e){e.top=a,e.left=i,f([e]);var n=Object(p.a)();n._discardActiveObject(),"activeSelection"===e.type?(e.canvas=n,e.setCoords(),n.add.apply(n,o(e._objects))):("group"===e.type&&e.bindEditorEvents(E.a),n.add(e)),n._setActiveObject(e),e.isLocked&&Object(C.c)(e),n.fire("save"),n.requestRenderAll(),S()(t)&&t(e)})}var p=n(6),h=n(211),b=n(14),m=n(1),g=.05,v=.075,y=10,O=n(100),S=n.n(O),w=n(17),j=n(154),T=n(80),E=n(149),C=n(523);t.a=s},function(e,t,n){"use strict";function r(e){return"editorPath"===e.type}function o(e){return"editorImage"===e.type}function a(e,t){t.forEach(function(t){var n;Object(l.a)(t)?n=s.Text:r(t)?n=s.Shape:o(t)&&(n=s.Image),null!=n&&f.a.click("toolbar.delete",{source:e,type:n})})}var i=n(1),c=n(14),u=n(6),l=n(673),s={Image:"Image",Text:"Text",Shape:"Shape",Selection:"Selection"},f=n(7),d=n(110),p=n(19),h=n(9),b=n(479),m={};m.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h._131,n=Object(u.a)(),r=n.getActiveObjects();if(0!==r.length){var o=n.stopRendering;n.stopRendering=!0,1===r.length&&r[0]===n.getBackgroundImage()&&i.default.dispatch(d.k,{id:0}),n.discardActiveObject(),r.forEach(function(e){e.group=null,n.remove(e)}),n.stopRendering=o,e&&a(t,r),i.default.dispatch(p.j,{pageId:i.default.evaluate(c.d),objectIds:r.map(function(e){return e.id})}),i.default.dispatch(p.M,{loadedTimeStamp:Date.now()}),e&&Object(b.a)()}};t.a=m},,function(e,t,n){"use strict";function r(e){e&&(e.focus(),e.select())}function o(e){if(!e)return!1;var t=getComputedStyle(e);return!!(["input","textarea"].includes(e.tagName&&e.tagName.toLowerCase())&&t.width.replace("px","")>0&&t.height.replace("px","")>0&&"none"!==t.display&&"_clipboard"!==e.id)}t.a=r,t.b=o},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=String.fromCharCode("8203")},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(762),i=n.n(a),c=n(24),u=(n.n(c),n(1667)),l=i()(u.a),s=function(e){var t=e.children,n=e.theme,r=void 0===n?l:n;return o.a.createElement(c.ThemeProvider,{theme:r},t)};t.a=s},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return c});var r=function(e){return e.get("user")},o=function(e){return r(e).get("isLoggedIn")},a=function(e){return r(e).get("loginModal")},i=function(e){return r(e).get("userData")},c=function(e){return i(e).isEnterprise}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(0),c=n(37),u=n(762),l=n.n(u),s=n(285),f=n.n(s),d=n(194),p=n.n(d),h=n(1679),b=n(1667),m=n(1635),g=f()({palette:{type:"dark",primary:{main:"#ffffff"},accent:{main:"#43B9D3",secondary:"#ffb300",contrastText:"#FFFFFF",secondaryContrastText:"#000000"},contextBar:{main:"#3E454F",textPalette:{primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.70)",disabled:"rgba(255, 255, 255, 0.50)",dividers:"rgba(255, 255, 255, 0.12)"}},header:{main:"#292F38",contrastText:"rgba(255, 255, 255, 0.5)"},text:{primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.70)",disabled:"rgba(255, 255, 255, 0.50)",dividers:"rgba(255, 255, 255, 0.12)",link:"#43B9D3",error:"#F8422D"},overlay:{main:"#0C121C"},border:{main:"rgba(255, 255, 255, 0.12)"},background:{paper:"#3E454F",main:"rgba(255, 255, 255, 0.12)",secondary:"rgba(255, 255, 255, 0.70)",disabled:"rgba(12, 18, 28, 0.38)",scrim:"rgba(22,25,30,0.7)"},doneButton:{main:"#F54336",contrastText:"#ffffff"},ruler:{rulerColor:"transparent",tickColor:"rgba(255, 255, 255, 0.12)",labelColor:"rgba(255, 255, 255, 0.70)",cornerSquareColor:"rgba(255, 255, 255, 0.12)"},primaryActionButton:{main:"#F54336",contrastText:"#ffffff"},navButton:{main:"#292F38",contrastText:"#ffffff"},pageLoading:{color:"#fff",scrim:"rgba(12, 18, 28, 0.6)"},paperLoading:{color:"#ffffff"}}},m.a);n.d(t,"a",function(){return j}),n.d(t,"b",function(){return w});var v=function(e){return p()(e).getLuminance()<.5?"#FFFFFF":"#000000"},y=function(e){var t=p()(e).getLuminance(),n=b.a;return t<.5&&(n=g),n},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseTheme,n=e.doneButtonColor,r=e.accentColor,a=e.navButtonColor,i=e.toolbarColor,c=e.primaryActionColor,u=e.primaryActionButtonColor,l=y(i?i:t.palette.contextBar.main),s=l.palette.text;if(n||a||r||i||c||u){var f=n?{doneButton:{main:n,contrastText:v(n)},primaryActionButton:{main:n,contrastText:v(n)}}:{},d={};(c||u)&&(d={primaryActionButton:{main:u,contrastText:c||v(u)}});var p=a?{navButton:{main:a,contrastText:v(a)}}:{},h=r?{accent:{main:r,contrastText:v(r)}}:{},b=i?{contextBar:{main:i,textPalette:o(o({},s),r?{link:r}:{})}}:{};return o(o({},t),{},{palette:o(o(o(o(o(o(o({},t.palette),f),d),p),b),h),{},{text:o(o({},t.palette.text),r?{link:r}:{})})})}return t},S=function(e){var t=Object(c.useSelector)(h.b),n=Object(c.useSelector)(h.a),r=Object(c.useSelector)(h.d),o=Object(c.useSelector)(h.g),a=Object(c.useSelector)(h.f),u=Object(c.useSelector)(h.e);return Object(i.useMemo)(function(){return O({baseTheme:e,doneButtonColor:t,accentColor:n,navButtonColor:r,toolbarColor:o,primaryActionColor:a,primaryActionButtonColor:u})},[t,n,r,e,o,a,u])},w=function(){var e=Object(c.useSelector)(h.h),t=S("light"===e?b.a:g);return Object(i.useMemo)(function(){return l()(t)},[t,e])},j=function(){var e=Object(c.useSelector)(h.c),t=e?y(e):g,n=S(t);return Object(i.useMemo)(function(){return e?l()(f()({palette:{header:{main:e}}},n)):l()(n)},[e,n])}},,,function(e,t,n){"use strict";n.d(t,"e",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"j",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"i",function(){return s}),n.d(t,"h",function(){return f}),n.d(t,"b",function(){return d}),n.d(t,"g",function(){return p});var r="SET_ELIGIBILITY_FINISHED",o="SET_EDITORIAL_USE_ONLY",a="SET_EDITORIAL_USE_ONLY_CHECKED",i="SET_ELIGIBILITY_INFO",c="CLEAR_ELIGIBILITY_INFO",u="SET_TOS",l="TOS_CHECKBOX",s="SET_LICENSING_DONE",f="SET_IMAGE_QUALITY",d="SELECTED_IMAGE_FROM_REEL",p="SET_IMAGES_TO_LICENSE"},,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return k});var b=n(12),m=n.n(b),g=n(354),v=n.n(g),y=n(77),O=n.n(y),S=n(174),w=n.n(S),j=n(100),T=n.n(j),E=1,C=m.a.Stack([]),k=function(e){function t(e){var r;return o(this,t),r=n.call(this),h(f(r),"takeSnapshot",function(e){var t=r.getSnapshot();r.compareSnapshots(r.undoStack.peek(),t)&&!e||(r.getRedoLength()>0&&r.resetRedoStack(),r.undoStack=r.undoStack.push(t),r.emit("historyChanged"))}),h(f(r),"loadSnapshot",function(e){var t=e.get("state"),n=r._getIgnoredState(r.reactor.state);r.modifierKeyPaths.forEach(function(e){var n=e.keyPath,o=e.callBack;t.hasIn(n)&&(t=o(r.getState(),t))});var o=r.reactor.state,a=r.snapshotFields.reduce(function(e,a){if(T()(a)&&(a=m.a.fromJS(a(r.reactor.state))),!t.getIn(a))return e;var i=r.reactor.state.getIn(a),c=t.getIn(a);if(n.hasIn(a)){var u=r._getIgnoredValues(n.getIn(a).setSize(c.size));c=c.map(function(e,t){return e.merge(u.get(t))})}return o=o.setIn(a,c),e.setIn(a,m.a.Map({before:i,after:c}))},m.a.Map());return r.reactor.state=o,r.emit("historyChanged"),a}),r.setMaxListeners(E),r.enabled=!0,r.undoStack=C,r.redoStack=C,r.snapshotFields=m.a.List([]),r.excludedSnapshotArrayFields=m.a.List([]),r.excludedSnapshotComparisonFields=m.a.List([]),r.reactor=e,r.modifierKeyPaths=m.a.List(),r.isolatedStacks=C,r}c(t,e);var n=l(t);return i(t,[{key:"startUndoIsolation",value:function(){this.redoStack=C,this.isolatedStacks=this.isolatedStacks.push(this.undoStack),this.emit("historyChanged")}},{key:"commitIsolation",value:function(){var e=this.undoStack.peek();this.exitIsolation()&&(this.undoStack=this.undoStack.push(e)),this.emit("historyChanged")}},{key:"cancelIsolation",value:function(){this.exitIsolation();var e=this.undoStack.peek();this.loadSnapshot(e),this.emit("historyChanged")}},{key:"exitIsolation",value:function(){if(0===this.isolatedStacks.size)return 0;var e=this.undoStack.size,t=this.isolatedStacks.peek(),n=t.size;return this.undoStack=t,this.redoStack=C,this.isolatedStacks=this.isolatedStacks.pop(),n-e}},{key:"getUndoSnapshot",value:function(){return this.undoStack.peek()}},{key:"getUndoLength",value:function(){var e=this.isolatedStacks.peek();return e?this.undoStack.size-e.size:this.undoStack.size}},{key:"getRedoLength",value:function(){return this.redoStack.size}},{key:"resetUndoStack",value:function(){this.undoStack=C,this.emit("historyChanged")}},{key:"resetRedoStack",value:function(){this.redoStack=C,this.emit("historyChanged")}},{key:"includeKeyPathInSnapshots",value:function(e){this.snapshotFields=this.snapshotFields.push(Array.isArray(e)?m.a.fromJS(e):e)}},{key:"modifySnapshotBeforeLoad",value:function(e,t){this.modifierKeyPaths=this.modifierKeyPaths.push({keyPath:e,callBack:t})}},{key:"excludeKeyPathArrayInSnapshots",value:function(e,t){this.excludedSnapshotArrayFields=this.excludedSnapshotArrayFields.push(m.a.fromJS([e,t]))}},{key:"excludeKeyPathInSnapshotComparisons",value:function(e){this.excludedSnapshotComparisonFields=this.excludedSnapshotComparisonFields.push(e)}},{key:"diffSnapshots",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"stack",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"snapshot";if(e&&t){var o=[];return O()(t.toJS(),e.toJS(),function(e,t,a){if(!w()(e,t)&&Object(e)!==e){var i;o.push((i={key:a},h(i,n,t),h(i,r,e),i))}}),O()(e.toJS(),t.toJS(),function(e,t,a){if(!w()(e,t)&&Object(e)!==e){var i;o.push((i={key:a},h(i,n,e),h(i,r,t),i))}}),o}}},{key:"compareSnapshots",value:function(e,t){var n=e,r=t;return this.excludedSnapshotComparisonFields.forEach(function(e){n&&(n=n.deleteIn(e)),r&&(r=r.deleteIn(e))}),m.a.is(n,r)}},{key:"replaceSnapshot",value:function(){if(this.enabled&&this.getUndoLength()>0){var e=this.getSnapshot();this.undoStack=this.undoStack.pop(),this.undoStack=this.undoStack.push(e),this.emit("historyChanged")}}},{key:"popSnapshot",value:function(){this.enabled&&this.getUndoLength()>0&&(this.undoStack=this.undoStack.pop(),this.emit("historyChanged"))}},{key:"getSnapshot",value:function(){return m.a.Map({state:this.getState()})}},{key:"getState",value:function(){var e=this,t=this.snapshotFields.reduce(function(t,n){return T()(n)&&(n=m.a.fromJS(n(e.reactor.state))),t.setIn(n,e.reactor.evaluate(n.toArray()))},m.a.Map());return this._removeExcludedFields(t)}},{key:"undo",value:function(){if(this.enabled&&this.getUndoLength()>1){var e=this.getSnapshot();this.redoStack=this.redoStack.push(e),this.undoStack=this.undoStack.pop();var t=this.undoStack.peek();return this.loadSnapshot(t)}}},{key:"redo",value:function(){if(this.enabled&&this.getRedoLength()>0){var e=this.redoStack.peek();return this.undoStack=this.undoStack.push(e),this.redoStack=this.redoStack.pop(),this.loadSnapshot(e)}}},{key:"_removeExcludedFields",value:function(e){return this.excludedSnapshotArrayFields.forEach(function(t){var n=t.get(0),r=t.get(1);e=e.updateIn(n,function(e){return e.map(function(e){return e.deleteIn(r)})})}),e}},{key:"_getIgnoredState",value:function(e){return this.excludedSnapshotArrayFields.reduce(function(t,n){var r=n.get(0),o=n.get(1),a=t.getIn(r)||m.a.Map(),i=e.getIn(r).map(function(e,t){return e.hasIn(o)?a.get(t,m.a.Map()).setIn(o,e.getIn(o)):a.get(t,m.a.Map())},m.a.List());return t.setIn(r,i)},m.a.Map())}},{key:"_getIgnoredValues",value:function(e){return e.filter(function(e){return e})}}]),t}(v.a)},function(e,t){e.exports='<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><polygon fill-rule="evenodd" points="20 5.9998 20 20 6 20 6 22 22 22 22 5.9998"></polygon><path fill-rule="evenodd" d="m2 18v-16h16v16h-16zm2-2h12.001v-12h-12.001v12z"></path><polygon fill-rule="evenodd" points="11 6 9 6 9 9 6 9 6 11 9 11 9 14 11 14 11 11 14 11 14 9 11 9"></polygon></svg>'},function(e,t,n){"use strict";var r=function(e){var t=document.createElement("textarea");t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.width="2em",t.style.height="2em",t.style.padding=0,t.style.border="none",t.style.outline="none",t.style.boxShadow="none",t.style.background="transparent",t.value=e,document.body.appendChild(t),t.select();try{var n=document.execCommand("copy");return document.body.removeChild(t),!!n}catch(e){return document.body.removeChild(t),!1}};t.a={copy:r}},function(e,t,n){"use strict";function r(e){return e.updateIn(["state","pages"],function(e){return e.map(function(e){return e.set("selected",!1)})}).updateIn(["state","doc","fabric","pages"],function(e){return e.map(function(e){return e.delete("selected")})})}n.d(t,"b",function(){return u}),t.a=r,n.d(t,"c",function(){return l});var o=n(539),a=n(29),i=(n.n(a),n(662)),c=n(39),u=[["state","panel"],["state","presets"],["state","DesignsPanel"],["state","doc","fabricTimeStamp"]],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(o.a)(c.a.getSnapshot(),u);return t=r(t),t=t.updateIn(["state","doc","fabric","pages"],i.a),t=t.merge({version:a.client.design.version,defaultsVersion:a.client.design.defaultsVersion,title:e})}},function(e,t,n){"use strict";var r=n(0),o=(n.n(r),n(514)),a=n.n(o),i=function(e,t){Object(r.useEffect)(function(){return a.a.bind(e,t),function(){return a.a.unbind(e)}},[e,t])};t.a=i},,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(18),v=n(102),y=n(4),O=n.n(y),S=n(15),w=n(831),j=n(832),T=["space"],E=["shift"],C=["z"],k=0,x=2,P=.1,_=S.b.isEnabled("fast-pan")?1:10,I=Object(g.p)()||Object(g.o)()?"grabCursorIE":"grabCursor",N=Object(g.p)()||Object(g.o)()?"grabbingCursorIE":"grabbingCursor",M=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"state",{cursorClass:""}),h(f(r),"canvasElement",m.a.createRef()),h(f(r),"handleFingerDrag",r.handleFingerDrag.bind(f(r))),h(f(r),"endFingerDrag",r.endFingerDrag.bind(f(r))),h(f(r),"bindFabricEvents",function(){r.props.fabricCanvas.on("mouse:wheel",r.onMouseWheel)}),h(f(r),"startDraggingMode",function(){var e=r.props.fabricCanvas,t=r.props.onStartDrag;return!e.isDragging&&!e.isCropping&&(e.isDragging=!0,r.currentDrawMode=e.isDrawingMode,e.isDrawingMode=!1,r.setState({cursorClass:I}),r.props.unbindKeyboardShortcut(T,r.startDraggingMode,"keydown"),e.on("mouse:move",r.mouseMove),e.on("mouse:down",r.captureDragStart),e.on("mouse:up",r.resetGrabHand),e.selection=!1,t&&t(),!1)}),h(f(r),"endDraggingMode",function(){var e=r.props,t=e.fabricCanvas,n=e.onEndDrag;return t.isDragging=!1,t.isDrawingMode=r.currentDrawMode,r.setState({cursorClass:""}),r.props.bindKeyboardShortcut(T,r.startDraggingMode,"keydown"),t.off("mouse:move",r.mouseMove),t.off("mouse:down",r.captureDragStart),t.off("mouse:up",r.resetGrabHand),t.selection=!0,r.lastMouseLeft=null,r.lastMouseTop=null,n&&n(),!1}),h(f(r),"endLockMovement",function(){var e=r.props.fabricCanvas,t=e.getActiveObject();(t?[t]:e.getObjects()).forEach(function(t){t.shiftPressCache&&(e.moveCursor="move",t.lockMovementX=!1,t.lockMovementY=!1,t.shiftPressCache&&delete t.shiftPressCache)})}),h(f(r),"resetGrabHand",function(){r.setState({cursorClass:I})}),h(f(r),"startZoomMode",function(){var e=r.props,t=e.fabricCanvas,n=e.onStartDrag;return!t.isZooming&&!t.isCropping&&(t.isZooming=!0,r.setState({cursorClass:"zoomInCursor"}),r.props.unbindKeyboardShortcut(C,r.startZoomMode,"keydown"),t.on("mouse:move",r.mouseMove),t.on("mouse:down",r.captureDragStart),t.on("mouse:up",r.setZoom),n&&n(),!1)}),h(f(r),"endZoomMode",function(){var e=r.props,t=e.fabricCanvas,n=e.onEndDrag;return t.isZooming=!1,r.setState({cursorClass:""}),r.props.bindKeyboardShortcut(C,r.startZoomMode,"keydown"),t.off("mouse:move",r.mouseMove),t.off("mouse:up",r.setZoom),r.lastMouseLeft=null,r.lastMouseTop=null,n&&n(),!1}),h(f(r),"unbindFabricEvents",function(){return r.props.fabricCanvas.off()}),h(f(r),"captureDragStart",r.captureDragStart.bind(f(r))),h(f(r),"setZoom",function(e){var t,n=e.e,o=r.props.fabricCanvas,a=e.pointer,i=!1;if(n.button===k){r.setState({cursorClass:"zoomInCursor"});var c=r.startDragPoint;c.x!==a.x&&c.y!==a.y?(t=r.zoomHelpers.calculateZoomFactorByArea(c,a),a.x=(c.x+a.x)/2,a.y=(c.y+a.y)/2,i=!0):t=1+P}else n.button===x&&(r.setState({cursorClass:"zoomOutCursor"}),t=1-P);if(r.zoomHelpers.zoomCanvas(t,a.x,a.y,!1,!0)){if(i){var u=o.getZoom(),l=o.restorePointerVpt(a),s=r.zoomHelpers.centerViewportOnPoint(l,u);o.viewportTransform=r.zoomHelpers.costrainViewport(s.x,s.y,o.getZoom())}r.zoomHelpers.handleZoomAndPanChange(o)}}),h(f(r),"mouseMove",r.mouseMove.bind(f(r))),h(f(r),"onMouseWheel",(e=r).onMouseWheel.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"componentDidMount",value:function(){this.zoomHelpers=this.props.zoomHelpers,this.bindFabricEvents();var e=this.props,t=e.bindKeyboardShortcut,n=e.fabricCanvas;t(T,this.startDraggingMode,"keydown"),t(T,this.endDraggingMode,"keyup"),t(C,this.startZoomMode,"keydown"),t(C,this.endZoomMode,"keyup"),t(E,this.endLockMovement,"keyup");var r={preserveObjectStacking:!0};n.initialize(this.canvasElement.current,r),Object(w.a)(n,{onPinch:this.pinchHandler.bind(this)}),n.on("mouse:down:before",this.handleFingerDrag),n.on("mouse:up",this.endFingerDrag)}},{key:"handleFingerDrag",value:function(e){var t=e.e,n=e.target,r=e.pointer;"touchstart"===t.type&&(n&&n.canvas.getActiveObject()===n||(this.startDraggingMode(),n&&(n.selectable=!1),this.targetUnderFinger=n,this.pointerUnderFinger=r))}},{key:"endFingerDrag",value:function(e){var t=e.e,n=e.target,r=e.pointer;if("touchend"===t.type){var o=this.pointerUnderFinger,a=this.targetUnderFinger;a&&(a.selectable=!0);var i=this.props.fabricCanvas;a&&n===a&&r.x===o.x&&r.y===o.y&&i.setActiveObject(n),i.isDragging&&this.endDraggingMode(),delete this.targetUnderFinger,delete this.pointerUnderFinger}}},{key:"componentDidUpdate",value:function(){this.zoomHelpers=this.props.zoomHelpers}},{key:"componentWillUnmount",value:function(){this.unbindFabricEvents()}},{key:"pinchHandler",value:function(e){Object(j.a)(e,this.props)}},{key:"captureDragStart",value:function(e){var t=e.pointer,n=this.props.fabricCanvas;this.lastMouseLeft=t.x,this.lastMouseTop=t.y,n.isDragging&&this.setState({cursorClass:N}),n.isZooming&&(this.startDragPoint=t)}},{key:"mouseMove",value:function(e){var t=e.e,n=e.pointer,r=this.props.fabricCanvas;if((Object(g.q)(t)||r.isMobile)&&r.isDragging){var o=this.lastMouseLeft?n.x-this.lastMouseLeft:0,a=this.lastMouseTop?n.y-this.lastMouseTop:0,i={x:o,y:a};this.lastMouseLeft=n.x,this.lastMouseTop=n.y,this.zoomHelpers.panCanvas(i)&&this.zoomHelpers.handleZoomAndPanChangeDebounced(r)}1===t.which&&r.isZooming&&!this.startDragPoint&&(this.startDragPoint=n)}},{key:"onMouseWheel",value:function(e){var t=this.props.fabricCanvas,n=e.e;if(n.stopPropagation(),n.preventDefault(),!t.isAnimating){var r=e.pointer,o=t.getActiveObject();if(o&&o===e.target&&!o.isCropping&&(n.ctrlKey||n.metaKey))return void n.preventDefault();var a=1.02,i=!1;n.deltaY>0&&(a=1/a);var c={};n.ctrlKey||n.altKey||n.metaKey?i=this.zoomHelpers.zoomCanvas(a,r.x,r.y,!1,!0):n.shiftKey?(c.x=(-n.deltaY||-n.deltaX)/_,c.y=0,i=this.zoomHelpers.panCanvas(c)):(c.x=-n.deltaX/_,c.y=-n.deltaY/_,i=this.zoomHelpers.panCanvas(c)),i&&o&&o.isEditing&&t.clearContext(t.contextTop),n.stopPropagation(),n.preventDefault(),i&&this.zoomHelpers.handleZoomAndPanChangeDebounced()}}},{key:"render",value:function(){var e=this.props,t=e.containerClass,n=e.canvasClass;return m.a.createElement("div",{className:O()(t,this.state.cursorClass)},m.a.createElement("canvas",{ref:this.canvasElement,className:O()(n)}))}}]),t}(b.PureComponent);h(M,"displayName","ZoomableCanvas"),t.a=Object(v.a)(M)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n.n(a),c=function(e){return o.a.createElement("div",{className:i()("cmpRow ".concat(e.classes)),style:e.style||{}},e.children)};t.a=c},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return p}),n.d(t,"a",function(){return h});var i=n(180),c=n(1),u=n(269),l=n(545),s=n(475),f=n(7),d=n(22),p=function(e,t){t.forEach(function(e){var t=e.tempId,n=e.fileObj,r=void 0===n?{}:n;Object(s.a)(r.preview).then(function(n){var a=n.width,u=n.height;c.default.dispatch(l.a,{width:a,height:u,previewUrl:r.preview,fileName:r.fileName,tempId:t,isLoading:!0}),i.b.publish("fileUpload",o(o({width:a,height:u},e),{},{id:void 0}))})})},h=function(e,t){if(e){var n=[].concat(e).map(function(e){return e.message}).join(", ");return void Object(f.c)("Upload Error Uploading Blob to Browser: ".concat(n||"(no message provided)"))}var r=c.default.evaluate(d.w);t.forEach(function(e){if(i.b.publish("fileUpload",o({},e)),!r){var t=URL.createObjectURL(e.fileObj),n=new Image;n.onload=function(){Object(u.b)({id:t,asset:n,url:t}),n.onload=null},n.src=t}})}},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(4),i=n.n(a),c=n(1961),u=n.n(c),l=n(24),s=(n.n(l),n(1636)),f=Object(l.makeStyles)(function(e){return{modal:{borderRadius:(0,e.spacing)(e.sizes.base),boxShadow:"none"}}}),d=function(e){var t=e.className,n=e.isOpen,a=e.closeButtonA11y,c=e.closeButtonColor,l=void 0===c?"secondary":c,d=e.handleOnClose,p=e.children,h=e.maxWidth,b=f(),m=function(e){return"Escape"===(null===e||void 0===e?void 0:e.key)&&d&&d()};return Object(r.useEffect)(function(){return document.addEventListener("keyup",m),function(){return document.removeEventListener("keyup",m)}},[]),o.a.createElement(u.a,{maxWidth:h,classes:{paper:i()(b.modal,t)},open:n,onBackdropClick:d},p,o.a.createElement(s.a,{closeButtonA11y:a,onClick:d,color:l}))};t.a=d},,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SET_SEARCH_QUERY_EMOJI"},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 17.37"><path fill="#1e88e5" d="M18,3.67,12.69.31,9,3.34l5.51,3.21ZM0,9.51l5.47,3.2L9,10,3.76,6.67ZM5.47.31,0,3.84,3.76,6.67,9,3.34ZM9,10l3.6,2.71L18,9.51l-3.49-3Z" transform="translate(0 -0.31)"></path><path fill="#1e88e5" d="M13.1,13.58l-.58.34-.53-.4L9,11.27,6.08,13.51l-.53.41L5,13.58,3.5,12.72v1.34L9,17.69l5.51-3.61V12.74Z" transform="translate(0 -0.31)"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15.01 12.01"><path d="M.49,1.45h15v9a3,3,0,0,1-3,3H.49Zm13.5,9V4.16l-6,4-6-4V12H12.5a1.4,1.4,0,0,0,1.05-.44A1.43,1.43,0,0,0,14,10.45ZM13.1,3H2.9L8,6.41Z" transform="translate(-0.49 -1.45)"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 16.31"><path fill="#1e88e5" d="M15.61,15.8c-.24.42-.13.76-.54,1a2.67,2.67,0,0,1-1.36.37H4.29a2.67,2.67,0,0,1-1.36-.37c-.41-.23-.3-.57-.54-1l3.47-4.08h6.28Z" transform="translate(0 -0.84)"></path><path fill="#fbc02d" d="M10.57,1.3c.49,0,.95-.33,1.36-.09a2.61,2.61,0,0,1,1,1l4.71,8.16A2.65,2.65,0,0,1,18,11.72c0,.47-.57.94-.82,1.36l-5-1.36L9,6.28Z" transform="translate(0 -0.84)"></path><path fill="#e53935" d="M18,11.72a2.65,2.65,0,0,1-.37,1.36L16,16a2.74,2.74,0,0,1-.9.83l-2.93-5.07Z" transform="translate(0 -0.84)"></path><path fill="#4caf50" d="M.82,13.08C.58,12.66,0,12.19,0,11.72a2.65,2.65,0,0,1,.37-1.36L5.08,2.2a2.61,2.61,0,0,1,1-1c.41-.24.87.08,1.36.09L9,6.28,5.86,11.72Z" transform="translate(0 -0.84)"></path><path fill="#1565c0" d="M5.86,11.72,2.93,16.79A2.74,2.74,0,0,1,2,16L.37,13.08A2.65,2.65,0,0,1,0,11.72Z" transform="translate(0 -0.84)"></path><path fill="#2e7d32" d="M11.93,1.21,9,6.28,6.07,1.21A2.51,2.51,0,0,1,7.25.85h3.32A2.67,2.67,0,0,1,11.93,1.21Z" transform="translate(0 -0.84)"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 9.5"><path d="M1.71,4.75A2.88,2.88,0,0,1,4.5,1.8H8.1V0H4.5A4.64,4.64,0,0,0,0,4.75,4.64,4.64,0,0,0,4.5,9.5H8.1V7.7H4.5A2.88,2.88,0,0,1,1.71,4.75Zm3.69,1h7.2V3.8H5.4ZM13.5,0H9.9V1.8h3.6a2.88,2.88,0,0,1,2.79,3,2.88,2.88,0,0,1-2.79,3H9.9V9.5h3.6A4.64,4.64,0,0,0,18,4.75,4.64,4.64,0,0,0,13.5,0Z"></path></svg>'},function(e,t,n){"use strict";var r=n(8),o=(n.n(r),function(e){return new Promise(function(t){r.fabric.util.enlivenObjects(e,function(e){t(e)})})});t.a=o},function(e,t,n){"use strict";function r(e){if(e)return Object(a.a)(e);var t=Object(o.a)(),n=t.getActiveObject();return Object(a.a)(n)}t.a=r;var o=n(6),a=n(672)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return k}),n.d(t,"b",function(){return x});var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(7),O=n(154),S=n(2),w=n(678),j=n.n(w),T=n(97),E=n(388),C=Object(S.c)(j.a),k=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"onShowMe",(e=r).onShowMe.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"onShowMe",value:function(){var e=this.props,t=e.showAction,n=e.tracking;Object(O.b)("toast-alert"),n&&y.b.track(n),t&&t()}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.subTitle;return m.a.createElement("div",{className:v()("message","actionFlash")},m.a.createElement("div",null,m.a.createElement("div",null,t),m.a.createElement("div",{className:"subTitle"},n)),m.a.createElement(T.b,{size:"small",onClick:this.onShowMe,className:"toastUpgradeBtn"},C("onboarding.toast.showme")))}}]),t}(m.a.PureComponent),x=function(e){var t=e.children,n=e.backAction,r=e.secondaryText,o=e.nextAction,a=e.primaryText;return m.a.createElement("div",{className:"cmpToastStepper"},t,m.a.createElement("div",{className:"actions"},n&&m.a.createElement(E.a,{className:"light",onClick:n},r),o&&m.a.createElement(E.a,{className:"light",onClick:o},a)))}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return function(t){var n=t.url;return Promise.resolve().then(function(){if(!n){var t="Invalid URL: ".concat(n);throw g.a.noticeError(t),new Error(t)}return/\.(jpg|jpeg)/.test(n)||(n=n.replace(/(\/)?$/,"/shutterstock_".concat(e.imageId,".jpg"))),{url:n}})}}function l(e){return function(t){return Promise.resolve().then(function(){var n=e.errorCount;if(t.status>=500&&n<j){var r=T*Math.pow(2,e.errorCount);return n++,Object(v.a)(r).then(function(){return f(i(i({},e),{},{errorCount:n}))})}throw t})}}function s(e){var t=e.TOSStatus,n=e.editorialUseOnly,r=e.imageId,o=e.subscriptionId,a=e.license,i=e.mediaSize,c=void 0===i?"huge":i,u={TOSStatus:t,ackEditorialOnly:n,media_id:r,srcId:m.default.evaluate(S.a.srcId)||"id",license_name:a,media_size:c};o&&"content-license"!==o&&(u.subscriptionId=o);var l=Object(y.e)("shutterstockImage");return Object(O.a)({contentType:"application/json",data:JSON.stringify(u),dataType:"json",type:"POST",url:l})}function f(e){var t=e.errorCount,n=void 0===t?0:t,o=r(e,["errorCount"]);return w("Requesting gatewayKeeper Url",o),s(o).then(u(o)).catch(l(i({errorCount:n},o)))}function d(e){var t=e.realUrl,n=e.imageId,r=e.mediaSize,o=e._config,a=void 0===o?p.client:o,i=["1082599","69598687","54459205","1797755","110549891","38019214"],c="production"!==a.environment,u=-1!==i.indexOf(n);if(c&&u){var l="shutterstock_".concat(n,".jpg");return{url:"".concat(p.client.basePath,"dev-images/").concat(r,"_").concat(l),useCors:!1}}return{url:t,useCors:!0}}t.b=f,t.a=d;var p=n(29),h=(n.n(p),n(1423)),b=n.n(h),m=n(1),g=n(44),v=n(120),y=n(18),O=n(43),S=n(223),w=b()("Download"),j=3,T=100},function(e,t,n){"use strict";function r(e){for(var t=e.parentNode;t;){if(t===window.document.body)return!0;t=t.parentNode}return!1}function o(e){return u(e)||c(e)||i(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}function c(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function u(e){if(Array.isArray(e))return l(e)}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){this.isPreviewing=!1,this.originalProps={},this.helpers={},this.fabricObject=e,this.onChangeHandler=this.onChangeHandler.bind(this),this.abortHandler=this.abortHandler.bind(this)}function f(){z.fabric.Object.NUM_FRACTION_DIGITS=8,z.fabric.Object.prototype.objectCaching=!0,z.fabric.Object.prototype.snapAngle=U.a.get(["rotation","snap"]),z.fabric.Object.prototype.noScaleCache=!1,z.fabric.Object.prototype.snapThreshold=U.a.get(["rotation","threshold"]),z.fabric.Object.prototype.statefullCache=!1,z.fabric.Object.prototype.borderColor=ee.a.fabricObjectBorderColor,z.fabric.Object.prototype.borderScaleFactor=2,z.fabric.Object.prototype.cornerColor=ee.a.fabricObjectCornerColor,z.fabric.Object.prototype.cornerSize=12,z.fabric.Object.prototype.touchCornerSize=48,z.fabric.Object.prototype.padding=10,z.fabric.Object.prototype.cornerStyle="circle",z.fabric.Object.prototype.transparentCorners=!1,z.fabric.Object.prototype.selectionBackgroundColor="rgba(255, 255, 255, 0.3)",z.fabric.Object.prototype.borderOpacityWhenMoving=1,z.fabric.Object.prototype.originX="center",z.fabric.Object.prototype.originY="center",z.fabric.Object.prototype.lockScalingFlip=!0,z.fabric.Object.prototype.perPixelTargetFind=!0,z.fabric.Object.prototype.isPlaceholder=!1,z.fabric.Group.prototype.delegatedProperties={},z.fabric.Group.prototype.noScaleCache=!1,z.fabric.Group.prototype.statefullCache=!1,z.fabric.Group.prototype.controls=$.e,z.fabric.Canvas.prototype.allowTouchScrolling=!1}function d(e){"@babel/helpers - typeof";return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),e}function m(e,t,n){return(m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=g(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=T(e)););return e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=j();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t){ie.default.evaluate(pe.E.activeObjectTextSelectionStart)===e&&ie.default.evaluate(pe.E.activeObjectTextSelectionEnd)===t||ie.default.dispatch(de.s,{selectionStart:e,selectionEnd:t})}function C(e){"@babel/helpers - typeof";return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),e}function _(e,t,n){return(_="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=I(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=L();return function(){var n,r=G(e);if(t){var o=G(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?D(e):t}function D(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e){if(!e)return 1;var t=e.backgroundImage;return t&&"editorArtboard"===t.type?t.height*t.scaleY/Ne:1}function F(e,t){return function(){for(var n,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n=t>=0?o[t]:this;var i=n.strokeWidth;n.strokeWidth*=this.strokeUniform?B(this.canvas):1;var c=e.call.apply(e,[this].concat(o));return n.strokeWidth=i,c}}var z=n(8),U=n(212),H=n(1453),W=n.n(H),V=n(499),K=n.n(V),X=n(361),Y=n(6),q=n(677),Z=n(76),J=n(501),$=n(213),Q=n(391);z.fabric.StaticCanvas.prototype.renderAllExport=function(){this.cacheCanvasEl?this.cacheCanvasEl.width===this.width&&this.cacheCanvasEl.height===this.height||(this.cacheCanvasEl.width=this.width,this.cacheCanvasEl.height=this.height):z.fabric.Canvas.prototype._createCacheCanvas.call(this);var e;Object(Q.a)()&&(e=window.document.createElement("div"),e.setAttribute("display","none"),window.document.body.appendChild(e),e.appendChild(this.cacheCanvasEl),r(this.lowerCanvasEl)||e.appendChild(this.lowerCanvasEl)),this.calcViewportBoundaries();var t=this.contextContainer,n=this.contextCache;this.clearContext(t),this.clearContext(n),t.setTransform(1,0,0,1,0,0),n.setTransform(1,0,0,1,0,0),this.fire("before:render"),this._renderBackground(t);for(var o=this._objects,a=0,i=o.length;a<i;++a){var c=o[a];if(c){if(this.skipOffscreen&&!c.group&&!c.isOnScreen())continue;c.renderExport(t,n)}}return this._renderOverlay(t),this.fire("after:render"),Object(Q.a)()&&(e.removeChild(this.cacheCanvasEl),e.firstChild&&e.removeChild(this.lowerCanvasEl),window.document.body.removeChild(e)),this},z.fabric.Object.prototype.renderExport=function(e,t){if(!this.isNotVisible()){var n=this.needsItsOwnCache(),r=n?t:e,a=n?e:t;r.save(),r.transform.apply(r,o(this.canvas.viewportTransform)),this._setupCompositeOperation(r),this.transform(r),n||(this._setOpacity(r,!0),this._setShadow(r,this)),this.drawObject(r),n&&(a.save(),this._setOpacity(a,!0),this._setShadow(a,this),a.drawImage(t.canvas,0,0),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,r.canvas.width,r.canvas.height),a.restore()),r.restore()}},z.fabric.Group.prototype.renderExport=function(e,t){if(!this.isNotVisible())for(var n=0,r=this._objects.length;n<r;n++)this._objects[n].renderExport(e,t)},z.fabric.Group.prototype.align=function(e){var t,n=this._objects,r={top:-1,bottom:1,left:-1,right:1,horizontally:0,vertically:0},a={top:"top",bottom:"top",left:"left",right:"left",horizontally:"left",vertically:"top"},i={top:"height",bottom:"height",left:"width",right:"width",horizontally:"width",vertically:"height"},c=r[e],u=a[e],l=i[e],s=n.map(function(e){return e.getBounds()}),f=Math.max.apply(Math,o(s.map(function(e){return e[l]}))),d=this.getCenterPoint(),p=0===c?"center":e;t="top"===u?{x:this.originY,y:p}:{x:p,y:this.originY};var h=this.translateToOriginPoint(d,t.x,t.y);n.forEach(function(e,t){var n=s[t],r=n[l],o=(f-r)/2;if("top"===u){var a=new z.fabric.Point(e.left,o*c);e.setPositionByOrigin(a,e.originX,"center")}if("left"===u){var i=new z.fabric.Point(o*c,e.top);e.setPositionByOrigin(i,"center",e.originY)}}),this[l]=f,this.setPositionByOrigin(h,t.x,t.y),this.setCoords(),n.map(function(e){return e.setCoords(),e}),this.fire("modified")},z.fabric.Object.prototype.getBounds=function(){return this.getBoundingRect(!0,!0)},z.fabric.UserImage.prototype.getPointRelativeToObject=function(e){var t=this.canvas.getPointer(e,!0),n=this.canvas._normalizePointer(this,t);return{x:Math.round(n.x+this.getOriginalElementWidth()/2),y:Math.round(n.y+this.getOriginalElementHeight()/2)}},z.fabric.Group.prototype.distribute=function(e){var t="horizontally"===e?"width":"height",n="horizontally"===e?"left":"top",r=this._objects.slice(0),o=this[t],a=0;r.sort(function(e,t){return e[n]-t[n]});var i=r.map(function(e){var n=e.getBounds()[t];return a+=n,n}),c=o-a,u=c/(r.length-1),l=-o/2+i[0]+u+r[0].padding;r.slice(1,r.length-1).forEach(function(e,t){var r=i[t+1]/2,o=e.getCenterPoint();l+=r,"left"===n?o.x=l:o.y=l,e.setPositionByOrigin(o,"center","center"),l+=r+u})},z.fabric.Image.filters.PesdkFilterEngine={},z.fabric.Image.filters.PesdkFilterEngine.fromObject=function(e){if(J.a[e.filterName]){var t=J.a[e.filterName].subFilters;return new Z.a({subFilters:t,name:e.filterName})}return null},z.fabric.Object.prototype.bindEditorEvents=function(e){this.fabricEventManager=new e(this),this.fabricEventManager.bindEvents()},z.fabric.Object.prototype.isBackground=function(e){return!(!this.canvas||!this.canvas.getBackgroundImage)&&this===this.canvas.getBackgroundImage(e)},Object.defineProperty(z.fabric.Object.prototype,"isLocked",{get:function(){return!!this.__isLocked},set:function(e){(e=!!e)!==this.isLocked&&(this.isEditing&&this.exitEditing(),this.__isLocked=e,this.lockMovementX=e,this.lockMovementY=e,this.lockScalingX=e,this.lockScalingY=e,this.lockSkewingX=e,this.lockSkewingY=e,this.lockRotation=e,this.hasRotatingPoint=!e,this.selectable=!e,this.hoverCursor=e?"default":z.fabric.Object.prototype.hoverCursor,this.cornerColor=e?z.fabric.Object.prototype.borderColor:z.fabric.Object.prototype.cornerColor,this.controls=$.c)}}),z.fabric.util.ease={easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t},linear:function(e,t,n,r){return e===r?t+n:n*(e/r)+t}};s.prototype.onChangeHandler=function(e){var t=this;return function(n){t.fabricObject.set(e,n),Object(Y.a)().requestRenderAll()}},s.prototype.abortHandler=function(){return!this.isPreviewing},s.prototype.startAnimation=function(e,t){isNaN(t.startValue)?z.fabric.util.animateColor(t.startValue,t.finalValue,150,{onChange:t.helper||this.onChangeHandler(e),abort:this.abortHandler}):z.fabric.util.animate({startValue:t.startValue,endValue:t.finalValue,duration:150,onChange:t.helper||this.onChangeHandler(e),abort:this.abortHandler})},s.prototype.stop=function(){this.isPreviewing=!1;var e=this.originalProps,t=this.helpers;for(var n in e)e.hasOwnProperty(n)&&(t[n]?t[n](e[n]):this.fabricObject.set(n,e[n]));e.styles&&this.fabricObject.set("styles",e.styles),Object(Y.a)().requestRenderAll(),this.originalProps={},this.helpers={}},s.prototype.start=function(e){for(var t in e)e.hasOwnProperty(t)&&(void 0===e[t].startValue&&(e[t].startValue=this.fabricObject[t]),void 0===this.originalProps[t]&&(this.originalProps[t]=e[t].startValue,this.helpers[t]=e[t].helper),this.startAnimation(t,e[t]));void 0!==this.originalProps.styles||this.isPreviewing||(this.originalProps.styles=z.fabric.util.object.clone(this.fabricObject.styles,!0)),this.isPreviewing=!0};var ee=n(468);z.fabric.minCacheSideLimit=512;var te=z.fabric.Shadow.prototype.toObject;z.fabric.Shadow.prototype.toObject=function(){var e=te.call(this);return e.enabled=this.enabled,e},z.fabric.Object.prototype.willDrawShadow=function(){return!!this.shadow&&this.shadow.enabled&&0!==this.shadow.offsetX&&0!==this.shadow.offsetY};var ne=z.fabric.Object.prototype._setShadow;z.fabric.Object.prototype._setShadowOriginal=ne;var re=U.a.get("shapeShadowMultiplier");z.fabric.Object.prototype._setShadow=function(e){if(this.shadow&&this.shadow.enabled){ne.call(this,e);var t=re*this.width/480;e.shadowBlur*=t,e.shadowOffsetX*=t,e.shadowOffsetY*=t}};var oe=z.fabric.Object.prototype.toObject;z.fabric.util.object.extend(z.fabric.Object.prototype,{propertiesToInclude:["isLocked","perspective","id","name","nofill","strokeNofill","strokeUniform","isPlaceholder"],toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=e.length>0?this.propertiesToInclude.concat(e):this.propertiesToInclude;var t=oe.call(this,e);return this.animation&&Object.assign(t,this.animation),delete t.transformMatrix,delete t.backgroundColor,delete t.meetOrSlice,delete t.globalCompositeOperation,delete t.clipTo,delete t.version,t}});var ae=n(22),ie=n(1),ce=n(71),ue=n.n(ce),le=n(21),se=n.n(le),fe=n(457),de=n(19),pe=n(63),he=n(193),be=n(149),me=500,ge=250,ve=ie.default.evaluate(ae.k),ye=ie.default.evaluate(ae.l),Oe=ue()(E,100),Se=function(e){function t(e,r){var o;return p(this,t),o=n.call(this,e,r),o.updateLayerText=o.updateLayerText.bind(w(o)),o.onEditExit=o.onEditExit.bind(w(o)),o.onEditEnter=o.onEditEnter.bind(w(o)),o.onSelectionChanged=o.onSelectionChanged.bind(w(o)),o.onScale=o.onScale.bind(w(o)),o.onMouseWheel=o.onMouseWheel.bind(w(o)),o._startBoxHeight=o.fabricObject.height,o.saveTextLayerChangeRaw=o.saveTextLayerChange,o.saveTextLayerChange=ue()(o.saveTextLayerChange,me),o.onSelectionChanged=ue()(o.onSelectionChanged,ge,{leading:!0,trailing:!0}),o.fabricObject._lastAutoSavedText="",o}v(t,e);var n=O(t);return b(t,[{key:"updateState",value:function(e){m(T(t.prototype),"updateState",this).call(this,e)}},{key:"resetNewCharAdded",value:function(){this._newCharAdded=!1}},{key:"bindEvents",value:function(){m(T(t.prototype),"bindEvents",this).call(this),this.fabricObject.on("changed",this.updateLayerText),this.fabricObject.on("editing:exited",this.onEditExit),this.fabricObject.on("editing:entered",this.onEditEnter),this.fabricObject.on("selection:changed",this.onSelectionChanged),this.fabricObject.on("scaling",this.onScale)}},{key:"onEditExit",value:function(){Oe(null,null),this.preserveBoxStyle()}},{key:"onEditEnter",value:function(){var e=this.fabricObject,t=e.selectionStart,n=e.selectionEnd;Oe(t,n),this.preserveBoxStyle(),this.fabricObject.setAnchorPosition()}},{key:"preserveBoxStyle",value:function(){this.fabricObject.borderColor=z.fabric.Object.prototype.borderColor}},{key:"onSelectionChanged",value:function(){var e=this.fabricObject,t=e.selectionStart,n=e.selectionEnd;Oe(t,n)}},{key:"onModified",value:function(){this.updateScaledProperties();var e=this.fabricObject._lastAutoSavedText!==this.fabricObject.text,n=this.fabricObject,r=n.isRotating,o=n.isScaling,a=n.onMoveStart,i=Boolean(r||o||a);(e||i)&&m(T(t.prototype),"onModified",this).call(this),this.fabricObject.isEditing&&this.fabricObject.hiddenTextarea.focus(),this.fabricObject.isScaling=!1}},{key:"onScale",value:function(){this.fabricObject.isScaling=!0;var e=this.fabricObject,t=e.fontSize,n=Math.max(e.scaleX,e.scaleY),r=e.lastGoodScale||1,o=t*n<ye,a=t*n>ve,i=o&&n<r,c=a&&n>r;i||c?(e.scaleX=r,e.scaleY=r,e.left=e.lastGoodLeft||e.left,e.top=e.lastGoodTop||e.top):(e.lastGoodLeft=e.left,e.lastGoodTop=e.top,e.lastGoodScale=e.scaleX),this.updateScaledProperties()}},{key:"onSelected",value:function(e){this._startBoxHeight=this.fabricObject.height,m(T(t.prototype),"onSelected",this).call(this,e)}},{key:"addedNewLine",value:function(){return this._startBoxHeight!==this.fabricObject.height}},{key:"updateLayerText",value:function(e){this.addIndent(e),this.fabricObject.keepPosition(),this.saveTextLayerChange()}},{key:"saveTextLayerChange",value:function(){if(this.changedText()){this.fabricObject._lastAutoSavedText=this.fabricObject.text;var e=this.fabricObject.canvas;e&&e.fire("save",{target:this.fabricObject})}}},{key:"addIndent",value:function(){if("\n"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).char){var e=Object(fe.a)(this.fabricObject),t=e.lineStart,n=t-1,r=se()(this.fabricObject,["lineStyles",n],{}),o=this.fabricObject.lineStyles[t]||{};r.indentLevel&&(o.indentLevel=r.indentLevel),r.indentStyle&&(o.indentStyle=r.indentStyle),(r.indentLevel||r.indentStyle)&&(this.fabricObject.lineStyles[t]=o)}}},{key:"changedText",value:function(){var e=this.fabricObject._textBeforeEdit;return void 0!==e&&e!==this.fabricObject.text}},{key:"updateScaledProperties",value:function(){if(this._hasScaleChanged()){var e=this.fabricObject.scaleX,t=this.fabricObject;he.a.scaleProperties(t,e),this._startBoxHeight=t.height}}},{key:"_hasScaleChanged",value:function(){return 1!==this.fabricObject.scaleX}}]),t}(be.a),we=n(14),je=n(110),Te=n(80),Ee=n(230),Ce=function(e){function t(e,r){var o;return k(this,t),o=n.call(this,e,r),o.onDoubleClick=o.onDoubleClick.bind(D(o)),o.onDeselect=o.onDeselect.bind(D(o)),o}N(t,e);var n=A(t);return P(t,[{key:"bindEvents",value:function(){_(G(t.prototype),"bindEvents",this).call(this),this.fabricObject.on("mousestrictdblclick",this.onDoubleClick)}},{key:"onDeselect",value:function(){var e=this.fabricObject;e.canvas&&e===e.canvas.getBackgroundImage()&&(e.selectable=!1),_(G(t.prototype),"onDeselect",this).call(this)}},{key:"onDoubleClick",value:function(){var e=this.fabricObject,t=Object(Te.c)(e);t||this.fabricObject.isLocked?"isCropping"===t?Ee.d("DOUBLE_CLICK"):Object(Te.b)():Ee.c("DOUBLE_CLICK")}},{key:"onModified",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.fabricObject,r=ie.default.evaluate(we.k.activePage).get("assetId"),o=n.imageId;e.isBackground=n.isBackground(),n.isCropping||(e.isBackground?o!==r&&ie.default.dispatch(je.k,{id:o}):o===r&&ie.default.dispatch(je.k,{id:0})),n.isInPerspectiveMode||_(G(t.prototype),"onModified",this).call(this,e)}}]),t}(be.a);n(371),n(830);t.b=B;t.a=f;z.fabric.Object.prototype._getEditorEventClass=function(){var e;switch(this.type){case"editorTextBox":e=Se;break;case"editorImage":case"userImage":e=Ce;break;case"editorPath":case"path":case"polygon":case"ellipse":case"circle":case"rect":case"line":case"triangle":e=be.a}return e};var ke=z.fabric.Object.prototype.initialize;z.fabric.Object.prototype.initialize=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(ke.apply(this,t),!this.withoutEvents){var r=this._getEditorEventClass();r&&this.bindEditorEvents(r),-1===["group","activeSelection"].indexOf(this.type)&&(this.previewer=new s(this))}},z.fabric.util.string.graphemeSplit=function(e){for(var t,n=new W.a,r=[],o=e;t=K()().exec(o);){if(t.index>0){var a=o.substr(0,t.index);r=r.concat(n.splitGraphemes(a))}r.push(t[0]),o=o.substr(t.index+t[0].split("").length)}return r=r.concat(n.splitGraphemes(o))},z.fabric.charWidthsCache.emoji={},z.fabric.IText.prototype.onInput=function(e){var t=this,n=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation&&e.stopPropagation(),this.isEditing){var r,o,a=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,i=this._text.length,c=a.length,u=c-i;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));this.selectionStart!==this.selectionEnd?(r=this._text.slice(this.selectionStart,this.selectionEnd),u+=this.selectionEnd-this.selectionStart):c<i&&(r=this._text.slice(this.selectionEnd+u,this.selectionEnd));var l=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);o=a.slice(l.selectionEnd-u,l.selectionEnd),r&&r.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):this.selectionStart>l.selectionStart?this.removeStyleFromTo(this.selectionEnd-r.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+r.length));var s;n&&o.join("")===z.fabric.copiedText&&(s=z.fabric.copiedTextStyle),o.length?Object(X.a)(o.join("")).then(function(){t.insertNewStyleBlock(o,t.selectionStart,s),t.updateFromTextArea(),t.fire("changed"),t.canvas&&(t.canvas.fire("text:changed",{target:t}),t.canvas.requestRenderAll())}):(this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()))}};var xe=z.fabric.IText.prototype.getSelectionStyles;z.fabric.IText.prototype.getSelectionStyles=function(e,t,n){var r=xe.call(this,e,t,n);return r.forEach(function(e){delete e.fontSize}),r};var Pe=z.fabric.Text.prototype._renderChar,_e=z.fabric.Text.prototype._measureChar;z.fabric.util.object.extend(z.fabric.Text.prototype,{_renderChars:function(e,t,n,r,o,a,i){i=i||0;var c,u,l,s,f=this.getHeightOfLine(a),d="",p=0;t.save(),o-=f/this.lineHeight*this._fontSizeFraction;for(var h=i,b=n.length+i-1;h<=b;h++){s=h===b||this.charSpacing,d+=n[h-i],l=this.__charBounds[a][h-i],0===p?(r+=l.kernedWidth-l.width,p+=l.width):p+=l.kernedWidth,"justify"!==this.textAlign||s||this._reSpaceAndTab.test(n[h-i])&&(s=!0);var m=h-i;(z.fabric.charWidthsCache.emoji[d]||m!==b&&z.fabric.charWidthsCache.emoji[n[m+1]])&&(s=!0),s||(c=c||this.getCompleteStyleDeclaration(a,h),u=this.getCompleteStyleDeclaration(a,h+1),s=this._hasStyleChanged(c,u)),s&&(this._renderChar(e,t,a,h,d,r,o,f),d="",c=u,r+=p,p=0)}t.restore()},_renderChar:function(e,t,n,r,o,a,i){if(z.fabric.charWidthsCache.emoji[o]){var c=z.fabric.charWidthsCache.emoji[o];if(c.height===q.a){var u=.97*this.__charBounds[n][r].width*1e3/(1e3+this.charSpacing),l=Object(Y.a)(),s=u*l.getRetinaScaling()*this.canvas.getZoom()*this.getObjectScaling().scaleX,f=Object(q.c)(s),d=.0625*u*.97;f.x<0&&(f.x=0),f.y<0&&(f.y=0),f.w>c.width&&(f.w=c.width),f.h>c.height&&(f.h=c.width),t.drawImage(c,f.x,f.y,f.w,f.h,a,i-u+d,u,u)}else if(200===c.height){var p=this.__charBounds[n][r].width,h=c.width/p;t.drawImage(c,a,i-c.width/h,p,c.height/h)}}else Pe.call(this,e,t,n,r,o,a,i)},_measureChar:function(e,t,n,r){var o,a,i=t.fontSize/200;return K()().exec(e)?(o=200,a=200,{width:o*i,kernedWidth:a*i}):_e.call(this,e,t,n,r)}});var Ie=z.fabric.Object.prototype.drawSelectionBackground;z.fabric.Object.prototype.drawSelectionBackground=function(e){return this.selectionBackgroundColor&&this.canvas&&!this.group&&!this.isLocked&&(this.canvas._activeObject===this||this.canvas._hoveredTarget===this&&this.canvas.getBackgroundImage&&this.canvas.getBackgroundImage()!==this)?Ie.call(this,e):this};var Ne=U.a.get("strokePageMultiplier"),Me=z.fabric.Object.prototype;Me.paintFirst="stroke",Me._setStrokeStyles=F(Me._setStrokeStyles,1),Me._getNonTransformedDimensions=F(Me._getNonTransformedDimensions,-1),Me._finalizeDimensions=F(Me._finalizeDimensions,-1),Me.drawBordersInGroup=F(Me.drawBordersInGroup,-1);var Ae=z.fabric.Object.prototype._setLineDash;z.fabric.Object.prototype._setLineDash=function(e,t){t&&(Ae.call(this,e,t),this.strokeUniform&&e.setLineDash(e.getLineDash().map(function(t){return t*e.lineWidth})))}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n;e===d.d.UI_BUTTON?(h.undoButtonUseCount++,n="selected undo button"):e===d.d.KEYBOARD_SHORTCUT?(h.keyboardUndoUseCount++,n="keyboard undo"):e===d.d.CONTEXT_MENU_BUTTON&&(h.contextMenuUndoUseCount++,n="context menu undo button"),void 0!==n&&i(n,p.UNDO,t)}function a(e,t){var n;e===d.d.UI_BUTTON?(h.redoButtonUseCount++,n="selected redo button"):e===d.d.KEYBOARD_SHORTCUT?(h.keyboardRedoUseCount++,n="keyboard redo"):e===d.d.CONTEXT_MENU_BUTTON&&(h.contextMenuRedoUseCount++,n="context menu redo button"),void 0!==n&&i(n,p.REDO,t)}function i(e,t,n){var o,a=b.find(function(e){return e.didChange(n)});a&&(o=a.getSummary(t,n)),void 0!==o&&f.b.track(e,r({},t,o))}function c(e){var t=e.getIn(["pages","before"]).find(function(e){return e.get("active")}),n=e.getIn(["pages","after"]).find(function(e){return e.get("active")});return t.get("presetId")!==n.get("presetId")}function u(e){return e.getIn(["doc","fabric","before","data","backgroundImage","filters",0,"filterName"],"nofilter")!==e.getIn(["doc","fabric","after","data","backgroundImage","filters",0,"filterName"],"nofilter")}function l(e,t){var n;return n=e===p.UNDO?t.getIn(["presets","active","before","label"]):t.getIn(["presets","active","after","label"]),"preset size: ".concat(n)}function s(e,t){var n;return n=e===p.UNDO?t.getIn(["FilterPanel","before","selectedFilter"]):t.getIn(["FilterPanel","after","selectedFilter"]),"filter: ".concat(n)}n.d(t,"a",function(){return h}),t.c=o,t.b=a;var f=n(7),d=n(375),p={UNDO:"edit removed",REDO:"edit reapplied"},h={undoButtonUseCount:0,redoButtonUseCount:0,keyboardUndoUseCount:0,keyboardRedoUseCount:0,contextMenuUndoUseCount:0,contextMenuRedoUseCount:0},b=[{didChange:u,getSummary:s},{didChange:c,getSummary:l}]},function(e,t,n){"use strict";function r(e,t){var n=Object(i.a)();e.forEach(function(e){t.find(function(t){return t.id===e.id})||n.remove(e)})}function o(e,t){var n=Object(i.a)();e.forEach(function(e,r){if(r!==t.findIndex(function(t){return t.id===e.id})){var o=t.find(function(t){return t.id===e.id});n.moveTo(o,r)}})}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isForCollab,a=void 0!==n&&n,h=t.skipReactivation,b=void 0!==h&&h,m=Object(i.a)();m.stopRendering=!0;var g=e||c.default.evaluate(u.k.activePageId),v=c.default.evaluate(l.B.fabricPage(g)),y=v.get("data",{});a||m._discardActiveObject();var O=m.getObjects().slice(),S=y.objects||[],w=y.backgroundImage,j=y.overlayImage;r(O,S);var T=Object(d.a)(O,S),E=[T];if(w||j){var C=new Promise(function(e){s.fabric.util.enlivenObjects([w,j],e)}).then(function(e){e[0]&&(m.backgroundImage=e[0],m.backgroundImage.canvas=m),e[1]&&(m.overlayImage=e[1],m.overlayImage.canvas=m)});E.push(C)}else f.b.setArtboard();return Promise.all(E).then(function(){var e=m.getObjects();if(e.length&&(o(S,e),!b)){var t=v.get("selected");Object(p.a)(t,e)}var n=m.getBackgroundImage();n&&(n.selectable=n.active),m.stopRendering=!1,m.isAnimating=!1}).catch(function(e){throw m.stopRendering=!1,m.isAnimating=!1,e})}var i=n(6),c=n(1),u=n(14),l=n(17),s=n(8),f=n(57),d=n(674),p=n(466);t.a=a},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b._131,n=Object(f.a)(),r=n.getActiveObject();if(!r||"activeSelection"!==r.type)throw new Error("Tried to group non-selection object: ",r);var o=r.getObjects();u(e,t,{objectsToBeGrouped:o,shouldSelectResult:!0});h.b.track("group",{group:!0,source:t}),n.fire("save")}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b._131,t=Object(f.a)(),n=t.getActiveObject();if(!n||"group"!==n.type)throw new Error("Tried to ungroup non-group object: ",n);l(e,{objectToBeUngrouped:n,shouldSelectResult:!0});h.b.track("ungroup",{ungroup:!0,source:e}),t.fire("save")}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1&&arguments[1],arguments.length>2?arguments[2]:void 0),n=t.objectsToBeGrouped,r=t.shouldSelectResult,a=Object(f.a)(),i=a.getObjects(),c=n.reduce(function(e,t,n){var r=i.indexOf(t)-n;return r>e?r:e},0),u=[];i.forEach(function(e){var t=n.find(function(t){return t.id===e.id});t&&u.push(t)}),a.stopRendering=!0,a.remove.apply(a,u),r&&a._discardActiveObject();var l=e.id||d.b.getNewObjectId(),h=new s.fabric.Group(u,o({id:l},e));return h.bindEditorEvents(p.a),a.add(h),h.moveTo(c),r&&a.setActiveObject(h),a.stopRendering=!1,a.requestRenderAll(),h.toObject()}function l(e,t){var n=t.objectToBeUngrouped,r=t.shouldSelectResult,o=Object(f.a)();n=n||o.getActiveObject();var a=n.opacity,i=n._objects,c=i.length;o.stopRendering=!0,n._restoreObjectsState();var u=o.getObjects(),l=u.indexOf(n);o.remove(n);for(var d=new Array(c),p=c-1;p>=0;p--){var h=i[p];h.opacity*=a,o.insertAt(h,l),h.set("dirty",!0),d[p]=h.toObject()}if(r){var b=new s.fabric.ActiveSelection(i,{canvas:o});b.addWithUpdate(),b.setCoords(),o.setActiveObject(b)}return o.stopRendering=!1,o.requestRenderAll(),d}t.b=i,t.d=c,t.a=u,t.c=l;var s=n(8),f=(n.n(s),n(6)),d=n(122),p=n(149),h=n(7),b=n(9)},,function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){var n;if(t.page>1)n=e.get("resultPages").toJS().concat(t);else{var o=e.getIn(["resultPages",0,"images"],Object(S.List)());o.size>0&&(t.images=[].concat(r(o.toJS()),r(t.images)),t.totalCount+=o.size),n=[t]}return Object(S.fromJS)({pending:!1,error:null,resultPages:n,totalCount:t.totalCount,page:t.page,perPage:t.perPage,balanceCount:0,uploadCount:e.get("uploadCount")})}function s(e,t){return e.updateIn(["resultPages",0,"images"],function(e){return e?e.unshift.apply(e,r(t.map(function(e){return Object(S.fromJS)(e)}))):Object(S.fromJS)(t)}).set("totalCount",e.get("totalCount",0)+t.length).set("uploadCount",t.length)}function f(e,t){var n=t.tempId,r=t.retryFunc;return e.updateIn(["resultPages",0,"images"],function(e){return e.map(function(e){return n!==e.get("tempId")?e:e.delete("loading").set("failed",!0).set("retryFunc",r)})})}function d(e,t){var n=t.tempId;return e.updateIn(["resultPages",0,"images"],function(e){return e.map(function(e){return n!==e.get("tempId")?e:e.delete("failed").set("loading",!0)})})}function p(e,t){var n=!1,r=e.updateIn(["resultPages",0,"images"],function(e){return e.map(function(e){return t.tempId&&t.tempId===e.get("tempId")?(n=!0,e.delete("loading").delete("retryFunc").delete("failed").set("id",t.id).set("link",t.links.original).setIn(["preview","link"],t.links.thumbnail_250_px).set("height",e.get("height")||t.height).set("width",e.get("width")||t.width)):e})});return n?r:e.updateIn(["resultPages",0,"images"],function(e){return e.unshift(Object(S.fromJS)(t))}).set("totalCount",e.get("totalCount")+1)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.id,r=t.title;return e.updateIn(["resultPages",0,"images"],function(e){return e.map(function(e){return e.get("id")!==n?e:e.setIn(["preview","fileTitle"],r)})})}function b(e,t){var n;return e.get("resultPages").forEach(function(r,o){if(r.get("images").find(function(e){return e.get("id")===t}))return n=e.updateIn(["resultPages",o,"images"],function(e){return e.filter(function(e){return e.get("id")!==t})}),!1}),n&&(n=n.set("balanceCount",n.get("balanceCount")+1).set("totalCount",n.get("totalCount")-1)),n||e}function m(e,t){return e.set("imageInfo",t)}function g(e,t){return e.set("pending",t)}function v(e,t){return"DismissibleLoginModal"===t.currentModalKey?e.set("lastSeenModal",t.currentModalKey):e.set("lastSeenModal","")}function y(e){return"DismissibleLoginModal"!==e.get("lastSeenModal")||T.a.isLoggedIn()?e:e.updateIn(["resultPages",0,"images"],[],function(e){return e.filter(function(e){return!e.get("loading")})}).set("totalCount",0)}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case C.h:return g(e,r);case C.i:return l(e,r);case C.f:return m(e,r);case C.c:return s(e,r);case C.b:return p(e,r);case C.d:return d(e,r);case C.j:return f(e,r);case C.k:return h(e,r);case C.a:return b(e,r);case C.e:return e.set("position",r);case E.c:return v(e,r);case E.a:return y(e,r);default:return e}}t.a=O;var S=n(12),w=(n.n(S),n(21)),j=n.n(w),T=n(64),E=n(365),C=n(366),k=j()(window,["editor","UploadsPanel"]),x={pending:T.a.isLoggedIn()&&!k,error:null,resultPages:[],dragging:!1,progress:!1,imageInfo:null,balanceCount:0,position:null,uploadCount:0};k&&(x.resultPages=[k],x.totalCount=k.totalCount,x.page=k.page,x.perPage=k.perPage);var P=Object(S.fromJS)(x)},,function(e,t,n){"use strict";function r(e){var t=Object(o.j)(e);return Object.keys(t).forEach(function(e){var n=t[e],r=String(Array.isArray(n)?n[0]:n);"true"===r.toLowerCase()?t[e]=!0:"false"===r.toLowerCase()&&(t[e]=!1)}),t}t.a=r;var o=n(18)},,function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function o(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function a(e,t,n,r){var o=e.find(function(e){return e.get("id")===t});return o?e.remove(o).add(o.set(n,r)):e}function i(e,t){var n=t.id,r=t.image,o=t.size;return a(e,n,"licensedImage".concat(void 0===o?"":o),r)}function c(e,t){return a(e,t.assetId,"contributorInfo",r(t,["assetId"]))}function u(e,t){return a(e,t.id,"licensed",!0)}function l(e,t){return a(e,t.id,"loadingPromise",t.promise)}function s(e,t){var n=e.find(function(e){return e.get("id")===t.id});return n?e.remove(n).add(n.merge(t)):e.add(Object(Q.fromJS)(t))}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case ee.i:return s(e,r);case ee.b:return i(e,r);case ee.x:return u(e,r);case ee.h:return c(e,r);case ee.c:return l(e,r);default:return e}}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach(function(t){h(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return{objects:e.objects?e.objects.slice(0):[],backgroundImage:e.backgroundImage,overlayImage:e.overlayImage}}function m(e,t,n){e.forEach(function(e){var r=e.id,o=Object(ue.a)();r===t&&(n.newId=o),e.id=o,"group"===e.type&&m(e.objects,t,n)})}function g(e,t){if(isNaN(ve[t])){var n=e.getIn(ge,be).findIndex(function(e){return e.get("id")===t});if(-1===n)return-1;ve[t]=n}return ve[t]}function v(e){return e.setIn(ge,be)}function y(e,t){var n=t.pageId,r=t.newId,o=e.getIn(ge),a=o.get(g(e,n)),i=re()(a.get("data")),c={},u=a.get("backgroundImageId");m(i.objects,u,c);var l=a.set("data",i).set("backgroundImageId",c.newId);return e.setIn(ge,o.push(l.set("id",r)))}function O(e,t){var n=g(e,t);return ve={},e.updateIn(ge,function(e){return e.splice(n,1)})}function S(e,t){var n=t.id,r=t.activePageId,o=e.getIn(ge),a=g(e,r),i=o.get(a)||o.last();return i=i.set("id",n).set("backgroundImageId",null).set("data",{objects:[],backgroundImage:p(p({},re()(i.get("data").backgroundImage)),{},{fill:"#FFFFFF",id:Object(ue.a)()})}),e.setIn(ge,o.push(i))}function w(e){return e.merge(Object(Q.fromJS)({ready:!0,readyAt:Date.now()}))}function j(e,t){var n=t.loadedTimeStamp;return e.set("fabricTimeStamp",n)}function T(e,t){return e.set("spinnerComponent",t)}function E(e,t){var n=t.fabric,r=t.fabricTimeStamp,o=t.pageId;e=e.setIn(["fabric","pages"],Object(se.a)(e.getIn(["fabric","pages"]))),r&&(e=e.set("fabricTimeStamp",r));var a=e.getIn(ge),i=new Q.Map({backgroundImageId:n.backgroundImageId,data:n.data,id:n.id}),c=g(e,o);return-1===c?e.setIn(ge,a.push(i.set("selected",n.selected||[]))):(n.selected&&(i=i.set("selected",n.selected||e.getIn(["fabric","pages",c,"selected"],[]))),e.setIn(["fabric","pages",c],i))}function C(e,t){var n=t.fabricKeypath,r=t.fabricObject,o=t.updateTimeStamp,a=t.isBackground,i=t.pageId,c=g(e,i);ye[2]=c,Oe[2]=c,o&&(e=e.set("fabricTimeStamp",+new Date));var u=e.getIn(ye,{}),l=b(u);return ae()(l,n,r),e=e.setIn(ye,l),a?e=e.setIn(Oe,r.id):r.id===e.getIn(Oe)&&(e=e.setIn(Oe,0)),e}function k(e,t,n){for(var r=0,o=e.length;r<o;r++){var a=e[r];if(a.id===t.id){var i=p(p({},a),t);return n||(e[r]=i),{obj:i,index:r}}if(a.objects){var c=k(a.objects,t,a);if(c){var u=p({},a);return u.objects=u.objects.concat(),u.objects[c.index]=c.obj,n||(e[r]=u),{obj:u,index:r}}}}}function x(e,t){ye[2]=g(e,t.pageId),e=e.set("fabricTimeStamp",+new Date);for(var n=e.getIn(ye,{}),r=b(n),o=r.objects,a=t.objects,i=a.length,c=0;c<i;c++){k(o,a[c])}return e.setIn(ye,r)}function P(e,t){return t.fabricKeypath=["objects",t.objectIndex],t.selected&&(e=N(e,t)),t.textSelection&&(e=I(e,t.textSelection)),C(e,t)}function _(e,t){return t.fabricKeypath=["backgroundImage"],C(e,t)}function I(e,t){var n=t.selectionStart,r=t.selectionEnd;return e.setIn(["fabric","textSelectionStart"],n).setIn(["fabric","textSelectionEnd"],r)}function N(e,t){var n=t.ownerId,r=t.selected,o=t.pageId;if(n&&n!==ce.a)return e;var a=g(e,o);return e=e.setIn(["fabric","pages",a,"selected"],r)}function M(e,t){var n=t.pageId,r=t.objectIds;return e.updateIn(["fabric","pages",g(e,n)],function(e){var t=!1,n=e.get("data").objects.filter(function(e){var n=r.includes(e.id);return n&&(t=t||!0),!n});if(t){var o=b(e.get("data"));o.objects=n,e=e.set("data",o),r.includes(e.get("backgroundImageId"))&&(e=e.set("backgroundImageId",null)),e=e.set("selected",e.get("selected").filter(function(e){return!r.includes(e)}))}return e})}function A(e,t){var n=t.order,r=t.pageId;ye[2]=g(e,r);var o=b(e.getIn(ye)),a=o.objects,i=a.map(function(e){return e.id});return n.forEach(function(e,t){e&&(n[t]=a[i.indexOf(e)])}),o.objects=n,e.setIn(ye,o)}function R(e,t){var n=t.pageId,r=t.idsToBeGrouped,o=t.groupObj;ye[2]=g(e,n);var a=b(e.getIn(ye)),i=r.reduce(function(e,t,n){var r=a.objects.findIndex(function(e){return e.id===t})-n;return r>e?r:e},0),c=me(a.objects);return r.forEach(function(e){c[e]=!1}),a.objects=a.objects.filter(function(e){return c[e.id]}),a.objects.splice(i,0,o),e.setIn(ye,a)}function D(e,t){var n=t.idToBeUngrouped,r=t.ungroupedObjects,o=t.pageId;ye[2]=g(e,o);for(var a=b(e.getIn(ye)),i=a.objects,c=i.length,u=r.length,l=new Array(c+u-1),s=0,f=0;f<c;f++){var d=i[f];if(d.id===n)for(var p=0;p<u;p++)l[s++]=r[p];else l[s++]=d}return a.objects=l,e.setIn(ye,a)}function L(e,t){var n=e.get("flashAlerts");if(!n)return e;var r=n.find(function(e){return e.id===t.id});if(r){var o=t.message||r.message,a=n.filter(function(e){return e.id!==t.id}).concat(p(p({},r),{},{message:o,pulse:r.pulse?r.pulse+1:1}));return e.set("flashAlerts",a)}return e.set("flashAlerts",n.concat(t))}function G(e,t){var n=e.get("toastAlerts");if(!n)return e;var r=n.find(function(e){return e.id===t.id});if(r){var o=t.message||r.message,a=n.filter(function(e){return e.id!==t.id}).concat(p(p({},r),{},{message:o,pulse:r.pulse?r.pulse+1:1}));return e.set("toastAlerts",a)}return e.set("toastAlerts",n.concat(t))}function B(e,t){var n=t.dotsPerUnit,r=t.units,o=t.dpiMode;return n&&(e=e.setIn(["printResolution","dotsPerUnit"],n)),r&&(e=e.setIn(["printResolution","units"],r)),o&&(e=e.setIn(["printResolution","dpiMode"],o)),(r||n)&&(e=e.set("fabricTimeStamp",+new Date)),e}function F(e,t){var n=t.units;return e.setIn(["ruler","units"],n)}function z(e,t){var n=g(e,t);return e.setIn(["fabric","pages",n,"selected"],be)}function U(e){return e.set("fabricEventsBound",!0)}function H(e,t){return e.set("tourIsPlaying",t)}function W(e,t){return"text"===t.type?e.setIn(["fabric","selectedTextTemplate"],t):e.setIn(["fabric","selectedTemplate"],t)}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case ee.a:return e.set("activeGradientColorStop",r);case ee.k:return w(e);case pe.j:case ee.M:return j(e,r);case ee.s:return I(e,r);case ee.n:return E(e,r);case ee.o:return P(e,r);case ee.m:return _(e,r);case ee.r:return N(e,r);case ee.q:return x(e,r);case ee.j:return M(e,r);case ee.w:return A(e,r);case ee.t:return R(e,r);case ee.L:return D(e,r);case ee.G:return T(e,r);case ee.C:return L(e,r);case ee.H:return G(e,r);case de.l:return v(e);case de.d:return y(e,r);case de.a:return S(e,r);case de.b:return O(e,r);case ee.f:return e.set("flashAlerts",e.get("flashAlerts").filter(function(e){return e.id!==r}));case ee.g:return e.set("toastAlerts",e.get("toastAlerts").filter(function(e){return e.id!==r}));case ee.E:return B(e,r);case ee.F:return F(e,r);case ee.e:return z(e,r);case ee.p:return U(e);case ee.J:return H(e,!0);case ee.l:return H(e,!1);case ee.K:return W(e,r);case ee.z:return e.set("dimmedComponents",r);case ee.d:return e.set("dimmedComponents",be);case ee.v:return e.update("imagesLookingForLicense",function(e){return++e});case ee.u:return e.update("imagesLookingForLicense",function(e){return Math.max(--e,0)});case ee.y:return e.set("closerFunc",r);case ee.B:return e.set("entryPoint",r);default:return e}}function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case ee.A:return e.merge(Object(Q.fromJS)(r));case ee.D:return e.set("isDraggingIn",r);default:return e}}function X(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=t.fullState;switch(n){case ee.P:return Y(e,o);case ee.R:return q(e,o);case ee.O:return J(e,"auto",o);case ee.Q:return J(e,"manual",o);case ee.N:return Z(e,r);case ee.I:return e.set("activeZoomLevel",r);default:return e}}function Y(e,t){var n=e.get("range"),r=we.default.evaluate(je.e.zoomLevel,t),o=n.findIndex(function(e){return e>r});return e.mergeIn(["current"],Object(Q.fromJS)({mode:"manual",level:o>-1?n.get(o):n.last()}))}function q(e,t){var n=e.get("range"),r=we.default.evaluate(je.e.zoomLevel,t),o=n.findLastIndex(function(e){return e<r});return e.mergeIn(["current"],Object(Q.fromJS)({mode:"manual",level:o>-1?n.get(o):n.first()}))}function Z(e,t){return e.mergeIn(["current"],Object(Q.fromJS)({level:t.zoom,panX:t.translateX,panY:t.translateY})).set("activeZoomLevel",t.zoom)}function J(e,t,n){return e.mergeIn(["current"],Object(Q.fromJS)({mode:t,level:we.default.evaluate(je.e.zoomLevel,n)}))}var $=n(41),Q=n(12),ee=n(19),te=Object(Q.Set)(),ne=n(659),re=n.n(ne),oe=n(254),ae=n.n(oe),ie=n(39),ce=n(660),ue=n(211),le=n(181),se=n(662),fe=n(116),de=n(110),pe=n(210);ie.a.includeKeyPathInSnapshots(["doc","fabric"]),ie.a.includeKeyPathInSnapshots(["doc","fabricTimeStamp"]),ie.a.includeKeyPathInSnapshots(["doc","printResolution"]);var he=Object(Q.fromJS)({ready:!1,title:"New Document",activeGradientColorStop:0,fabric:{pages:[{backgroundImageId:null,id:1,selected:Object(Q.List)()}],textSelectionStart:null,textSelectionEnd:null},fabricEventsBound:!1,fabricTimeStamp:0,flashAlerts:[],toastAlerts:[],spinnerComponent:"",lastPageId:1,printResolution:{dotsPerUnit:300,units:fe.c,dpiMode:"normal"},ruler:{units:fe.c},tourIsPlaying:!1,imagesLookingForLicense:0,dimmedComponents:[]}).setIn(["fabric","pages",0,"data"],{objects:[]}),be=Object(Q.List)(),me=function(e){e=Object(le.a)(e);for(var t={},n=e.length,r=0;r<n;r++){var o=e[r];t[o.id]=o}return t},ge=["fabric","pages"],ve={},ye=["fabric","pages",0,"data"],Oe=["fabric","pages",0,"backgroundImageId"],Se=Object(Q.fromJS)({windowWidth:window.innerWidth,windowHeight:window.innerHeight,isDraggingIn:!1}),we=n(1),je=n(192),Te=Object(Q.fromJS)(n(1374).zoom);Object($.a)({assets:f,doc:V,container:K,zoom:X})},,,function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case i.a:return e.set("currentLang",r);default:return e}}var o=n(41),a=n(12),i=n(818),c=n(454),u=Object(a.fromJS)({currentLang:Object(c.a)(),explicit:Object(c.c)()});Object(o.a)({Locale:r})},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SET_LANGUAGE"},function(e,t,n){"use strict";function r(e,t){var n=t.currentModalKey,r=t.modalProps,o=void 0===r?{}:r;return e.merge(Object(u.fromJS)({currentModalKey:n,modalProps:o}))}function o(e){return e.merge(Object(u.fromJS)({currentModalKey:"",modalProps:{}}))}function a(e){return e.merge(Object(u.fromJS)({enterKey:e.get("enterKey")+1}))}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,i=t.payload;switch(n){case l.c:return r(e,i);case l.a:return o(e);case l.b:return a(e);default:return e}}var c=n(41),u=n(12),l=n(365),s=Object(u.fromJS)({currentModalKey:"",modalProps:{},enterKey:0});Object(c.a)({modals:i})},function(e,t,n){"use strict";function r(e,t,n){return e.delete(t).insert(n,e.get(t))}function o(e,t){return l(e)||u(e,t)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function l(e){if(Array.isArray(e))return e}function s(){var e=L()(window,"editor",{}),t=e.initDims,n=t||{},r=n.height,o=void 0===r?U.a:r,a=n.width,i=void 0===a?U.b:a;return Object(M.fromJS)([{id:1,width:i,height:o,active:!0,selected:!0,presetId:W.defaultId}])}function f(e,t){return e.indexOf(e.find(function(e){return e.get("id")===t}))}function d(e,t){var n=t.id,r=x(e)||e.size-1,o=e.get(r),a=x(e)+1||e.size-1;return e=e.map(function(e){return e.set("active",!1).set("selected",!1)}),e.insert(a,o.merge(Object(M.fromJS)({assetId:0,active:!1,id:n})))}function p(e){return e.map(function(e){return e.delete("thumbnail")})}function h(e,t,n){var r=!1;t===A.default.evaluate(H.k.activePageId,n)&&(r=!0);var o=e.filter(function(e){return e.get("id")!==t});return r?o.setIn([0,"active"],!0):o}function b(e,t){var n=t.pageId,r=t.newId,o=t.position,a=void 0===o?-1:o;return-1===a&&(a=x(e)),e.insert(a+1,P(e,n).set("id",r).set("active",!1).set("selected",!1))}function m(e,t){var n=t.pageId,o=t.beforeId;return r(e,f(e,n),f(e,o))}function g(e,t){var n,r=t.dragIndex,o=t.hoverIndex,a=e.get(r),i=e.filter(function(e){return e.get("selected")}),c=i.contains(a);if(e.get(o).get("selected")&&c)return e;n=c?i:M.List.of(a);var u=0;return n.size>1&&o>r&&(u=n.size-1),e=e.filter(function(e){return!n.contains(e)}),n.reverse().reduce(function(e,t){return e.insert(o-u,t)},e)}function v(e,t){var n=_(e,t);return r(e,n,n-1)}function y(e,t){var n=_(e,t);return r(e,n,n+1)}function O(e,t){return r(e,_(e,t),e.size)}function S(e,t){return r(e,_(e,t),0)}function w(e,t){return e.map(function(e){var n=e.get("id")===t;return e.set("active",n).set("selected",n)})}function j(e,t){var n=t.pageId,r=t.width,o=t.height,a=_(e,n),i=e.get(a);return i.get("height")===o&&i.get("width")===r||(e=e.set(a,i.set("height",o).set("width",r))),e}function T(e,t){return t.pageId||(t.pageId=1),e.map(function(e){return e.get("id")===t.pageId&&(e=e.set("assetId",t.id)),e})}function E(e,t){return e.update(x(e),function(e){return e.set("presetId",t.id)})}function C(e,t){return e.update(_(e,t),function(e){return e.set("selected",!e.get("selected"))})}function k(e,t){var n=[x(e),_(e,t)].sort(function(e,t){return e-t}),r=o(n,2),a=r[0],i=r[1];return e.map(function(e,t){return e.set("selected",B()(t,a,i+1))})}function x(e){return e.findIndex(function(e){return e.get("active")})}function P(e,t){return e.find(function(e){return e.get("id")===t})}function _(e,t){return e.findIndex(function(e){return e.get("id")===t})}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=t.fullState;switch(n){case z.c:return p(e,r);case F.b:return E(e,r);case z.a:return d(e,r);case z.b:return h(e,r,o);case z.d:return b(e,r);case z.f:return m(e,r);case z.j:return v(e,r);case z.h:return y(e,r);case z.i:return O(e,r);case z.g:return S(e,r);case z.n:return w(e,r);case z.m:return j(e,r);case z.k:return T(e,r);case z.l:return s();case z.o:return k(e,r);case z.p:return C(e,r);case z.e:return g(e,r);default:return e}}var N=n(41),M=n(12),A=n(1),R=n(39),D=n(21),L=n.n(D),G=n(666),B=n.n(G),F=n(386),z=n(110),U=n(667),H=n(14),W=n(668);R.a.includeKeyPathInSnapshots(["pages"]);var V=s();Object(N.a)({pages:I})},function(e,t,n){"use strict";function r(e){return e?(i?o=Promise.resolve():a||(a=!0,o=n.e(34).then(n.bind(null,2057)).then(function(){i=!0})),o.then(function(){return n(1380)("./".concat(e,".svg"))})):Promise.resolve("")}t.a=r;var o,a=!1,i=!1},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=h();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=n(0),v=n.n(g),y=n(5),O=n.n(y),S=n(4),w=n.n(S),j=n(370),T=n.n(j),E=n(23),C=n(380),k=n(2),x=n(158),P=n.n(x),_=n(116),I=n(152),N=function(e){var t=e.title,n=e.value,r=e.convertFunc,o=e.inputLabel,a=e.onChange,i=e.onFocus,c=e.onKeyDown,u=e.onKeyUp,l=e.onBlur,s=e.units;return v.a.createElement("label",{className:"cmpPixelInput"},v.a.createElement("input",{type:"number",name:o,title:t,value:r(n),placeholder:o,onChange:a,onFocus:i,onKeyDown:c,onKeyUp:u,onBlur:l,min:1}),v.a.createElement("div",{className:"units"},s),v.a.createElement("div",{className:"labelName"},o))},M=N,A=n(9),R=n(7);n.d(t,"a",function(){return B});var D=Object(k.c)(P.a),L=Object(C.b)(),G=Object(C.b)(),B=function(e){function t(){var e,r;i(this,t);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return r=n.call.apply(n,[this].concat(a)),m(p(r),"state",{dimensionsError:"",height:r.props.presetHeight,width:r.props.presetWidth,locked:r.props.locked}),m(p(r),"onLock",function(){R.a.click(A._64);var e=!r.state.locked;r.setState({locked:e}),r.props.toggleLock(e)}),m(p(r),"onChange",{width:r.onDimChange.bind(p(r),"width"),height:r.onDimChange.bind(p(r),"height")}),m(p(r),"onKeyDown",function(e){if([I.d,I.a,I.b].includes(e.keyCode))return e.preventDefault(),!1;e.keyCode===I.e&&r.handleConfirm()}),m(p(r),"handleBlur",function(e){r.dimensionsError(),r.handleConfirm(e)}),m(p(r),"onDimFocus",function(e,t){if(R.a.click(t),r.state.locked){var n="width"===e?"height":"width";r.ratio=r.state[n]/r.state[e]}}),m(p(r),"onFocus",{width:r.onDimFocus.bind(p(r),"width",A._67),height:r.onDimFocus.bind(p(r),"height",A._63)}),m(p(r),"handleConfirm",(e=r).handleConfirm.bind(e)),r}l(t,e);var n=f(t);return u(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.presetHeight,r=t.presetWidth;!t.rightPanelView||e.presetHeight===n&&e.presetWidth===r||n===this.state.height&&r===this.state.width||this.setState({height:n,width:r,dimensionsError:""})}},{key:"onDimChange",value:function(e,t){var n=t.target.value,r=m({},e,this.props.convertFuncReverse(t.target.value));if(this.state.locked&&n){var o=this.ratio;r["width"===e?"height":"width"]=this.props.convertFuncReverse(Math.min(Math.round(n*o)||1,999999999))}this.setState(r)}},{key:"getFormValues",value:function(){var e=this.props,t=e.presetWidth,n=e.presetHeight,r=this.state,o=r.height,a=r.width,i=this.state.locked,c=!1;return a||(a=t,i&&(o=n),c=!0),o||(o=n,i&&(a=t),c=!0),o=Math.round(o),a=Math.round(a),c&&this.setState({width:a,height:o}),{height:o,width:a}}},{key:"handleConfirm",value:function(e){e&&e.preventDefault&&e.preventDefault();var t=this.props,n=t.onConfirm,r=t.presetWidth,o=t.presetHeight,a=t.onError,i=this.dimensionsError();if(i)a&&a({dimensionsError:i});else{var c=this.getFormValues(),u=c.height,l=c.width,s=o!==u||r!==l;n&&n({width:l,height:u,inputsHaveChanged:s,dimensionsError:i})}}},{key:"dimensionsError",value:function(){var e=this.props,t=e.displayUnits,n=e.convertFunc,r=e.dpi,o=e.dpiMode,i=this.getFormValues(),c=i.height,u=i.width,l=c&&u,s="";if(l){if(u>G||c>L){var f=n(G),d=n(L),p={WIDTH:T()(f).format(),HEIGHT:T()(d).format(),UNITS:_.f[t].short};t!==_.c?"auto"!==o&&(s=D("preset.errors.max-size-converted-dpi",a(a({},p),{},{DPI:r}))):s=D("preset.errors.max-size-converted",p)}}else s=D("preset.errors.enter-dimensions");return this.setState({dimensionsError:s}),s}},{key:"createPixelInput",value:function(e){var t=this.props.displayUnits;return v.a.createElement(M,{units:_.f[t].short,inputLabel:D("dimensions.".concat(e)),title:D("image.".concat(e,"-title")),value:this.state[e],convertFunc:this.props.convertFunc,onChange:this.onChange[e],onFocus:this.onFocus[e],onKeyDown:this.onKeyDown,onBlur:this.handleBlur})}},{key:"render",value:function(){var e=this.state,t=e.dimensionsError,n=e.locked,r=D(n?"action.click-to-unlock":"action.click-to-lock");return v.a.createElement("div",{className:"cmpCustomPresetEdit"},v.a.createElement("form",{onSubmit:this.handleConfirm,noValidate:!0},v.a.createElement("div",{className:"flex-row"},v.a.createElement("div",{className:w()("cmpDimensionsInput","cmpField",{"has-errors":t})},this.createPixelInput("width"),v.a.createElement("div",{className:w()("lockInteraction",{locked:n}),onClick:this.onLock},v.a.createElement("div",{className:"line"}),v.a.createElement(E.b,{name:n?"lock":"unlock","aria-label":r,"data-tip":r,"data-for":"globalToolTip"})),this.createPixelInput("height"),t&&v.a.createElement("ul",{className:"cmpFieldErrors"},t)))))}}]),t}(g.PureComponent);m(B,"displayName","CustomPresetEdit"),m(B,"propTypes",{presetHeight:O.a.number,presetWidth:O.a.number,toggleLock:O.a.func,handleSave:O.a.func,locked:O.a.bool,rightPanelView:O.a.bool,displayUnits:O.a.string,convertFunc:O.a.func,convertFuncReverse:O.a.func}),m(B,"defaultProps",{presetWidth:0,presetHeight:0,toggleLock:function(){},handleSave:null,locked:!1,rightPanelView:!1,displayUnits:_.c,convertFunc:function(e){return e},convertFuncReverse:function(e){return e}})},function(e,t,n){"use strict";function r(e){var t=Object(o.g)(e);return t?t.toJS():null}t.a=r;var o=n(14)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(468),m=[-1,-1,-1,-1],g=function(){function e(t){r(this,e),i(this,"x",null),i(this,"y",null),i(this,"enabled",!1),i(this,"visible",!1),i(this,"color",b.a.rulerPositionIndicator),i(this,"_prevLeftRect",m.slice()),i(this,"_prevTopRect",m.slice()),i(this,"onMouseMove",this.onMouseMove.bind(this)),i(this,"onMouseLeave",this.onMouseLeave.bind(this)),i(this,"onMouseEnter",this.onMouseEnter.bind(this)),i(this,"render",this.render.bind(this)),i(this,"clear",this.clear.bind(this)),this.ruler=t,this.canvas=this.ruler.canvas,this.canvas.on("after:render",this.render),this.canvas.on("mouse:move",this.onMouseMove),this.canvas.on("mouse:over",this.onMouseEnter),this.canvas.on("mouse:out",this.onMouseLeave)}return a(e,[{key:"dispose",value:function(){this.canvas.off("after:render",this.render),this.canvas.off("mouse:move",this.onMouseMove),this.canvas.off("mouse:over",this.onMouseEnter),this.canvas.off("mouse:out",this.onMouseLeave)}},{key:"onMouseMove",value:function(e){this.x=e.e.offsetX,this.y=e.e.offsetY,this.render()}},{key:"onMouseLeave",value:function(){this.visible=!1,this.clear()}},{key:"onMouseEnter",value:function(){this.visible=!0,this.render()}},{key:"enable",value:function(){this.enabled=!0,this.render()}},{key:"disable",value:function(){this.enabled=!1,this.clear(),this._prevLeftRect=m.slice(),this._prevTopRect=m.slice()}},{key:"render",value:function(){var e=this.x,t=this.y,n=this.enabled,r=this.visible,o=this.canvas.contextTop;if(null!=o&&n&&r&&null!=e&&null!=t){this.clear();var a=this.ruler.leftRulerOffset+this.ruler.thickness,i=this.ruler.topRulerOffset+this.ruler.thickness;e<a&&t<i||(o.save(),o.strokeStyle=this.color,o.beginPath(),e>a&&(o.moveTo(e,this.ruler.topRulerOffset),o.lineTo(e,this.ruler.topRulerOffset+this.ruler.thickness)),t>i&&(o.moveTo(this.ruler.leftRulerOffset,t),o.lineTo(this.ruler.leftRulerOffset+this.ruler.thickness,t)),o.stroke(),o.restore())}}},{key:"clear",value:function(){var e=this.canvas.contextTop;if(null!=e){if(-1!==this._prevLeftRect[0]){var t=this._prevLeftRect;e.clearRect(t[0],t[1],t[2],t[3])}if(-1!==this._prevTopRect[0]){var n=this._prevTopRect;e.clearRect(n[0],n[1],n[2],n[3])}this._prevLeftRect[0]=this.ruler.leftRulerOffset,this._prevLeftRect[1]=0,this._prevLeftRect[2]=this.ruler.thickness,this._prevLeftRect[3]=this.ruler.canvas.height,this._prevTopRect[0]=0,this._prevTopRect[1]=this.ruler.topRulerOffset,this._prevTopRect[2]=this.ruler.canvas.width,this._prevTopRect[3]=this.ruler.thickness}}}]),e}(),v=n(116),y=[.001,.002,.005,.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3],O=function(){function e(t){c(this,e),s(this,"tickColor","#4a4a4a"),s(this,"labelColor","#acb0b9"),s(this,"labelOffsetX",3),s(this,"labelOffsetY",11),s(this,"fontFamily",'"Roboto", sans-serif'),s(this,"fontSize",10),s(this,"units",v.c),s(this,"pixelsPerUnit",1),this.ruler=t}return l(e,[{key:"setThickness",value:function(e){this.thickness=e,this.tickDividerLength=this.thickness,this.tickLargeLength=Math.floor(this.thickness/3),this.tickSmallLength=Math.floor(this.thickness/5)}},{key:"setDimensions",value:function(e,t){this.width=e,this.height=t}},{key:"chooseIntervalLength",value:function(){var e=this;return y.find(function(t,n,r){var o=r[n+1],a=t*e.pixelsPerUnit*e.pixelZoomRatio;return t>=e.pixelZoomRatio&&a>60||null==o||o*e.pixelsPerUnit*e.pixelZoomRatio>200})*this.pixelsPerUnit}},{key:"setPageViewport",value:function(e,t){var n=t.br.x-t.tl.x;this.startX=t.tl.x,this.startY=t.tl.y,this.pageWidth=e.width,this.pageHeight=e.height,this.pixelZoomRatio=this.width/n,this.pagePixelsPerInterval=this.chooseIntervalLength(),this.screenPixelsPerInterval=this.pagePixelsPerInterval*this.pixelZoomRatio}},{key:"draw",value:function(e){e.save(),e.transform(1,0,0,1,0,this.ruler.topRulerOffset),this._draw(e,"x",this.startX,this.pageWidth),e.restore(),e.save(),e.scale(1,-1),e.rotate(-Math.PI/2),e.transform(1,0,0,1,this.ruler.leftRulerOffset,0),this._draw(e,"y",this.startY,this.pageHeight),e.restore()}},{key:"_draw",value:function(e,t,n,r){var o="x"===t,a=this.createTicks(),i=a.ticks,c=a.gapSize;e.fillStyle=this.tickColor,e.strokeStyle=this.tickColor,e.font="normal normal ".concat(this.fontSize,"px ").concat(this.fontFamily);for(var u=0;u<=r;u+=this.pagePixelsPerInterval){var l=Math.ceil(this.pixelZoomRatio*(-n+u))+.5;e.save(),e.transform(1,0,0,1,l,0),e.beginPath();for(var s=0;s<i.length;s++)this.drawTick(e,s*c,i[s]);e.stroke(),e.restore(),e.fillStyle=this.labelColor;var f=this.labelOffsetX,d=this.labelOffsetY,p=v.e(this.units,u/this.pixelsPerUnit);o?e.fillText("".concat(p),l+f,d):(e.scale(-1,1),e.fillText("".concat(p),-l+f,d),e.scale(-1,1))}}},{key:"createTicks",value:function(){var e,t;this.screenPixelsPerInterval<=40?(e=this.screenPixelsPerInterval/5,t=4):(e=this.screenPixelsPerInterval/10,t=9);for(var n=[this.tickDividerLength],r=1;r<=t;r++)r%2!=0?n.push(this.tickLargeLength):n.push(this.tickSmallLength);return{gapSize:e,ticks:n}}},{key:"drawTick",value:function(e,t,n){var r=Math.floor(t);e.moveTo(r,this.thickness-n),e.lineTo(r,this.thickness)}}]),e}();n.d(t,"a",function(){return S}),n.d(t,"b",function(){return w});var S=26,w=function(){function e(t){f(this,e),h(this,"type","editorRuler"),h(this,"thickness",S),h(this,"topRulerOffset",0),h(this,"leftRulerOffset",0),h(this,"rulerColor",b.a.rulerColor),h(this,"cornerSquareColor",b.a.rulerCornerSquareColor),h(this,"enabled",!1),h(this,"onObjectSelected",this.onObjectSelected.bind(this)),h(this,"onSelectionCleared",this.onSelectionCleared.bind(this)),h(this,"render",this.render.bind(this)),this.canvas=t,this.scale=new O(this),this.scale.setThickness(this.thickness),this.positionIndicator=new g(this),this.canvas.on("selection:created",this.onObjectSelected),this.canvas.on("selection:cleared",this.onSelectionCleared),this.canvas.on("after:render",this.render)}return p(e,[{key:"dispose",value:function(){this.positionIndicator.dispose(),this.canvas.off("selection:created",this.onObjectSelected),this.canvas.off("selection:cleared",this.onSelectionCleared),this.canvas.off("after:render",this.render)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0,this.positionIndicator.enable())}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1,this.positionIndicator.disable())}},{key:"containsPoint",value:function(e,t){var n=this.width,r=this.height,o=this.topRulerOffset,a=this.leftRulerOffset,i=this.thickness;return!!this.enabled&&(e>=0&&e<=n&&t>=o&&t<=o+i||e>=a&&e<=a+i&&t>=0&&t<=r)}},{key:"onObjectSelected",value:function(){this.positionIndicator.render()}},{key:"onSelectionCleared",value:function(){this.positionIndicator.render()}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ctx,n=this.canvas.contextContainer;t&&t===n&&this.enabled&&(this.pageSize=this.canvas.getArtboard(),this.pageSize&&null!==this.canvas.vptCoords.tl&&(this.drawBackground(n),this.scale.setDimensions(this.canvas.width,this.canvas.height),this.scale.setPageViewport(this.pageSize,this.canvas.vptCoords),this.scale.draw(n),this.drawCornerSquare(n)))}},{key:"drawBackground",value:function(e){var t=this.canvas,n=t.width,r=t.height,o=this.leftRulerOffset,a=this.topRulerOffset,i=this.thickness,c=o+i-.5,u=a+i-.5;e.fillStyle=this.rulerColor,e.strokeStyle=this.scale.tickColor,e.fillRect(0,a,n,i),e.fillRect(o,0,i,r),e.beginPath(),e.moveTo(n,u),e.lineTo(c,u),e.lineTo(c,r),e.stroke()}},{key:"drawCornerSquare",value:function(e){e.save(),e.transform(1,0,0,1,this.leftRulerOffset,this.topRulerOffset),e.fillStyle=this.cornerSquareColor,e.fillRect(0,0,this.thickness,this.thickness),e.restore()}},{key:"setUnits",value:function(e,t,n){this.scale.pixelsPerUnit=n(1),this.scale.units=e,this.render()}}]),e}()},function(e,t,n){"use strict";var r=n(70);n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return L});var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(7),O=n(515),S=n(363),w=n(134),j=n(1),T=n(48),E=n(257),C=n(15),k=n(23),x=n(922),P=n(2),_=n(1471),I=n.n(_),N=n(513),M=n(185),A=n(186),R=n(9),D=Object(P.c)(I.a),L=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"showAboutModal",function(e){e.preventDefault(),document.getElementById("about-container").style.display="block"}),h(f(e),"handleCustomerSupportClick",function(e){var t=e.target;y.b.track("selected contact support",{link:t.href})}),h(f(e),"handleSupportCenterClick",function(e){var t=e.target;y.b.track("selected support link",{link:t.href})}),h(f(e),"handleTourClick",function(e){e.preventDefault(),S.a.start(),y.b.track("reopened onboarding")}),h(f(e),"handleKeyboardshortcutsClick",function(e){e.preventDefault(),T.a.showModal({modal:"ShortcutMenuModal"})}),h(f(e),"handleLanguageClick",function(e){e.preventDefault();var t=function(){T.a.showModal({modal:"LanguageSelect"})};C.b.isEnabled("autoSave")?t():Object(x.a)(t,{alternativeAction:t,showLoader:!0})}),e}c(t,e);var n=l(t);return i(t,[{key:"handleStartTutorialClick",value:function(){N.default.showStartHelpMenu()}},{key:"render",value:function(){var e=this,t=this.props.onItemClick,n=j.default.evaluate(w.a),r=C.b.isEnabled("embed");return m.a.createElement("div",{id:"helpmenutour",className:"file-menu-container"},!r&&m.a.createElement("a",{href:"https://www.shutterstock.com/contactus?inquiry=0",target:"_blank",onClick:function(n){e.handleCustomerSupportClick(n),t&&t(n)},className:"file-menu",draggable:"false","data-track":R._141},D("help.contactcustomersupport")),!r&&m.a.createElement("a",{href:"http://www.shutterstock.com/".concat(n,"/support/pkb_sstk_core_customerkb_home?c=CustomerKB%3AEditor"),target:"_blank",draggable:"false",onClick:function(n){e.handleSupportCenterClick(n),t&&t(n)},className:"file-menu","data-track":R._145},D("help.visitsupportcenter")),!r&&m.a.createElement("a",{className:"file-menu",draggable:"false",onClick:function(n){e.handleTourClick(n),t&&t(n)},"data-track":R._142},D("help.editortips")),m.a.createElement("a",{className:"file-menu",draggable:"false",onClick:function(n){e.handleKeyboardshortcutsClick(n),t&&t(n)},style:{textTransform:"capitalize"},"data-track":R._143},"".concat(D("shortcutmenu.title")," (").concat(Object(E.a)("help").key,")")),m.a.createElement(A.a,{open:this.props.openStartTutorial,popper:Object(M.e)()},m.a.createElement("a",{className:v()("file-menu",{hovered:this.props.openStartTutorial}),draggable:"false",onClick:function(n){e.handleStartTutorialClick(n),t&&t(n)}},"".concat(D("help.start_tutorial")))),m.a.createElement("a",{className:"file-menu chooseLanguage",draggable:"false",onClick:function(n){e.handleLanguageClick(n),t&&t(n)},style:{textTransform:"capitalize"},"data-track":R._144},m.a.createElement(k.b,{name:"earth"})," ",Object(O.a)(n),"..."),window.editor.aboutPage&&m.a.createElement("a",{onClick:function(n){e.showAboutModal(n),t&&t(n)},className:"file-menu about-page",style:{padding:C.b.isEnabled("embed")?0:"0 10px"}},D("help.about_image")))}}]),t}(b.PureComponent)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){"end"===n&&(n="done"),"quit"===n&&(n="skip",P.b.track("skipped onboarding",{stepName:e})),P.a.click(Object(_.X)(t,n))}function c(e){return function(){return h.a.createElement(m.a,{target:"text"},h.a.createElement(y.a,{open:!0,popper:e},h.a.createElement(g.a,{isActive:!0,button:Object(v.Map)({icon:"text",id:"text"})})))}}function u(e){return function(){var t=Object(x.b)(o(o({},e),{},{title:M.stepA,message:N("onboarding.start-designing.text")}));return C.default.dispatch(I.d,{step:"start-designing"}),Object(O.g)({Modal:function(){return h.a.createElement("div",null)},props:{className:"no-transform"},skipClear:!0}),Object(O.g)({Modal:c(t),props:{className:"no-transform"},skipClear:!0})}}function l(e){return function(){return h.a.createElement(m.a,{defaultLeft:55,defaultTop:70},h.a.createElement(y.a,{open:!0,popper:e},h.a.createElement(j.a,{className:"forOnboarding",activePageDims:new v.Map({width:1200,height:1200}),templatePresets:C.default.evaluate(E.c.templatePresets)})))}}function s(e){return function(){var t=Object(x.b)(o(o({},e),{},{title:M.stepB,message:N("onboarding.get-inspired.text")}));return C.default.dispatch(I.d,{step:"get-inspired"}),Object(O.g)({Modal:function(){return h.a.createElement("div",null)},props:{className:"no-transform"},skipClear:!0}),Object(O.g)({Modal:l(t),props:{className:"no-transform"},skipClear:!0})}}function f(e){return function(){return h.a.createElement(m.a,{defaultLeft:55,defaultTop:70},h.a.createElement(y.a,{open:!0,popper:e},h.a.createElement(T.a,{className:"forOnboarding",sections:C.default.evaluate(k.b.sections),activeSectionIndex:1})))}}function d(e){return function(){var t=Object(x.b)(o(o({},e),{},{title:M.stepC,message:N("onboarding.save-or-share.text")}));return C.default.dispatch(I.d,{step:"save-or-share"}),Object(O.g)({Modal:function(){return h.a.createElement("div",null)},props:{className:"no-transform"},skipClear:!0}),Object(O.g)({Modal:f(t),props:{className:"no-transform"},skipClear:!0})}}var p=n(0),h=n.n(p),b=n(2),m=n(228),g=n(516),v=n(12),y=(n.n(v),n(186)),O=n(25),S=n(196),w=n.n(S),j=n(836),T=n(840),E=n(117),C=n(1),k=n(731),x=n(233),P=n(7),_=n(9),I=n(510),N=Object(b.c)(w.a),M={stepA:N("onboarding.start-designing.title"),stepB:N("onboarding.get-inspired.title"),stepC:N("onboarding.save-or-share.title")},A=[{action:u,tracking:i.bind(null,M.stepA)},{action:s,tracking:i.bind(null,M.stepB)},{action:d,tracking:i.bind(null,M.stepC)}];t.a={start:function(){return C.default.dispatch(I.c),Object(x.a)(A)[0]().then(function(){Object(O.a)(),P.b.track("finished onboarding"),C.default.dispatch(I.b)})}}},function(e,t,n){"use strict";e.exports={action:{back:"Back",exit:"Exit",share:"Share"}}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return j});var b=n(0),m=n.n(b),g=n(2),v=n(339),y=n.n(v),O=n(25),S=n(147),w=Object(g.c)(y.a),j=function(e){function t(){return a(this,t),n.apply(this,arguments)}u(t,e);var n=s(t);return c(t,[{key:"render",value:function(){var e=this.props,t=e.exit,n=e.alternativeAction,r=e.activeDesign;return m.a.createElement(S.a,o({},this.props,{iconName:"icon-modal-check",title:w("template-modal.save-title"),message:w("template-modal.save-sub-title"),placeholder:!r&&w("template-modal.save-placeholder"),initialInputValue:!r&&w("designs.untitled_design"),primaryActionLabel:w("action.save"),secondaryActionLabel:w(t?"action.exit":"action.cancel"),preButtonMessage:w("template-modal.save-note"),alternativeAction:n&&function(){Object(O.a)(),n()},alternativeActionLabel:n&&w("template-modal.small-action-label")}))}}]),t}(b.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(j,"displayName","Save Design")},function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=n(8),s=(n.n(l),n(371)),f=n(44),d=n(130),p=n(18),h=n(118),b=n(470),m=l.fabric.util.createClass(s.a,{type:"editorImage",getSrc:function(e){return"https://image.shutterstock.com/z/photo-slug-".concat(e||this.imageId,".jpg")},toObject:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.callSuper("toObject",[].concat(r(e),["signatureBarHeight"]))},calculateAspectRatio:function(e,t){var n="signatureBarHeight"in t?t.signatureBarHeight:100,r=e.naturalWidth||e.width;return((e.naturalHeight||e.height)-n)/r},setElement:function(e,t){var n=this.calculateAspectRatio(e,t);return t.aspectRatio=n,this.callSuper("setElement",e,t)}});m.fromObject=function(e,t){var n=l.fabric.util.object.clone(e);return h.a.getLoadedAsset({type:"editorImage",imageId:n.imageId}).then(function(e){l.fabric.Image.prototype._initFilters.call(n,n.filters,function(r){n.filters=r||[],l.fabric.Image.prototype._initFilters.call(n,n.resizeFilters,function(r){n.resizeFilters=r||[];var o=e.sourceImage;n._unMaskedElement=o;var a=Promise.resolve(o);return n.maskUrl&&(a=Object(p.a)(n.maskUrl).then(function(e){return n.mask=e,Object(b.a)(o,e)})),a.then(function(e){var r=new l.fabric.UserImage(e,n);t(r)})})})}).catch(function(e){throw Object(f.b)(e),Object(d.showErrorModal)(),e})},l.fabric.EditorImage=m,l.fabric.EditorImage.async=!0},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.onRotate,r=t.onPinch,o=t.onTap,i=e.hammerManager;i||(i=new a.a(e.upperCanvasEl),i.get("pinch").set({enable:!0,threshold:.05}),i.get("rotate").set({enable:!0,threshold:5}),i.get("tap").set({enable:!0,threshold:1,posThreshold:5}),e.hammerManager=i),o&&i.on("tap",o),n&&i.on("rotatestart rotatemove rotateend",n),r&&i.on("pinchstart pinchmove pinchend",r)}t.a=r;var o=n(1457),a=n.n(o)},function(e,t,n){"use strict";function r(e){return void 0!==e.pinchZoomStart}function o(e){var t=e.getActiveObject();return!(!t||void 0===t.startAngle)}function a(e,t){var n=e.rotation,o=e.type,a=t.fabricCanvas,i=a.getActiveObject();if(i&&!i.locked&&i.controls.mtr&&("rotateend"===o&&(i.lockMovementX=!1,i.lockMovementY=!1,delete i.startAngle,delete i.startingEventRotation),!r(a)&&("rotatestart"===o&&(i.lockMovementX=!0,i.lockMovementY=!0,i.startAngle=i.angle,i.startingEventRotation=n),"rotatemove"===o))){var c=i.startAngle+n-i.startingEventRotation,l=u.fabric.Object.prototype.snapAngle,s=u.fabric.Object.prototype.snapThreshold||l,f=Math.ceil(c/l)*l,d=Math.floor(c/l)*l;Math.abs(c-d)<s?c=d:Math.abs(c-f)<s&&(c=f),i.angle=c,a.requestRenderAll()}}function i(e,t){var n=e.scale,r=e.type,a=e.center,i=t.fabricCanvas,c=t.zoomHelpers;if("pinchend"===r&&delete i.pinchZoomStart,!o(i)&&("pinchstart"===r&&(i.pinchZoomStart=i.getZoom()),"pinchmove"===r&&i.pinchZoomStart)){var u=n*i.pinchZoomStart/i.getZoom();c.zoomCanvas(u,a.x,a.y,!1,!0)&&(i.requestRenderAll(),c.handleZoomAndPanChangeDebounced(i))}}function c(e,t){var n=t.fabricCanvas,r=n.getPointer(e.srcEvent,!0),o=n.getPointer(e.srcEvent,!1),a=u.fabric.Canvas.prototype.findTarget.call(n,e.srcEvent);a&&!a.isEditing&&l.default.dispatch(s.d,{point:r}),!a&&n.backgroundImage.containsPoint(o,null,!0)&&l.default.dispatch(s.d,{point:r,editOnly:!0})}t.b=a,t.a=i,t.c=c;var u=n(8),l=(n.n(u),n(1)),s=n(367)},function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}var l=n(0),s=(n.n(l),n(834)),f=n(375),d=function(e){var t=e.historyIsDisabled,n=void 0!==t&&t,o=e.sharedHistory,a=e.disableKeyboardShortcut,i=e.bindKeyboardShortcut,c=e.undo,u=e.redo,d=Object(l.useState)({undoAvailability:!1,redoAvailability:!1}),p=r(d,2),h=p[0],b=p[1],m=function(){var e=Object(s.b)(o,n),t=Object(s.a)(o,n),r=h.historyAvailability,a=h.redoAvailability;e===r&&t===a||b({undoAvailability:e,redoAvailability:t})};return Object(l.useEffect)(m,[n]),Object(l.useEffect)(function(){return a(["mod+z","mod+shift+z","mod+y"]),i(["mod+z"],function(e){c(e,f.b)}),i(["mod+shift+z","mod+y"],function(e){e.preventDefault(),u(e,f.b)}),o.on("historyChanged",m),function(){o.removeListener("historyChanged",m)}},[]),{undoAvailability:h.undoAvailability,redoAvailability:h.redoAvailability}};t.a=d},function(e,t,n){"use strict";function r(e,t){return e.getUndoLength()>1&&!t}function o(e,t){return e.getRedoLength()>0&&!t}t.b=r,t.a=o},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return x});var b=n(1),m=n(0),g=(n.n(m),n(15)),v=n(16),y=n(99),O=n(18),S=n(722),w=n(19),j=n(25),T=n(22),E=n(195),C=n(98),k=document.getElementsByTagName("html")[0],x=function(e){function t(){var e,n;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return n=r.call.apply(r,[this].concat(i)),h(f(n),"dropZoneId","dropzone-main"),h(f(n),"uploadAssetURL",function(){return Object(O.l)()}),h(f(n),"dragEnter",(e=n).dragEnter.bind(e)),h(f(n),"dragEnd",(e=n).dragEnd.bind(e)),h(f(n),"onUploadStart",function(){b.default.dispatch(w.G,null),b.default.dispatch(w.D,!1),j.b.clearModal()}),n}c(t,e);var r=l(t);return i(t,[{key:"getDropZoneId",value:function(){return j.b.getCurrentModalType()===this.UploadModal?"modal-upload-dropdown":this.dropZoneId}},{key:"componentWillMount",value:function(){this.UploadModal=n(376)}},{key:"componentDidMount",value:function(){b.default.evaluate(T.r)&&(k.addEventListener("dragenter",g.b.isEnabled("embed")?this.dragEnterEmbed:this.dragEnter,!0),k.addEventListener("dragend",this.dragEnd,!0),k.addEventListener("dragexit",this.dragEnd,!0),k.addEventListener("dragleave",this.dragEnd,!0))}},{key:"componentWillUnmount",value:function(){b.default.evaluate(T.r)&&(k.removeEventListener("dragenter",g.b.isEnabled("embed")?this.dragEnterEmbed:this.dragEnter,!0),k.removeEventListener("dragend",this.dragEnd),k.removeEventListener("dragexit",this.dragEnd),k.removeEventListener("dragleave",this.dragEnd))}},{key:"dragEnterEmbed",value:function(e){if(!Object(S.a)(e))return!1;b.default.evaluate(T.o).get("custom_uploads")&&Object(E.b)("custom_uploads").then(function(){Object(v.g)("custom_uploads")}),b.default.dispatch(w.D,!0)}},{key:"dragEnter",value:function(e){if(!Object(S.a)(e))return!1;var t=j.b.getCurrentModalType()===this.UploadModal;void 0===this.lastPanelOpen&&(this.lastPanelOpen=b.default.evaluate(y.j.activeLeftPanelId)),Object(C.g)(),b.default.dispatch(w.D,!t)}},{key:"dragEnd",value:function(e){this.dropzoneElement=this.dropzoneElement||document.getElementById("dropzone-main");var t=Object(S.a)(e),n=!t,r=this.dropzoneElement===e.target;if(!n&&t&&r)return e.preventDefault(),e.stopPropagation(),null===this.lastPanelOpen?Object(v.b)():"assetsPanel"!==this.lastPanelOpen&&Object(v.g)(this.lastPanelOpen),this.lastPanelOpen=void 0,b.default.dispatch(w.D,!1),this.dropzoneElement=null,e.type}}]),t}(m.PureComponent)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){"@babel/helpers - typeof";return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function S(e){var t=T();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var P=n(4),_=n.n(P),I=n(0),N=n.n(I),M=n(5),A=n.n(M),R=n(723),D=n(164),L=n(837),G=n(107),B=n(16),F=n(9),z=n(117),U=n(14),H=n(11),W=n(234),V=n(2),K=n(158),X=n.n(K),Y=n(30),q=n(1),Z=n(39),J=n(518),$=n(182),Q=n(12),ee=n(38),te=n(7),ne=n(724),re=function(e){function t(){var e,r;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return r=n.call.apply(n,[this].concat(i)),h(f(r),"onTemplateGroupItemClick",(e=r).onTemplateGroupItemClick.bind(e)),r}c(t,e);var n=l(t);return i(t,[{key:"onTemplateGroupItemClick",value:function(e){var t=this.props,n=t.templateGroup,r=t.onTemplateClick,o=n.get("trackingKey");te.a.click(Object(F._119)(o,e)),r(e,o)}},{key:"renderGroupItem",value:function(e,t,n){var r=_()("id-".concat(e.id),{vertical:t<=n});return N.a.createElement(ne.a,{key:e.id,template:e,className:r,onClick:this.onTemplateGroupItemClick,styles:{width:t,height:n,cursor:this.props.isLoading?"wait":"pointer"}})}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.templateGroup,a=r.className,i=_()("cmpTemplatesGroup clearfix",a),c=o.get("templates").filter(function(e){return!e.hidden}),u=o.get("height"),l=o.get("width"),s=l/u;return l>u?(e=260,t=Math.ceil(e/s)):(e=124,t=Math.ceil(e/s)),N.a.createElement("div",{key:o.get("label"),className:i},c.map(function(r){return n.renderGroupItem(r,e,t)}))}}]),t}(I.PureComponent);h(re,"displayName","TemplatesGroup"),h(re,"propTypes",{templateGroup:A.a.object,onTemplateClick:A.a.func,t:A.a.func});var oe=Object(H.a)(function(e){return{isLoading:W.a.searchProgress(e)}})(re),ae=n(725),ie=n.n(ae),ce=n(273),ue=n(183),le=n(17);n.d(t,"a",function(){return fe});var se=Object(V.c)(k(k({},ie.a),X.a)),fe=function(e){function t(){var e,r;m(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),x(j(r),"state",{}),x(j(r),"templatesLoaded",ce.i.length>1),x(j(r),"groupRefCallbacks",{}),x(j(r),"templateGroupRefs",{}),x(j(r),"onTemplateClick",(e=r).onTemplateClick.bind(e)),x(j(r),"toggleHandler",(e=r).toggleHandler.bind(e)),x(j(r),"refControllerCallback",ee.a.refControllerCallback.bind(j(r))),r}y(t,e);var n=S(t);return v(t,[{key:"templateLoadHandler",value:function(){this.templateGroups=ce.c(ce.i,this.props.templatePresets),this.labelListItems=this.getLabelListItems(this.templateGroups)}},{key:"getLabelListItems",value:function(e){return e.map(function(e){var t=e.has("labelKey")?se(e.get("labelKey")):e.get("label");return{title:t,key:e.get("id"),label:N.a.createElement("span",null,N.a.createElement("b",null,t)," ",e.get("width")," x ",e.get("height"))}}).toJS()}},{key:"componentWillMount",value:function(){var e=this;this.templatesLoaded?this.templateLoadHandler():(this.templateGroups=new Q.List,this.labelListItems=[],ce.f.then(function(){e.templatesLoaded=!0,e.templateLoadHandler(),e.forceUpdate()})),this.labelDropdownModifiers={verticalResize:Object($.b)()}}},{key:"syncRouteIfNeeded",value:function(e,t,n){-1===n&&e.replace("/editor/template/".concat(t))}},{key:"onTemplateClick",value:function(e,t){var n=this,r=this.props.router,o=q.default.evaluate(Y.h.activeDesignId),a=q.default.evaluate(le.B.ignoreAddTemplateWarning);if(!this.props.isLoading){var i="template"===r.params.directive&&1===Z.a.undoStack.size&&-1===o;ue.b.setTemplate(e,{trackingKey:t,ignoreWarning:a}).then(function(){return n.syncRouteIfNeeded(r,e,o)}),i&&Z.a.resetUndoStack()}}},{key:"getActiveTemplateGroup",value:function(){var e=this.props.activePageDims,t=this.state.activeTemplateGroupId;return t?this.templateGroups.find(function(e){return e.get("id")===t}):ce.b(e,this.templateGroups)||this.templateGroups.first()}},{key:"toggleHandler",value:function(e){e&&(te.b.track("template category dropdown",{id:e}),this.setState({activeTemplateGroupId:e}))}},{key:"render",value:function(){var e=this,t=this.props.className,n=this.getActiveTemplateGroup(),r=n&&n.get("id"),o=this.labelListItems.find(function(e){return e.key===r});return N.a.createElement(D.a,{className:_()("cmpTemplatesPanel",t),closeTrack:F._116,onCloseButtonClick:B.b,forwardRef:this.refControllerCallback},this.templatesLoaded&&N.a.createElement(G.b,null,N.a.createElement(L.a,{className:"active"},N.a.createElement("h4",{className:"cmpTemplatesPanel-header"},se("templates.panel-header")),N.a.createElement("span",{className:"cmpTemplatesPanel-label"},"Template"),N.a.createElement(J.a,{listClassName:"templates-select",activeLabel:o.title,coverToggle:!0,items:this.labelListItems,toggleHandler:this.toggleHandler,modifiers:this.labelDropdownModifiers,width:"auto"}),N.a.createElement("hr",null),this.templateGroups.map(function(t){return r&&t.get("id")===r&&N.a.createElement(oe,{key:t.get("id"),className:_()(t.get("label").replace(/\s/g,"-").toLowerCase()),templateGroup:t,onTemplateClick:e.onTemplateClick})}))))}}]),t}(I.PureComponent);x(fe,"displayName","TemplatesPanel"),x(fe,"propTypes",{templatePresets:A.a.object,t:A.a.func}),x(fe,"defaultProps",{controllingKey:"templatesPanel"});t.b=Object(H.a)(function(e){return{activePageDims:U.k.activePageDims(e),templatePresets:z.c.templatePresets(e),isLoading:W.a.searchProgress(e)}})(Object(R.a)(fe))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return v});var h=n(0),b=n.n(h),m=n(4),g=n.n(m),v=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children;return b.a.createElement("div",{className:g()("cmpPanelSection ".concat(t))},n)}}]),t}(h.PureComponent)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return w});var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(23),O=n(9),S=n(38),w=function(e){function t(e){var r;o(this,t),r=n.call(this,e),h(f(r),"beginAutoScroll",function(){r.props.autoScroll&&(r.interval=setInterval(function(){r.next()},r.props.scrollInterval))}),h(f(r),"stopAutoScroll",function(){r.interval&&(clearInterval(r.interval),r.interval=null)}),h(f(r),"restartAutoScroll",function(){r.stopAutoScroll(),r.beginAutoScroll()}),h(f(r),"refControllerCallback",S.a.refControllerCallback.bind(f(r)));var a=r.props,i=a.initialPos,c=a.visibleSlides,u=m.a.Children.count(r.props.children),l=0;return i&&i>=0&&(l=Math.min(i,u-c)),r.state={currentPos:l,totalSlides:u},r.prev=r.prev.bind(f(r)),r.next=r.next.bind(f(r)),r.onPipClick=r.onPipClick.bind(f(r)),r}c(t,e);var n=l(t);return i(t,[{key:"componentDidMount",value:function(){this.beginAutoScroll()}},{key:"componentWillUnmount",value:function(){this.stopAutoScroll()}},{key:"prev",value:function(){var e,t=this.props,n=t.scrollBy,r=t.loop,o=t.onPagination,a=this.state,i=a.totalSlides,c=a.currentPos;c-n<0&&r?(e=i-1,this.setState({currentPos:e})):(e=Math.max(0,c-n),this.setState({currentPos:e})),o&&o(e)}},{key:"next",value:function(){var e,t=this.props,n=t.visibleSlides,r=t.scrollBy,o=t.loop,a=t.onPagination,i=this.state,c=i.totalSlides,u=i.currentPos;u+r>c-1&&o?(e=0,this.setState({currentPos:e})):(e=Math.min(c-n,u+r),this.setState({currentPos:e})),a&&a(e)}},{key:"renderSlides",value:function(){var e=Object.assign({},{marginLeft:this.props.slideMargin,marginRight:this.props.slideMargin},this.props.slideStyle);return m.a.Children.map(this.props.children,function(t,n){return m.a.createElement("div",{key:n,className:"editor-carousel-slide",style:e},t)})}},{key:"onPipClick",value:function(e){this.setState({currentPos:e}),this.restartAutoScroll()}},{key:"render",value:function(){var e=this,t=this.state,n=t.currentPos,r=t.totalSlides,o=this.props,a=o.visibleSlides,i=o.slideStyle,c=o.showCarets,u=o.showPips,l=o.loop,s=o.scrollSpeed,f=o.slideMargin,d=o.footerCaption,p=a*(i.width+2*f),h=n?-n*(i.width+2*f):0,b={WebkitTransform:"translateX(".concat(h,"px)"),msTransform:"translateX(".concat(h,"px)"),transform:"translateX(".concat(h,"px)"),transition:"transform ".concat(s,"ms ease-in-out")},g=v()({disabled:0===n&&!l},"editor-carousel-prev"),S=v()({disabled:n===r-a&&!l},"editor-carousel-next"),w=m.a.Children.toArray(this.props.children);return m.a.createElement("div",{ref:this.refControllerCallback,className:"editor-carousel"},c&&m.a.createElement("div",{className:g,onClick:this.prev,"data-track":O._13},m.a.createElement(y.b,{name:"caret-left"})),m.a.createElement("div",{className:"editor-carousel-inner-container",style:{width:p}},m.a.createElement("div",{className:"editor-carousel-inner",style:b},this.renderSlides()),d&&m.a.createElement("div",{className:"editor-carousel-caption"},d),u&&m.a.createElement("ul",{className:"editor-carousel-pips"},w.slice(0,r-a+1).map(function(t,r){var o=v()({active:r===n},"editor-carousel-pip");return m.a.createElement("li",{key:r,className:o,onClick:function(){e.onPipClick(r)}})}))),c&&m.a.createElement("div",{className:S,onClick:this.next,"data-track":O._14},m.a.createElement(y.b,{name:"caret-right"})))}}]),t}(b.PureComponent);h(w,"defaultProps",{initialPos:0,visibleSlides:1,scrollBy:1,pips:!1,autoScroll:!1,scrollInterval:500,scrollSpeed:500,slideMargin:3})},function(e,t,n){"use strict";e.exports={action:{cancel:"Cancel",delete:"Delete",page:{"delete-sub-title":"Are you sure you want to delete this page?","delete-title":"Delete page"},save:"Save"},"background-modal":{"confirmation-btn-text":"Replace","optout-text":"Don't show this message again.","subtitle-text":"Replace your background with new image or color. Clicking on the undo button can reverse this change.","title-text":"Replace your background?"},collections:{"save-to-tile":"Save to a Lightbox"},"delete-modal":{"sub-title":"NOTE: You cannot undo this.",title:"Are you sure you want to delete this image?"},download:{processing:"Download Processing..."},"image-unavailable":{"save-to-tile":"Were sorry, this image is currently not available in Shutterstock Editor.  Here are some images we found that are similar:","title-text":"Image unavailable"},"newdesign-modal":{"subtitle-text":"Select a canvas size, then get inspired by our templates.","title-text":"Choose your canvas size"},"share-fail-modal":{"primary-action-label":"Create a new design","secondary-action-label":"Exit to Shutterstock","sub-title":"Sorry! This design is no longer available for viewing.",title:"No longer available"},"social-sharing":{publish:{action:{processing:"Sharing your Project to __socialPlatform__"}}},"template-modal":{"delete-sub-title":"NOTE: You cannot undo this.","delete-title":"Are your sure you want to delete this design?"},"template-warning":{"apply-btn":"Apply","cancel-btn":"Cancel",title:"Apply a template to your design","sub-title":"By applying a template you will lose your existing design. To restore, click Undo button.","check-box":"Don't show again"}}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e){"@babel/helpers - typeof";return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=j();return function(){var n,r=T(e);if(t){var o=T(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e){"@babel/helpers - typeof";return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function x(e,t,n){return t&&k(e.prototype,t),n&&k(e,n),e}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=A();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){"@babel/helpers - typeof";return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function B(e,t,n){return t&&G(e.prototype,t),n&&G(e,n),e}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=V();return function(){var n,r=K(e);if(t){var o=K(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return H(this,n)}}function H(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?W(e):t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function X(e){"@babel/helpers - typeof";return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach(function(t){ce(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return t&&$(e.prototype,t),n&&$(e,n),e}function ee(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=ae();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ue(e){"@babel/helpers - typeof";return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),e}function de(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=ge();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ge(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oe(e){"@babel/helpers - typeof";return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach(function(t){Me(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&Te(e.prototype,t),n&&Te(e,n),e}function Ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=Ie();return function(){var n,r=Ne(e);if(t){var o=Ne(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?_e(e):t}function _e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ie(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ae(e){"@babel/helpers - typeof";return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(){return Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Re.apply(this,arguments)}function De(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ge(e,t,n){return t&&Le(e.prototype,t),n&&Le(e,n),e}function Be(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ze(e){var t=We();return function(){var n,r=Ve(e);if(t){var o=Ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?He(e):t}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function We(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Ve(e){return(Ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xe(e){"@babel/helpers - typeof";return(Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ze(e,t,n){return t&&qe(e.prototype,t),n&&qe(e,n),e}function Je(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$e(e,t)}function $e(e,t){return($e=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Qe(e){var t=nt();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return et(this,n)}}function et(e,t){return!t||"object"!==Xe(t)&&"function"!=typeof t?tt(e):t}function tt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function rt(e){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ot(e){"@babel/helpers - typeof";return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t,n){return t&&it(e.prototype,t),n&&it(e,n),e}function ut(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lt(e,t)}function lt(e,t){return(lt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function st(e){var t=pt();return function(){var n,r=ht(e);if(t){var o=ht(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(e,t){return!t||"object"!==ot(t)&&"function"!=typeof t?dt(e):t}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ht(e){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e){"@babel/helpers - typeof";return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(){return gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),e}function St(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wt(e,t)}function wt(e,t){return(wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jt(e){var t=Ct();return function(){var n,r=kt(e);if(t){var o=kt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){return!t||"object"!==mt(t)&&"function"!=typeof t?Et(e):t}function Et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function kt(e){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xt(e){"@babel/helpers - typeof";return(xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t,n){return t&&_t(e.prototype,t),n&&_t(e,n),e}function Nt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Mt(e,t)}function Mt(e,t){return(Mt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function At(e){var t=Lt();return function(){var n,r=Gt(e);if(t){var o=Gt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Rt(this,n)}}function Rt(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?Dt(e):t}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ft(e){"@babel/helpers - typeof";return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,t,n){return t&&Ut(e.prototype,t),n&&Ut(e,n),e}function Wt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kt(e){var t=qt();return function(){var n,r=Zt(e);if(t){var o=Zt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Xt(this,n)}}function Xt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?Yt(e):t}function Yt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Zt(e){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Jt(){return yi.default.showDismissibleLoginModal("login")}function $t(){return yi.default.showDismissibleLoginModal("signup")}function Qt(e){"@babel/helpers - typeof";return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t,n){return t&&tn(e.prototype,t),n&&tn(e,n),e}function rn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=ln();return function(){var n,r=sn(e);if(t){var o=sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cn(this,n)}}function cn(e,t){return!t||"object"!==Qt(t)&&"function"!=typeof t?un(e):t}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ln(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dn(e){"@babel/helpers - typeof";return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bn(e,t,n){return t&&hn(e.prototype,t),n&&hn(e,n),e}function mn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&gn(e,t)}function gn(e,t){return(gn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function vn(e){var t=Sn();return function(){var n,r=wn(e);if(t){var o=wn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yn(this,n)}}function yn(e,t){return!t||"object"!==dn(t)&&"function"!=typeof t?On(e):t}function On(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function wn(e){return(wn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jn(e){"@babel/helpers - typeof";return(jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function En(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){Tn(c,r,o,a,i,"next",e)}function i(e){Tn(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function Cn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t,n){return t&&kn(e.prototype,t),n&&kn(e,n),e}function Pn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){var t=An();return function(){var n,r=Rn(e);if(t){var o=Rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nn(this,n)}}function Nn(e,t){return!t||"object"!==jn(t)&&"function"!=typeof t?Mn(e):t}function Mn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function An(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ln(e){"@babel/helpers - typeof";return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fn(e,t,n){return t&&Bn(e.prototype,t),n&&Bn(e,n),e}function zn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Un(e,t)}function Un(e,t){return(Un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hn(e){var t=Kn();return function(){var n,r=Xn(e);if(t){var o=Xn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?Vn(e):t}function Vn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kn(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Xn(e){return(Xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qn(e){"@babel/helpers - typeof";return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t,n){return t&&Jn(e.prototype,t),n&&Jn(e,n),e}function Qn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&er(e,t)}function er(e,t){return(er=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tr(e){var t=or();return function(){var n,r=ar(e);if(t){var o=ar(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return nr(this,n)}}function nr(e,t){return!t||"object"!==qn(t)&&"function"!=typeof t?rr(e):t}function rr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function or(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ar(e){return(ar=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ir(e){var t=e.designs.size;return t<20&&t<e.totalCount}function cr(e){"@babel/helpers - typeof";return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e,t,n){return t&&lr(e.prototype,t),n&&lr(e,n),e}function fr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dr(e,t)}function dr(e,t){return(dr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pr(e){var t=mr();return function(){var n,r=gr(e);if(t){var o=gr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hr(this,n)}}function hr(e,t){return!t||"object"!==cr(t)&&"function"!=typeof t?br(e):t}function br(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e){"@babel/helpers - typeof";return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sr(e,t,n){return t&&Or(e.prototype,t),n&&Or(e,n),e}function wr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}function jr(e,t){return(jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tr(e){var t=kr();return function(){var n,r=xr(e);if(t){var o=xr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Er(this,n)}}function Er(e,t){return!t||"object"!==vr(t)&&"function"!=typeof t?Cr(e):t}function Cr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function xr(e){return(xr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _r(e){"@babel/helpers - typeof";return(_r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ir(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t,n){return t&&Nr(e.prototype,t),n&&Nr(e,n),e}function Ar(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rr(e,t)}function Rr(e,t){return(Rr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Dr(e){var t=Br();return function(){var n,r=Fr(e);if(t){var o=Fr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lr(this,n)}}function Lr(e,t){return!t||"object"!==_r(t)&&"function"!=typeof t?Gr(e):t}function Gr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Fr(e){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zr(e){"@babel/helpers - typeof";return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wr(e,t,n){return t&&Hr(e.prototype,t),n&&Hr(e,n),e}function Vr(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kr(e,t)}function Kr(e,t){return(Kr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Xr(e){var t=Zr();return function(){var n,r=Jr(e);if(t){var o=Jr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yr(this,n)}}function Yr(e,t){return!t||"object"!==zr(t)&&"function"!=typeof t?qr(e):t}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zr(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Jr(e){return(Jr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qr(e){"@babel/helpers - typeof";return(Qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eo(e){return oo(e)||ro(e)||no(e)||to()}function to(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function no(e,t){if(e){if("string"==typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ao(e,t):void 0}}function ro(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function oo(e){if(Array.isArray(e))return ao(e)}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function io(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function co(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uo(e,t,n){return t&&co(e.prototype,t),n&&co(e,n),e}function lo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&so(e,t)}function so(e,t){return(so=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fo(e){var t=bo();return function(){var n,r=mo(e);if(t){var o=mo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return po(this,n)}}function po(e,t){return!t||"object"!==Qr(t)&&"function"!=typeof t?ho(e):t}function ho(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bo(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function mo(e){return(mo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function go(e){"@babel/helpers - typeof";return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t,n){return t&&yo(e.prototype,t),n&&yo(e,n),e}function So(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wo(e,t)}function wo(e,t){return(wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jo(e){var t=Co();return function(){var n,r=ko(e);if(t){var o=ko(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return To(this,n)}}function To(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?Eo(e):t}function Eo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Co(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ko(e){return(ko=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Po(e){"@babel/helpers - typeof";return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t,n){return t&&Io(e.prototype,t),n&&Io(e,n),e}function Mo(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ao(e,t)}function Ao(e,t){return(Ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ro(e){var t=Go();return function(){var n,r=Bo(e);if(t){var o=Bo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Do(this,n)}}function Do(e,t){return!t||"object"!==Po(t)&&"function"!=typeof t?Lo(e):t}function Lo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Go(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Bo(e){return(Bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zo=n(0),Uo=n.n(zo),Ho=n(4),Wo=n.n(Ho),Vo=n(164),Ko=n(11),Xo=n(148),Yo=n(477),qo=n(5),Zo=n.n(qo),Jo=n(295),$o=n(128),Qo=n(159),ea=n(260),ta=n(841),na=n(234),ra=n(393),oa=n(9),aa=n(16),ia=n(23),ca=n(160),ua=n.n(ca),la=n(2),sa=n(215),fa=n.n(sa),da=Object(la.c)(fa.a),pa=function(e){function t(){return o(this,t),n.apply(this,arguments)}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){return Uo.a.createElement("div",{className:"cmpLightboxZeroState"},Uo.a.createElement("div",{className:"message"},Uo.a.createElement("div",{className:"zeroStateLightboxIcon"},Uo.a.createElement(ia.b,{name:"add-empty-lightbox"})),Uo.a.createElement("p",{className:"zeroStateLightboxText"},da("lightbox.zero-state"))))}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(pa,"displayName","LightboxZeroState");var ha=n(258),ba=n(127),ma=Object(la.c)(fa.a),ga=function(e){function t(){return b(this,t),n.apply(this,arguments)}v(t,e);var n=O(t);return g(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.actualWidth,r=t.actualHeight,o=t.preview;return Uo.a.createElement("div",{className:"cmpRecentlyViewedImageItem hoverable",style:{height:r,width:n}},Uo.a.createElement(ba.a,{className:"recentlyViewedImageItem",alt:"recently viewed image preview",src:o.link}),Uo.a.createElement("div",{className:"info-bar"},Uo.a.createElement(ia.a,{className:"info-toggle",name:"add-image-lightbox",clickTrack:oa.z,onClick:function(){return e.props.resultSelectionHandler(e)},title:ma("collection.recently-viewed-title")})))}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ga,"displayName","RecentlyViewedImageItem");var va=Object(la.c)(fa.a),ya=function(e){function t(){return C(this,t),n.apply(this,arguments)}P(t,e);var n=I(t);return x(t,[{key:"render",value:function(){var e=this.props.results,t=e.toJS();return Uo.a.createElement("div",{className:"cmpRecentlyViewedList"},Uo.a.createElement("div",null,va("recentlyviewed.title")),this.renderColumns(t,ga,{columnCount:3}))}}]),t}(ha.a);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ya,"displayName","RecentlyViewedList");var Oa=n(729),Sa=function(e){function t(){return L(this,t),n.apply(this,arguments)}F(t,e);var n=U(t);return B(t,[{key:"render",value:function(){var e=this.props.results,t=e&&e.get("items")?e.get("items").toJS():[];return Uo.a.createElement("div",{className:"cmpLightboxResultsList"},this.renderColumns(t,Oa.a,{columnCount:3,controllingKey:"collection",controllingIndex:{0:{0:!0}}}))}}]),t}(ha.a);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Sa,"displayName","LightboxResultsList");var wa=n(97),ja=Object(la.c)(fa.a),Ta=function(e){function t(e){var r,o;return J(this,t),o=n.call(this,e),ce(oe(o),"replaceBackground",(r=o).replaceBackground.bind(r)),ce(oe(o),"addToCanvas",(r=o).addToCanvas.bind(r)),ce(oe(o),"searchSimilarImage",(r=o).searchSimilarImage.bind(r)),ce(oe(o),"renderVectorView",(r=o).renderVectorView.bind(r)),ce(oe(o),"renderImageActionView",(r=o).renderImageActionView.bind(r)),o.handleRecentImageClick=o.handleRecentImageClick.bind(oe(o)),o}ee(t,e);var n=ne(t);return Q(t,[{key:"renderInterimAnimation",value:function(){return Uo.a.createElement("div",{className:"lightbox-pending"},Uo.a.createElement($o.a,{className:"InterimAnimation",src:"processing.gif"}))}},{key:"renderTitle",value:function(){var e=this.props.activeLightbox;return e&&Uo.a.createElement("div",{className:"lightbox-header"},Uo.a.createElement("span",{className:"lightbox-title"},ja("collection.title")),Uo.a.createElement("span",{className:"lightbox-name"},"| ","".concat(e.get("title"))),Uo.a.createElement("span",{className:"lightbox-count"},"(".concat(e.get("totalItemCount"),")")))}},{key:"handleRecentImageClick",value:function(e){var t=e.props,n=t.id,r=t.description,o=t.contributorID,a=t.vector,i=t.preview,c={id:n,description:r,contributorID:o,vector:a,preview:Z(Z({},i),{},{link:i.link})},u=this.props.activeLightbox.get("id");this.props.toggleContextMenu(-1),Object(Qo.a)(c,u)}},{key:"handleBack",value:function(){ea.c(null,"lightbox")}},{key:"replaceBackground",value:function(){var e=this.props,t=e.isDownloading,n=e._activeImageInfo.id;t||ea.b(n,oa._39).then(function(){return ea.c(null,"lightbox")})}},{key:"addToCanvas",value:function(){var e=this.props,t=e.isDownloading,n=e._activeImageInfo;t||ea.a(n,"lightbox")}},{key:"searchSimilarImage",value:function(){Object(aa.g)("search")}},{key:"renderVectorView",value:function(){return Uo.a.createElement("div",{className:"vectorView"},Uo.a.createElement("div",{className:"message"},ja("collection.message"),Uo.a.createElement(ia.b,{name:"help-icon","data-tip":!0,"data-for":"suggestTooltip","data-class":"suggestTooltip"}),Uo.a.createElement(ua.a,{id:"suggestTooltip",effect:"solid",place:"bottom"},Uo.a.createElement("div",{className:"suggestTooltipContent"},ja("collection.suggest-tooltip-content")))),Uo.a.createElement("a",{className:"similar-search",onClick:this.searchSimilarImage},ja("collection.search-similar")))}},{key:"renderImageActionView",value:function(){var e=this.props._activeImageInfo,t=Object(ra.a)(e.id);return Uo.a.createElement("div",null,Uo.a.createElement(wa.a,{blockLevel:!0,className:"btn-grey",onClick:this.replaceBackground,"data-track":oa.C,label:ja("search.set-as-background")}),Uo.a.createElement(wa.a,{blockLevel:!0,onClick:this.addToCanvas,"data-track":oa.y,label:ja("search.add-to-canvas")}),Uo.a.createElement(wa.a,{blockLevel:!0,onClick:function(){return window.open(t,"_blank")},"data-track":oa.E,label:ja("action.shutterstock")}))}},{key:"renderImageInfoOverlay",value:function(){var e=this.props._activeImageInfo;if(e){var t=e.vector,n=e.isSmallVector;return Uo.a.createElement(ta.a,Y({context:"Collections Panel",onClick:this.addToCanvas},e,{photoIdTrack:oa.F}),t&&n&&this.renderVectorView()||this.renderImageActionView())}return Uo.a.createElement("span",{key:"null"})}},{key:"render",value:function(){var e,t,n=this.props,r=n.handleBack,o=n.toggleContextMenu,a=n.openMenuId,i=n.activeLightbox,c=n.pending,u=n._activeImageInfo,l=n._lightboxError,s=n.show,f=n.recentlyViewed,d=i&&i.get("totalItemCount"),p=d>6,h=0===d,b=i&&i.get("items"),m=f&&f.size;t=p?"fullLightbox":h?"emptyLightbox":"lowLightbox";var g=this.renderImageInfoOverlay();e=c&&!b?this.renderInterimAnimation():Uo.a.createElement("div",{className:Wo()(t)},this.renderTitle(),h||l?Uo.a.createElement(pa,null):Uo.a.createElement(Sa,{results:i,toggleContextMenu:o,openMenuId:a}),!s||p||!m||l?null:Uo.a.createElement(ya,{results:f.slice(0,9),resultSelectionHandler:this.handleRecentImageClick}));var v=Wo()("lightboxOverlayContainer",{"imageinfo-overlay-open":!!u});return Uo.a.createElement(Jo.a,{className:"cmpLightboxOverlay",show:s,backTrack:oa.A,handleBack:r},Uo.a.createElement("div",{className:v},e),Uo.a.createElement(Jo.a,{className:"cmpLightboxImageDetail",show:!!u,handleBack:this.handleBack},g))}}]),t}(zo.PureComponent);ce(Ta,"displayName","LightboxOverlay"),ce(Ta,"propTypes",{show:Zo.a.bool,handleBack:Zo.a.func});var Ea=Object(Ko.a)(function(e){return{_activeImageInfo:Object(Xo.a)(e),isDownloading:na.a.searchProgress(e),_lightboxError:Object(Xo.f)(e)}})(Ta),Ca=function(e){function t(e){var r;return le(this,t),r=n.call(this,e),ye(me(r),"toggleContextMenu",function(e){r.setState({openMenuId:e})}),ye(me(r),"handleBack",function(){r.setState({openMenuId:null}),Qo.b.setActiveLightboxId(null)}),r.state={openMenuId:null},r}de(t,e);var n=he(t);return fe(t,[{key:"render",value:function(){var e=this.props,t=e.activeLightbox,n=e.lightboxReqPending,r=e.recentlyViewedImages,o=e.show;return Uo.a.createElement(Ea,{show:o,handleBack:this.handleBack,toggleContextMenu:this.toggleContextMenu,openMenuId:this.state.openMenuId,pending:n,activeLightbox:t,recentlyViewed:t&&r.filter(function(e){return!t.get("items",[]).find(function(t){return t.get("id")===e.get("id")})})})}}]),t}(zo.PureComponent);ye(Ca,"displayName","LightboxOverlayWrapper");var ka=Object(Ko.a)(function(e){return{activeLightbox:Xo.d.activeLightbox(e),lightboxReqPending:Xo.d.lightboxRequestPending(e),recentlyViewedImages:Xo.d.recentlyViewedImages(e)}})(Ca),xa=n(64),Pa=n(161),_a=n(17),Ia=n(152),Na=n(30),Ma=n(7),Aa=n(48),Ra=n(842),Da=n(187),La=n(22),Ga=n(90),Ba=n(25),Fa=n(119),za=n(183),Ua=n(188),Ha=n(383),Wa=n(390),Va=n(197),Ka=n(478),Xa=n(341),Ya=n.n(Xa),qa=Object(la.c)(Ya.a),Za=function(e){var t=e.title,n=e.onSubmit,r=e.onChange,o=e.value,a=e.defaultSubmitValue,i=e.maxLength;return Uo.a.createElement(Va.a,{className:"edit-file",inputClassName:"filename",title:t,value:o,validate:function(e){return!!e.trim()},onChange:r,onSubmit:n,icon:"edit-rename",disableAutofocus:!0,iconClassName:"edit-icon",submitOnBlur:!0,defaultSubmitValue:a,maxLength:i})},Ja=function(e){function t(){var e,r;je(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),Me(_e(r),"state",{designName:r.props.title}),Me(_e(r),"onChange",function(e){return r.setState({designName:e})}),Me(_e(r),"renameFile",function(e){var t=r.props,n=t.id,o=t.activeDesignId;Object(Ga.k)(n,e,n===o).then(function(){Ma.b.track("renamed design via panel",{id:n})})}),Me(_e(r),"deleteFile",function(){var e=r.props,t=e.id,n=e.activeDesignId;return Object(Ba.g)({Modal:Da.a,props:Fa.b}).then(function(){Object(Ga.c)(t).then(function(){t===n&&(Object(za.c)(),Object(Ua.b)()),Ma.b.track("deleted design via panel",{id:t})}),Aa.a.hideModal(),Pa.a.setInformationOverlay(null)})}),Me(_e(r),"copyFile",(e=r).copyFile.bind(e)),Me(_e(r),"openFile",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.props,n=t.id,o=t.activeDesign,a=t.hasUnsavedChanges;Pa.a.loadDesign(we({id:n,activeDesign:o,hasUnsavedChanges:a},e))}),Me(_e(r),"importFile",function(){var e=r.props,t=e.id,n=e.activeDesign;Pa.a.loadDesign({id:t,activeDesign:n,hasUnsavedChanges:!1,applyPartial:!0})}),r}Ce(t,e);var n=xe(t);return Ee(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.title;t!==this.state.designName&&this.setState({designName:t})}},{key:"copyFile",value:function(){var e=this.props.id;return Object(Ba.g)({Modal:Ra.a}).then(function(t){return Object(Ga.a)(e,t.trim())}).then(function(){Ma.b.track("copied design via panel",{id:e}),Pa.a.setInformationOverlay(null)})}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.thumbnail,o=e.title,a=e.maxLength,i=e.id;return Uo.a.createElement("div",{className:"cmpInformationOverlay"},Uo.a.createElement(Ka.a,{onClick:this.openFile,height:t,width:n,src:r,alt:o,crossOrigin:"anonymous",context:"Design Panel"}),Uo.a.createElement(Ha.a,null),Uo.a.createElement(Wa.a,{className:"previewDimensions",width:n,height:t}),Uo.a.createElement(Za,{title:qa("designs.information-overlay.edit"),onSubmit:this.renameFile,onChange:this.onChange,value:this.state.designName,defaultSubmitValue:qa("designs.untitled-design"),maxLength:a}),Uo.a.createElement(wa.a,{blockLevel:!0,onClick:function(){return window.open("/editor/design/".concat(i),"_blank")},className:"btn-grey",label:qa("designs.information-overlay.open")}),Uo.a.createElement(wa.a,{blockLevel:!0,onClick:this.importFile,label:qa("designs.information-overlay.import")}),Uo.a.createElement(wa.a,{id:"design-copy-button",blockLevel:!0,onClick:this.copyFile,label:qa("action.copy")}),Uo.a.createElement(wa.a,{blockLevel:!0,id:"deleteDesignBtn",label:qa("designs.information-overlay.delete"),onClick:this.deleteFile}))}}]),t}(zo.PureComponent);Me(Ja,"displayName","InformationOverlay");var $a=Object(Ko.a)(function(e){return{maxLength:Object(La.i)(e),activeDesign:Na.a(e),hasUnsavedChanges:_a.B.hasUnsavedChanges(e)}})(Ja),Qa=function(e){function t(){var e;De(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),Ke(He(e),"onKeyDown",function(t){if(t.keyCode===Ia.e){var n=e.props,r=n.activeOverlayId,o=n.activeDesign,a=n.hasUnsavedChanges;Pa.b({id:r,activeDesign:o,hasUnsavedChanges:a})}}),e}Be(t,e);var n=ze(t);return Ge(t,[{key:"render",value:function(){var e=this.props,t=e.activeOverlay,n=e.activeDesignId;return e.activeOverlayId&&Uo.a.createElement($a,Re({activeDesignId:n},t&&t.toJS()||{},{onKeyDown:this.onKeyDown}))}}]),t}(zo.PureComponent);Ke(Qa,"displayName","DesignsPanelOverlay");var ei=Object(Ko.a)(function(e){return{activeDesignId:Na.b(e),activeOverlay:Na.e(e),activeOverlayId:Na.f(e),activeDesign:Na.a(e),hasUnsavedChanges:_a.I(e)}})(Qa),ti=function(e){function t(){return Ye(this,t),n.apply(this,arguments)}Je(t,e);var n=Qe(t);return Ze(t,[{key:"handleBack",value:function(){Pa.d(null)}},{key:"render",value:function(){return Uo.a.createElement(Jo.a,{handleBack:this.handleBack,show:this.props.show},Uo.a.createElement(ei,null))}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(ti,"displayName","DesignsPanelOverlay");var ni=n(98),ri=n(235),oi=n(214),ai=n.n(oi),ii=Object(la.c)(ai.a),ci=function(e){var t=e.title,n=e.onSubmit,r=e.defaultValue,o=e.defaultSubmitValue;return Uo.a.createElement(Va.a,{className:"edit-file",inputClassName:"filename",title:t,defaultValue:r,onSubmit:function(e){return n({title:e})},validate:function(e){return!!e},icon:"edit-rename",iconClassName:"edit-icon",submitOnBlur:!0,defaultSubmitValue:o})},ui=function(e){function t(e){var r;return at(this,t),r=n.call(this,e),bt(dt(r),"deleteFile",function(){return Object(Ba.g)({Modal:Da.a,props:Fa.d}).then(function(){Object(ni.c)(r.props.id),Object(ni.h)(null)})}),r.onSubmit=r.onSubmit.bind(dt(r)),r}ut(t,e);var n=st(t);return ct(t,[{key:"onSubmit",value:function(e){var t=this.props.id;""!==e.title.trim()&&Object(ni.i)(t,e)}},{key:"render",value:function(){var e=this.props,t=e.height,n=e.width,r=e.preview,o=e.src,a=e.onClick;return Uo.a.createElement("div",{className:"cmpInformationOverlay"},Uo.a.createElement(Ka.a,{onClick:a,src:o,width:n,height:t,alt:r.fileTitle,context:"Uploads Panel"}),Uo.a.createElement(Ha.a,null),Uo.a.createElement(Wa.a,{className:"previewDimensions",width:n,height:t}),Uo.a.createElement(ci,{title:ii("upload.information-overlay.edit"),onSubmit:this.onSubmit,defaultValue:r.fileTitle,defaultSubmitValue:ii("uploads.untitled")}),Uo.a.createElement(wa.a,{id:"deleteUploadedAsset",label:ii("upload.information-overlay.delete"),onClick:this.deleteFile}))}}]),t}(zo.PureComponent);bt(ui,"displayName","InformationOverlayContent");var li=function(e){function t(){return vt(this,t),n.apply(this,arguments)}St(t,e);var n=jt(t);return Ot(t,[{key:"handleBack",value:function(){Object(ni.h)(null)}},{key:"render",value:function(){var e=this.props,t=e.imageInfo,n=e.onClick;return Uo.a.createElement(Jo.a,{handleBack:this.handleBack,show:this.props.show},Uo.a.createElement(ui,gt({onClick:n},t)))}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(li,"displayName","InformationPanelOverlay");var si=Object(Ko.a)(function(e){return{imageInfo:ri.b(e)}})(li),fi=n(720),di=n(721),pi=n(18),hi=n(71),bi=n.n(hi),mi=n(38),gi=Object(la.c)(fa.a),vi=function(e){function t(){var e,r;Pt(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),Bt(Dt(r),"state",{edit:!0,lightboxname:""}),Bt(Dt(r),"lightboxMenu",[{label:"",iconName:"down-arrow",actionName:"close"},{label:gi("lightbox.rename"),iconName:"edit-rename",actionName:"rename"},{label:gi("lightbox.delete"),iconName:"delete",actionName:"delete"}]),Bt(Dt(r),"openContextMenu",function(e){var t=r.props,n=t.lightbox,o=t.toggleContextMenu;e.stopPropagation(),e.preventDefault(),o(n.get("id"))}),Bt(Dt(r),"handleOpenLightbox",(e=r).handleOpenLightbox.bind(e)),Bt(Dt(r),"onMouseEnter",function(){r.loadingThisLightboxHasBegun||(r.props.loadLightbox(r.props.lightbox),r.loadingThisLightboxHasBegun=!0)}),Bt(Dt(r),"refControllerCallback",mi.a.refControllerCallback.bind(Dt(r))),r}Nt(t,e);var n=At(t);return It(t,[{key:"onItemClick",value:function(e,t){e.preventDefault(),e.stopPropagation();var n=this.props,r=n.lightbox;switch((0,n.toggleContextMenu)(-1),t){case"delete":this.showDeleteModal(r);break;case"rename":this.showRenameModal(r)}}},{key:"showDeleteModal",value:function(e){Aa.a.showModal({modal:"DeleteLightboxModal",actionFunction:function(){Qo.b.deleteLightbox(e.get("id"))}})}},{key:"showRenameModal",value:function(e){Aa.a.showModal({modal:"RenameLightboxModal",name:e.get("title"),actionFunction:function(t){Qo.b.renameLightbox(e.get("id"),t)}})}},{key:"drawContextMenu",value:function(){var e=this;return this.lightboxMenu.map(function(t,n){return Uo.a.createElement("button",{key:"".concat(n),onClick:function(n){e.onItemClick(n,t.actionName)},title:t.label,disabled:t.disabled,style:t.disabled?t.style:null},t.iconName?Uo.a.createElement(ia.b,{name:t.iconName}):Uo.a.createElement("span",null),t.label)})}},{key:"handleOpenLightbox",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(1!==e.button){e.preventDefault&&e.preventDefault();var t=this.props.lightbox.get("id");Ma.b.track("open lightbox",{source:oa._39,lightbox_id:t}),this.props.toggleContextMenu(-1),Qo.b.setActiveLightboxId(t)}}},{key:"render",value:function(){var e=this.props,t=e.lightbox,n=e.openId,r=!!t.get("coverItem"),o=n===t.get("id")?"isOpen":"",a=gi("collection.view-collection"),i=["coverItem","sizes","cdn_image","url"],c=t.getIn(i,"").replace("[SIZE]","250nw");return Uo.a.createElement("a",{ref:this.refControllerCallback,href:"/collections/".concat(t.get("id")),className:"lightbox-container",draggable:!1,onMouseEnter:this.onMouseEnter,onClick:this.handleOpenLightbox},Uo.a.createElement("div",{className:"lightbox-contents"},Uo.a.createElement("div",{className:"lightbox-preview-container"},r?Uo.a.createElement("div",{className:"lightbox-preview",style:{background:"url(".concat(c,")"),backgroundSize:"cover"}}):Uo.a.createElement("div",{className:"empty-lightbox-preview"},Uo.a.createElement(ia.b,{name:"image-placeholder"}))),Uo.a.createElement("div",{className:"lightbox-name"},Uo.a.createElement("div",{className:"lightbox-title"},t.get("title")),Uo.a.createElement("div",{className:"lightbox-count"},"(",t.get("totalItemCount"),")"))),Uo.a.createElement("div",{className:Wo()("".concat(o," lightbox-hover")),title:t.get("title")},Uo.a.createElement("div",{className:"lightbox-menu",onClick:this.openContextMenu},Uo.a.createElement(ia.b,{name:"down-arrow"})),Uo.a.createElement("div",{className:"lightbox-hover-title"},a)),Uo.a.createElement("div",{className:Wo()("".concat(o," context-menu"))},this.drawContextMenu()))}}]),t}(zo.PureComponent);Bt(vi,"displayName","Lightbox"),Bt(vi,"propTypes",{loadLightbox:Zo.a.func});var yi=n(70),Oi=n(68),Si=n.n(Oi),wi=Object(la.c)(Si.a),ji=function(e){function t(){return zt(this,t),n.apply(this,arguments)}Wt(t,e);var n=Kt(t);return Ht(t,[{key:"render",value:function(){return xa.a.isLoggedIn()?null:Uo.a.createElement("div",{className:"ask-to-login"},Uo.a.createElement("span",{className:"login",onClick:Jt},wi("action.login")),Uo.a.createElement("p",null,wi("action.separator")),Uo.a.createElement("span",{className:"signup",onClick:$t},wi("action.signup")))}}]),t}(zo.PureComponent),Ti=n(107),Ei=n(370),Ci=n.n(Ei),ki=n(730),xi=n.n(ki),Pi=Object(la.c)(xi.a),_i=100,Ii=function(e){function t(e){var r;return en(this,t),r=n.call(this,e),fn(un(r),"toggleContextMenu",function(e){r.setState({openId:e})}),fn(un(r),"renderLogoutView",function(){return Uo.a.createElement("div",{className:"logoutView"},Uo.a.createElement("div",{className:"message"},Uo.a.createElement("div",{className:"lightbox-logout-icon"},Uo.a.createElement(ia.b,{name:"lightbox-icon"})),Uo.a.createElement("p",{className:"lightbox-logout-text"},Pi("collection.logout-message"))),Uo.a.createElement(ji,null))}),fn(un(r),"onScroll",function(e){e.persist(),r.handleScroll(e)}),fn(un(r),"handleScroll",bi()(r.handleScroll.bind(un(r)),_i)),fn(un(r),"renderLoginView",function(){var e=r.props,t=e.lightboxes,n=e.children,o=e.lightboxesRequestPending,a=e.totalItemCount,i=e.firstLoadComplete,c=o>1||!i;return Uo.a.createElement("div",{className:"lightbox-parent-container"},i&&Uo.a.createElement("div",{className:"lightboxes"},a>0&&Uo.a.createElement("div",{className:"lightbox-header"},Pi("collection.total-item-count",{count:a,TOTAL_COUNT:Ci()(a).format()})),Uo.a.createElement("div",{className:"lightbox-main-container"},Uo.a.createElement("div",{className:"lightbox-container",onClick:r.createLightbox},Uo.a.createElement("div",{className:"lightbox-create-contents"},Uo.a.createElement(ia.b,{name:"add-icon"}),Uo.a.createElement("div",{className:"lightbox-create-text"},Pi("collection.create-new")))),t.map(function(e,t){var n;return 0===t&&(n="first-collection"),Uo.a.createElement(vi,{controllingKey:n,key:e.get("id"),loadLightbox:Qo.b.getLightbox,lightbox:e,toggleContextMenu:r.toggleContextMenu,openId:r.state.openId})})),n,Uo.a.createElement("div",{style:{clear:"both"}})),c&&Uo.a.createElement("div",{className:Wo()("search-pending",i?"pagePending":"initialPending")},Uo.a.createElement($o.a,{src:"processing.gif"})))}),r.state={openId:null},r}rn(t,e);var n=an(t);return nn(t,[{key:"componentDidMount",value:function(){xa.a.isLoggedIn()&&!this.props.lightboxesRequestPending&&Qo.b.loadLightboxes()}},{key:"createLightbox",value:function(){Ma.a.click(oa.t),Aa.a.showModal({modal:"CreateNewLightboxModal",actionFunction:function(e){Qo.b.addLightbox(e),Aa.a.hideModal()},metricSource:oa._39})}},{key:"handleScroll",value:function(e){var t=this.props,n=t.pageSize,r=t.pageNumber,o=t.totalItemCount,a=t.lightboxesRequestPending,i=e.target,c=i.scrollTop,u=i.scrollHeight,l=Object(pi.f)(i).height;n*r>=o||c>u-l-250&&!a&&Qo.b.loadLightboxes({pageNumber:r+1,pageSize:n})}},{key:"renderLightboxPending",value:function(e){return Uo.a.createElement("div",{className:Wo()("search-pending",e)},Uo.a.createElement($o.a,{src:"processing.gif"}))}},{key:"render",value:function(){var e=!xa.a.isLoggedIn(),t=Wo()("cmpLightboxTab lightbox-tab lightbox-tab-container",{isLoggedOut:e});return Uo.a.createElement(Ti.b,{className:t,onScroll:this.onScroll},e&&this.renderLogoutView()||this.renderLoginView())}}]),t}(zo.PureComponent);fn(Ii,"displayName","LightboxTab"),fn(Ii,"propTypes",{onCloseButtonClick:Zo.a.func});var Ni=Object(Ko.a)(function(e){return{lightboxes:Xo.d.lightboxes(e),totalItemCount:Xo.d.totalItemCount(e),pageSize:Xo.d.pageSize(e),pageNumber:Xo.d.pageNumber(e),firstLoadComplete:Xo.d.firstLoadComplete(e),lightboxesRequestPending:Xo.d.lightboxesRequestPending(e)}})(Ii),Mi=Object(la.c)(Ya.a),Ai=function(e){function t(){return pn(this,t),n.apply(this,arguments)}mn(t,e);var n=vn(t);return bn(t,[{key:"render",value:function(){var e=Mi("designs.zero-state.start-template-2");return Uo.a.createElement("div",{className:Wo()("zero-state","cmpZeroStateDesigns")},Uo.a.createElement("div",{className:"message"},Uo.a.createElement("div",{className:"zero-state-templates"},Uo.a.createElement("p",{className:"zero-state-templates-desc",onClick:this.props.onButtonClick,dangerouslySetInnerHTML:{__html:e}}),Uo.a.createElement("div",{className:"zero-state-icon"},Uo.a.createElement(ia.b,{name:"designs"})),Uo.a.createElement("p",{className:"zero-state-icon-caption"},Mi("designs.zero-state.no-results")))),Uo.a.createElement(ji,null))}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ai,"displayName","ZeroState");var Ri=n(12),Di=n(15),Li=n(14),Gi=n(272),Bi=Object(la.c)(Ya.a),Fi=function(e){function t(){var e;Cn(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),Dn(Mn(e),"loadDesign",En(regeneratorRuntime.mark(function t(){var n,r,o,a,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props,r=n.id,o=n.activeDesign,a=n.hasUnsavedChanges,i=!!Di.b.isEnabled("applyPartialDesign"),Pa.a.loadDesign({id:r,activeDesign:o,hasUnsavedChanges:a,applyPartial:i});case 3:case"end":return t.stop()}},t)}))),Dn(Mn(e),"handleInfoClick",function(t){return t.preventDefault(),t.stopPropagation(),Ma.a.click(oa.N),Pa.a.setInformationOverlay(e.props.id),!1}),Dn(Mn(e),"handleDeleteClick",function(t){t.preventDefault(),t.stopPropagation(),Ma.a.click(oa.M);var n=e.props,r=n.id,o=n.activeDesignId;return Object(Ba.g)({Modal:Da.a,props:Fa.b}).then(function(){Ga.c(r).then(function(){r===o&&(Object(za.c)(),Object(Ua.b)()),Ma.b.track("deleted design via thumbnail icon",{id:r})}),Aa.a.hideModal()}),!1}),Dn(Mn(e),"handleClick",function(){Ma.a.click(oa.O)}),e}Pn(t,e);var n=In(t);return xn(t,[{key:"componentDidMount",value:function(){Object(Gi.b)()}},{key:"getTotalPages",value:function(){var e=this.props,t=e.state,n=e.totalPages,r=e.id,o=e.activeDesignId,a=e.activeDesignTotalPages;return r===o?a:t?t.pages.length:n}},{key:"render",value:function(){Object(Gi.b)();var e=this.props,t=e.thumbnail,n=e.title,r=e.actualWidth,o=e.actualHeight,a=e.hideForOptimization,i=e.classNames,c=e.id,u=this.getTotalPages(),l=0===t.indexOf("data:"),s=t.includes("?")?"".concat(t,"&bust=true"):"".concat(t,"?bust=true"),f=1===u?"designs.onetotalpage":"designs.totalpages";return Uo.a.createElement("a",{className:Wo()("cmpDesignsList-item hoverable",i),href:"/editor/design/".concat(c),onClick:this.handleClick,target:"_blank",title:!a&&n||"",style:!a&&{width:r,height:o}||{position:"absolute",visibility:"hidden"}},Uo.a.createElement(ba.a,{crossOrigin:l?null:"anonymous",className:"cmpDesignsList-item-preview gray-border",src:l?t:s,alt:!a&&n||""}),Uo.a.createElement("div",{className:"info-bar"},Uo.a.createElement(ia.b,{className:"info-toggle",name:"info-icon","aria-label":Bi("action.information"),onClick:this.handleInfoClick,"data-tip":Bi("action.information"),"data-for":"globalToolTip","data-place":"bottom"}),Uo.a.createElement(ia.b,{className:"info-toggle",name:"delete","aria-label":Bi("action.delete"),onClick:this.handleDeleteClick,"data-tip":Bi("action.delete"),"data-for":"globalToolTip","data-place":"bottom"})),Uo.a.createElement("div",{className:"totalPages","data-for":"globalToolTip","data-tip":Bi(f,{NUM:u}),"data-place":"bottom"},Uo.a.createElement(ia.b,{className:"pages-solid",name:"pages-solid"}),u>9?u:"0".concat(u)))}}]),t}(zo.PureComponent);Dn(Fi,"displayName","DesignsListItem");var zi=Object(Ko.a)(function(e){return{activeDesign:Na.a(e),activeDesignId:Na.b(e),activeDesignTotalPages:Li.k.totalPages(e),hasUnsavedChanges:_a.B.hasUnsavedChanges(e)}})(Fi),Ui=function(e){function t(){return Gn(this,t),n.apply(this,arguments)}zn(t,e);var n=Hn(t);return Fn(t,[{key:"renderGetMediaPending",value:function(){return Uo.a.createElement("div",{className:"search-pending"},Uo.a.createElement($o.a,{src:"processing.gif"}))}},{key:"render",value:function(){var e=this.props,t=e.designs,n=e.columns,r=e.paging,o=t.reduce(function(e,t){return t.get("tempId")?e.push(t):e.push(t.set("preview",{width:250,height:250*t.get("height")/t.get("width")||250}))},Object(Ri.List)()).toJS(),a={imageMinHeight:1,columnCount:n,imageMinWidth:195};return Uo.a.createElement("div",{className:"cmpDesignsList search-results-columns-container"},this.renderColumns(o,zi,a),r&&this.renderGetMediaPending())}}]),t}(ha.a);Yn(Ui,"displayName","DesignsList"),Yn(Ui,"defaultProps",{columns:2});var Hi=function(e){function t(){return Zn(this,t),n.apply(this,arguments)}Qn(t,e);var n=tr(t);return $n(t,[{key:"onButtonClick",value:function(e){"span"===e.target.tagName.toLowerCase()&&Pa.e()}},{key:"componentWillUpdate",value:function(e){ir(e)&&!this.props.loading&&Object(Ga.e)(2,e.designs.size)}},{key:"render",value:function(){var e=this.props,t=e.initializing,n=e.columns,r=e.paging,o=e.designs,a=o.size;return t&&!a?Uo.a.createElement("div",{className:"search-pending"},Uo.a.createElement($o.a,{src:"processing.gif"})):o&&a?Uo.a.createElement(Ui,{paging:r,designs:o,columns:n}):Uo.a.createElement(Ai,{onButtonClick:this.onButtonClick})}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Hi,"displayName","DesignsPanelContent");var Wi=Object(Ko.a)(function(e){return{initializing:Na.n(e),loading:Na.p(e),designs:Na.k(e)}})(Hi),Vi=Object(la.c)(Ya.a),Ki=function(e){function t(){return ur(this,t),n.apply(this,arguments)}fr(t,e);var n=pr(t);return sr(t,[{key:"handleBack",value:function(){Pa.d(null)}},{key:"render",value:function(){var e=this.props.totalCount,t=Vi("designs.desigination",{count:e,NUM:e});return Uo.a.createElement("div",null,!!e&&Uo.a.createElement("div",{className:"cmpDesignsPanel-list-header"},t))}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(Ki,"displayName","DesignsPanel");var Xi=Object(Ko.a)(function(e){return{activeOverlay:Na.e(e),totalCount:Na.t(e)}})(Ki),Yi=n(78),qi=n.n(Yi),Zi=250,Ji=100,$i=function(e){function t(){var e;yr(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),Pr(Cr(e),"onScrollImmediate",function(t){t.persist(),e.onScroll(t)}),Pr(Cr(e),"onScroll",function(t){var n=e.props,r=n.paging,o=n.totalCount,a=n.page;if(!(n.designsLoaded>=o||r)){var i=t.target;i.scrollTop>i.scrollHeight-Object(pi.f)(i).height-Zi&&Object(Ga.e)(a+1)}}),Pr(Cr(e),"onScroll",bi()(e.onScroll,Ji)),e}wr(t,e);var n=Tr(t);return Sr(t,[{key:"render",value:function(){var e=this.props,t=e.paging,n=e.totalCount,r=n?this.onScrollImmediate:qi.a;return Uo.a.createElement(Ti.b,{onScroll:r,className:"always-scroll"},Uo.a.createElement(Xi,null),Uo.a.createElement(Wi,{columns:2,paging:t,totalCount:n}))}}]),t}(zo.PureComponent);Pr($i,"displayName","DesignsTab");var Qi=Object(Ko.a)(function(e){return{paging:Na.r(e),totalCount:Na.t(e),page:Na.q(e),designsLoaded:Na.j(e)}})($i),ec=n(384),tc=Object(la.c)(ai.a),nc=function(e){function t(){return Ir(this,t),n.apply(this,arguments)}Ar(t,e);var n=Dr(t);return Mr(t,[{key:"render",value:function(){return Uo.a.createElement("div",{className:"cmpZeroStateUploads"},Uo.a.createElement("div",{className:"message"},Uo.a.createElement("div",{className:"zeroStateIcon"},Uo.a.createElement(ia.b,{name:"uploads-icon"})),Uo.a.createElement("p",{className:"zeroStateText"},tc("uploads.zero-state.no-results"))),Uo.a.createElement(ji,{t:tc}))}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(nc,"displayName","ZeroState");var rc=n(21),oc=n.n(rc),ac=n(155),ic=n(226),cc=n(843),uc=Object(la.c)(ai.a),lc=function(e){function t(){var e,r;Ur(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return r=n.call.apply(n,[this].concat(a)),$r(qr(r),"addToCanvas",function(e){if(!r.props.loading){var t=r.props,n=t.preview,o=void 0===n?{}:n,a=t.link,i=o.fileTitle;ni.a(a,e,i)}}),$r(qr(r),"dragStart",function(){if(r.props.loading)return!1}),$r(qr(r),"handleClick",(e=r).handleClick.bind(e)),$r(qr(r),"handleDeleteClick",(e=r).handleDeleteClick.bind(e)),r}Vr(t,e);var n=Xr(t);return Wr(t,[{key:"componentWillMount",value:function(){this.props.loading&&(this.unblockNavigation=this.props.blockNavigation())}},{key:"componentWillReceiveProps",value:function(e){this.unblockNavigation&&!e.loading&&this.unblockNavigation()}},{key:"handleClick",value:function(e){e.stopPropagation();var t=this.props,n=t.id,r=t.preview,o=t.height,a=t.width;return ni.h({id:n,preview:r,height:o,width:a,src:r.link,onClick:this.addToCanvas}),!1}},{key:"handleDeleteClick",value:function(e){var t=this;return e.stopPropagation(),Object(Ba.g)({Modal:Da.a,props:Fa.d}).then(function(){ni.c(t.props.id)}),!1}},{key:"render",value:function(){var e=this.props,t=e.failed,n=e.loading,r=e.actualWidth,o=e.actualHeight,a=e.preview,i=e.classNames,c=!n&&!t,u=n&&uc("upload.loading")||t&&uc("upload.retry")||uc("upload.add-to-canvas"),l=oc()(a,"link","");return Uo.a.createElement(ac.a,{draggable:c,onDragStart:this.dragStart,effectAllowed:"copy",className:Wo()("cmpUploadedAsset uploaded-asset hoverable",i,{loading:n,failed:t,inStatis:c}),title:u,style:{width:r||100,height:o||100},onClick:c&&this.addToCanvas||t&&this.props.retryFunc,onCanvasDrop:c&&this.addToCanvas,previewable:!0},Uo.a.createElement(ba.a,{crossOrigin:"anonymous",className:"uploaded-asset-preview gray-border",alt:"preview",src:l,fallbackIcon:"image-placeholder"}),(n||t)&&Uo.a.createElement(ic.TransitionGroup,{className:"uploadStateTransitionWrapper"},n&&Uo.a.createElement(ic.CSSTransition,{component:"div",classNames:"uploadStateChange",timeout:{enter:1,exit:500}},Uo.a.createElement("div",{key:0,className:"progress"},Uo.a.createElement("div",{className:"progress-background"})))||t&&Uo.a.createElement(ic.CSSTransition,{component:"div",classNames:"uploadStateChange",timeout:{enter:1,exit:500}},Uo.a.createElement(ia.b,{key:1,className:"retry-upload",name:"retry"}))),c&&Uo.a.createElement("div",{className:"info-bar"},Uo.a.createElement(ia.b,{className:"info-toggle",name:"info-icon","aria-label":uc("action.information"),onClick:this.handleClick,"data-tip":!0,"data-for":"upload-info-tooltip"}),Uo.a.createElement(ia.b,{className:"info-toggle",name:"delete","aria-label":uc("action.delete"),onClick:this.handleDeleteClick,"data-tip":!0,"data-for":"upload-delete-tooltip"}),Uo.a.createElement(ua.a,{id:"upload-info-tooltip",className:"upload-info-tooltip",effect:"solid",place:"bottom"},uc("action.information")),Uo.a.createElement(ua.a,{id:"upload-delete-tooltip",className:"upload-delete-tooltip",effect:"solid",place:"bottom"},uc("action.delete"))))}}]),t}(zo.PureComponent);$r(lc,"displayName","UploadedAsset");var sc=Object(cc.a)(uc("uploads.onbeforeunload"))(lc),fc=Object(la.c)(ai.a),dc=function(e){function t(){return io(this,t),n.apply(this,arguments)}lo(t,e);var n=fo(t);return uo(t,[{key:"renderGetMediaPending",value:function(){return Uo.a.createElement("div",{className:"search-pending"},Uo.a.createElement($o.a,{src:"processing.gif"}))}},{key:"renderMediaError",value:function(e){return Uo.a.createElement("p",null,"Error: ",e)}},{key:"render",value:function(){var e,t=this.props,n=t.error,r=t.resultPages,o=t.totalCount,a=t.pending,i=t.columns;if(n)e=this.renderMediaError(n.get("message"));else if(o&&0!==o)if(0!==r.size){var c,u=r.toJS(),l=u.map(function(e){return e.images}),s=(c=[]).concat.apply(c,eo(l));e=Uo.a.createElement(ec.a,{totalCount:o,columns:i||2,assets:s,cmp:sc})}else{var f=fc("upload.user-uploaded-media");e=Uo.a.createElement("p",null,f)}else e=Uo.a.createElement(nc,null);return Uo.a.createElement(Ti.b,{className:this.props.className,style:{padding:"0px"}},e,a&&this.renderGetMediaPending())}}]),t}(zo.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(dc,"displayName","UploadsPanelContent");var pc=Object(Ko.a)(function(e){return{resultPages:ri.a.resultPages(e),pending:ri.a.pending(e),totalCount:ri.a.totalCount(e),error:ri.a.error(e)}})(dc),hc=n(844),bc=250,mc=100,gc=function(e){function t(){var e;vo(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),xo(Eo(e),"onScrollImmediate",function(t){t.persist(),e.onScroll(t)}),xo(Eo(e),"onScroll",function(t){var n=e.props,r=n.pending,o=n.totalCount,a=n.perPage,i=n.page;if(!(a*i>=o||r)){var c=t.target;c.scrollTop>c.scrollHeight-Object(pi.f)(c).height-bc&&Object(ni.d)(i+1)}}),xo(Eo(e),"onScroll",bi()(e.onScroll,mc)),e}So(t,e);var n=jo(t);return Oo(t,[{key:"render",value:function(){var e=this.props.totalCount?this.onScrollImmediate:qi.a;return Uo.a.createElement(Ti.b,{onScroll:e,className:Wo()("uploadsWrapper","always-scroll")},Uo.a.createElement(Yo.a,{style:{paddingTop:"20px"}},Uo.a.createElement(hc.a,null)),Uo.a.createElement(pc,{columns:3}))}}]),t}(zo.PureComponent);xo(gc,"displayName","UploadsTab");var vc=Object(Ko.a)(function(e){return{pending:ri.a.pending(e),totalCount:ri.a.totalCount(e),page:ri.a.page(e),perPage:ri.a.perPage(e)}})(gc),yc=n(731),Oc=n(520);n.d(t,"a",function(){return jc});var Sc=Object(la.c)(xi.a),wc=function(e,t){Ma.a.click(Object(oa._43)(t)),Object(Oc.b)(t)},jc=function(e){function t(){var e;_o(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),Fo(Lo(e),"tabMap",{lightboxes:Uo.a.createElement(Ni,{controllingKey:"collections-tab",key:"lightboxes",tabId:"lightboxes",tabLabel:Sc("assetpanel.collections-tab")}),designs:Uo.a.createElement(Qi,{controllingKey:"designs-tab",key:"designs",tabId:"designs",tabLabel:Sc("assetpanel.designs-tab")}),uploads:Uo.a.createElement(vc,{controllingKey:"uploads-tab",key:"uploads",tabId:"uploads",tabLabel:Sc("assetpanel.uploads-tab")})}),Fo(Lo(e),"tabs",e.props.sections.toJS().map(function(t){return e.tabMap[t]})),e}Mo(t,e);var n=Ro(t);return No(t,[{key:"render",value:function(){var e=this.props,t=e.activeLightboxId,n=e.designOverlayId,r=e.uploadImageInfo,o=e.activeSectionIndex,a=e.className,i=!xa.a.isLoggedIn(),c=Wo()("cmpAssetsPanel",{isLoggedOut:i}),u=Wo()("cmpPanel","cmpAssetsPanel",a);return Uo.a.createElement("div",{className:u},Uo.a.createElement(Vo.a,{className:c,showOverlay:!!n||!!t||!!r,closeTrack:oa._41,onCloseButtonClick:aa.b},Uo.a.createElement(Yo.a,null,Uo.a.createElement(di.a,{onClick:wc,activeIndex:o},this.tabs)),Uo.a.createElement(fi.a,{activeIndex:o},this.tabs)),Uo.a.createElement(ka,{show:!!t}),Uo.a.createElement(ti,{show:!!n}),Uo.a.createElement(si,{show:!!r}))}}]),t}(zo.PureComponent);Fo(jc,"displayName","AssetsPanel");t.b=Object(Ko.a)(function(e){return{initializing:yc.c(e),activeLightboxId:Xo.c(e),designOverlayId:Object(Na.f)(e),uploadImageInfo:ri.a.imageInfo(e),sections:yc.d(e),activeSectionIndex:yc.a(e)}})(jc)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function i(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=b();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var g=n(0),v=n.n(g),y=n(383),O=n(478),S=n(393),w=n(2),j=n(68),T=n.n(j),E=n(23),C=Object(w.c)(T.a),k=function(e){var t=e.id,n=e.description,r=e.vector,o=e.contributorName,a=e.photoIdTrack,i=void 0===o;return v.a.createElement("div",{className:"cmpImageMeta"},v.a.createElement("p",null,C(r?"image-meta.stock-vector-id":"image-meta.stock-photo-id"),v.a.createElement("a",{className:"image-id","data-track":a,href:Object(S.a)(t),target:"_blank"},t)),v.a.createElement("p",null,C("image-meta.by",{NAME:o||""}),i&&v.a.createElement(E.b,{name:"loader"})),v.a.createElement("p",null,n))},x=n(89),P=function(e){function t(){return c(this,t),n.apply(this,arguments)}s(t,e);var n=d(t);return l(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.src,r=e.preview,i=e.children,c=e.onClick,u=e.context,l=(e.gaAnalytics,e.photoIdTrack),s=a(e,["id","src","preview","children","onClick","context","gaAnalytics","photoIdTrack"]);return t?v.a.createElement("div",{className:"cmpActiveResultOverlayBase"},v.a.createElement(O.a,{src:n,width:r.width,height:r.height,alt:"Subject",onClick:c,context:u}),v.a.createElement("div",{className:"image-meta"},v.a.createElement(y.a,null),v.a.createElement(k,o({id:t,photoIdTrack:l},s))),i):null}}]),t}(g.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(P,"displayName","ActiveResultOverlay");t.a=Object(x.a)()(P)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return w});var b=n(0),m=n.n(b),g=n(147),v=n(2),y=n(339),O=n.n(y),S=Object(v.c)(O.a),w=function(e){function t(){return a(this,t),n.apply(this,arguments)}u(t,e);var n=s(t);return c(t,[{key:"render",value:function(){var e=this.props.saveAs;return m.a.createElement(g.a,o({},this.props,{iconName:"icon-modal-check",title:S(e?"template-modal.save-as":"template-modal.copy-title"),placeholder:S("template-modal.save-placeholder"),message:S("template-modal.copy-sub-title"),primaryActionLabel:S(e?"template-modal.save-as":"action.copy"),secondaryActionLabel:S("action.cancel")}))}}]),t}(b.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(w,"displayName","CopyDesign")},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n(0),g=n.n(m),v=n(7),y=n(476),O=[],S=0;window.onbeforeunload=function(e){if(window.__alertOnNavigation){if(e=e||window.event,!O.length)return;var t=O.slice(-1)[0].message;return Object(y.b)("Navigation Blocker"),v.b.track("navigation blocker appearing",{message:t}),e&&(e.returnValue=t),t}},t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){var n,r;return r=n=function(n){function r(t){var n;return a(this,r),n=i.call(this,t),b(d(n),"blockNavigation",function(){var t="".concat(S++);return O.push({id:t,message:e}),n.blockerIds.push(t),n.unblockNavigation(t)}),b(d(n),"unblockNavigation",function(e){return function(){n.blockerIds=n.blockerIds.filter(function(t){return t!==e}),O=O.filter(function(t){return t.id!==e})}}),n.blockerIds=[],n}u(r,n);var i=s(r);return c(r,[{key:"componentWillUnmount",value:function(){var e=this;this.blockerIds.forEach(function(t){return e.unblockNavigation(t)()}),this.blockerIds=[]}},{key:"render",value:function(){return g.a.createElement(t,o({},this.props,{blockNavigation:this.blockNavigation}))}}]),r}(m.PureComponent),b(n,"BaseComponent",t.BaseComponent||t),r}}},function(e,t,n){"use strict";n.d(t,"b",function(){return v});var r=n(0),o=n.n(r),a=n(160),i=n.n(a),c=n(23),u=n(29),l=(n.n(u),n(2)),s=n(214),f=n.n(s),d=n(25),p=n(376),h=n(70),b=n(130),m=n(97),g=Object(l.c)(f.a),v=function(e){e.preventDefault(),Object(h.ensureLoggedIn)().then(function(){Object(d.g)({Modal:p.default,props:{reject:b.showErrorModal}})})},y=function(){return o.a.createElement("div",null,o.a.createElement(m.a,{label:g("upload.button-label"),onClick:v}),o.a.createElement("p",{className:"upload-sub-text"},g("upload.sub-title"),o.a.createElement(c.b,{name:"help-icon","data-tip":!0,"data-for":"uploadTooltip","data-class":"uploadTooltip"})),o.a.createElement(i.a,{id:"uploadTooltip",effect:"solid",place:"bottom"},o.a.createElement("div",{style:{width:"211px",textAlign:"left"}},o.a.createElement("div",null,g("upload.help-tooltip-header")),o.a.createElement("ul",{style:{paddingLeft:"16px",margin:"0px"}},o.a.createElement("li",null,g("upload.help-tooltip-upload-size",{FILESIZE_LIMIT:u.client.upload.maxFileSizeInMB})),o.a.createElement("li",null,g("upload.help-tooltip-upload-max",{MAX_UPLOADS:u.client.upload.maxAllowedUploads}))))))};t.a=y},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(226),O=(n.n(y),n(256)),S=n.n(O),w=n(4),j=n.n(w),T=n(521),E=n(15),C=n(38),k=n(7),x=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"state",{open:!1}),h(f(e),"toggleMenu",function(){var t=e.props.trackLabel;e.state.open?k.a.click("".concat(t,"-collapse")):k.a.click("".concat(t,"-expand"));var n={open:!e.state.open};e.setState(n)}),h(f(e),"refControllerCallback",C.a.refControllerCallback.bind(f(e))),e}c(t,e);var n=l(t);return i(t,[{key:"handleClickOutside",value:function(){this.state.open&&this.toggleMenu()}},{key:"shouldBeVisible",value:function(){var e=Object(T.a)(),t=e.includes("uploads");return!(E.b.isEnabled("embed")&&t)}},{key:"render",value:function(){var e=this,t=this.state.open,n=this.props,r=n.label,o=n.children,a=n.className;if(!this.shouldBeVisible())return null;var i=j()("menu-label",{"file-dropdown-open":t});return m.a.createElement("div",{className:j()("file-dropdown-container",a),ref:this.refControllerCallback},m.a.createElement("a",{className:i,onClick:this.toggleMenu},m.a.createElement("span",null,r)),t&&m.a.createElement("div",{className:"file-dropdown-container-inner"},m.a.createElement(y.TransitionGroup,{className:"file-dropdown-transition-handler"},m.a.Children.map(o,function(t){return t?m.a.createElement(y.CSSTransition,{classNames:"fade-in",timeout:150},m.a.cloneElement(t,{onItemClick:e.toggleMenu})):null}))))}}]),t}(b.PureComponent);h(x,"displayName","FileDropdown"),h(x,"propTypes",{t:v.a.func,label:v.a.string.isRequired,className:v.a.string}),t.a=S()({event:"mousedown"})(x)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=h();return function(){var n,r=b(e);if(t){var o=b(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return I}),n.d(t,"b",function(){return D});var g,v=n(0),y=n.n(v),O=n(4),S=n.n(O),w=n(847),j=n(558),T=n(212),E=n(15),C=n(9),k=n(849),x=n(94),P=n(1474),_=P.map(function(e){return e.filter(function(e){return"shape_line"!==e&&"shape_arrow_1"!==e})});E.b.isEnabled("svgexamples")&&P.unshift(["Andrea_bear","santa","the_car"]);var I=g=function(e){function t(){var e;i(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return e=n.call.apply(n,[this].concat(o)),m(p(e),"state",{selected:!1}),m(p(e),"addToCanvas",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=e.props,r=n.shape,o=n.shapeAttributes,i=void 0===o?{}:o;j.a.selectShape(r,t,a(a({},i),{},{allowColorCoercion:!0}))}),m(p(e),"dragStart",function(){return e.setState({selected:!0})}),m(p(e),"dragEnd",function(){return e.setState({selected:!1})}),e}l(t,e);var n=f(t);return u(t,[{key:"render",value:function(){var e=this.props,t=e.shape,n=e.classNames,r=e.controllingKey,o=this.state.selected;return y.a.createElement(w.a,{name:"shapes/".concat(t),classNames:S()(n,t),controllingKey:r,selected:o,onClick:this.addToCanvas,onDrop:this.addToCanvas,dragStart:this.dragStart,dragEnd:this.dragEnd,clickTrack:C._5})}}]),t}(v.PureComponent),N=Object(x.d)()?Object(k.a)():function(e){return e},M=N(function(e){var t=e.classNames,n=e.group,r=e.shapeAttributes;return y.a.createElement("div",{className:"cmpIconRow"},n.map(function(e,n){return y.a.createElement(I,{classNames:t,shape:e,shapeAttributes:r,key:n,controllingKey:"".concat(e,".").concat(t)})}))}),A=T.a.get(["shapeTypes","outline"]).toJS(),R=T.a.get(["shapeTypes","outlineFill"]).toJS(),D=function(e){function t(){return i(this,t),n.apply(this,arguments)}l(t,e);var n=f(t);return u(t,[{key:"render",value:function(){return y.a.createElement("div",{className:S()("cmpShapesPanel ".concat(this.props.className))},P.map(function(e,t){return y.a.createElement(M,{group:e,classNames:"shapeDefault",key:t})}),_.map(function(e,t){return y.a.createElement(M,{group:e,classNames:"shapeOutline",shapeAttributes:A,key:t})}),_.map(function(e,t){return y.a.createElement(M,{group:e,classNames:"shapeOutlineFill",shapeAttributes:R,key:t})}))}}]),t}(v.PureComponent);m(D,"displayName","ShapesPanelContent")},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(155),O=n(23),S=n(89),w=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"onClick",function(){e.props.onClick()}),e}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.name,n=e.classNames,r=e.controllingKey,o=e.selected,a=e.children,i=e.component;return m.a.createElement(y.a,{component:i||O.b,className:v()("cmpShapeIcon",n,{selected:o}),hoverState:!1,name:t,onClick:this.onClick,setData:{text:""},effectAllowed:"copy",onDragClass:"duringDragging",onDragStart:this.props.dragStart,onDragEnd:this.props.dragEnd,onCanvasDrop:this.props.onDrop,controllingKey:r},a)}}]),t}(b.PureComponent);h(w,"displayName","PanelIcon"),h(w,"defaultProps",{dragStart:function(){},dragEnd:function(){},onClick:function(){},onDrop:function(){}}),t.a=Object(S.a)({onClick:"clickTrack"})(w)},function(e,t,n){"use strict";var r=n(8),o=(n.n(r),r.fabric.util.createClass(r.fabric.Path,{type:"editorPath",objectCaching:!0,statefullCache:!1,strokeUniform:!0,strokeMiterLimit:10,paintFirst:"stroke",cacheProperties:["stroke","strokeWidth","strokeDashArray","fill","nofill","strokeNofill"],_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions");return e.width+=60,e.height+=60,e},_renderPaintInOrder:function(e){this.stroke&&!this.strokeNofill&&(this._renderStroke(e),this.nofill&&this._clearSpaceForFilling(e)),this.fill&&!this.nofill&&this._renderFill(e)},needsItsOwnCache:function(){return!(!this.shadow||!this.shadow.enabled)||!this.strokeNofill&&!(1===this.opacity&&!this.nofill)},_clearSpaceForFilling:function(e){e.save(),e.globalCompositeOperation="destination-out",e.fillStyle="rgb(0, 0, 0)",this._renderFill(e),e.restore()}}));o.fromObject=function(e,t){return r.fabric.Object._fromObject("EditorPath",e,t,"path")},r.fabric.EditorPath=o,t.a=o},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.concurrentItems,n=void 0===t?1:t,r=e.timeout,a=void 0===r?16:r;return function(e){function t(e){d+=1,e.setState({canRender:!0},function(){d-=1,r()})}function r(){if(p.length>0){var e=p.shift();setTimeout(function(){t(e)},a)}}var u,s,d=0,p=[],g=n;return s=u=function(n){function r(){var e;o(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return e=a.call.apply(a,[this].concat(n)),h(f(e),"state",{canRender:!1}),e}c(r,n);var a=l(r);return i(r,[{key:"componentWillUnmount",value:function(){var e=p.indexOf(this);e>-1&&p.splice(e,1)}},{key:"componentDidMount",value:function(){d<g?t(this):p.push(this)}},{key:"render",value:function(){return this.state.canRender?m.a.createElement(e,this.props):null}}]),r}(b.PureComponent),h(u,"BaseComponent",e),h(u,"displayName",e.displayName||"cmpRenderSequencer"),s}}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SET_SOLID_COLOR"},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(11),O=n(260),S=n(234),w=n(155),j=n(127),T=n(9),E=n(2),C=n(342),k=n.n(C),x=n(6),P=n(7),_=n(502),I=Object(E.c)(k.a),N=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"dropImageOnCanvas",function(t){var n=Object(x.a)();if(1===n._objects.length&&n.getBackgroundImage()){var r=e.props,o=r.id,a=r.searchContext;O.b(o,a)}else{var i=e.props,c=i.id,u=i.preview,l=i.vector,s=i.description,f=i.contributorID,d=i.searchContext;O.a({id:c,preview:u,src:u.link,vector:l,description:s,contributorID:f,position:t},d)}}),h(f(e),"handleClick",e.handleClick.bind(f(e))),e}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){var e=this.props,t=e.actualWidth,n=e.actualHeight,r=e.actualMargin,o=e.preview,a=e._searchProgress,i=e.id,c=e.controllingKey;return m.a.createElement(w.a,{controllingKey:c,style:{width:t,height:n,marginBottom:r},setData:{text:""},effectAllowed:"copy",className:v()({"disable-search":a},"search-result","hoverable"),title:I("search.result-label"),onClick:this.handleClick,onCanvasDrop:this.dropImageOnCanvas,onMouseDown:function(e){return Object(_.a)(e.nativeEvent,i,T._79)},previewable:!0},m.a.createElement(j.a,{alt:"preview",className:"gray-border",src:o.link}))}},{key:"handleClick",value:function(e){e.preventDefault();var t=this.props,n=t.id,r=t.preview,o=t.vector,a=t.description,i=t.contributorID,c=t.searchContext;P.a.click(T._97),O.c({id:n,preview:r,src:r.link,vector:o,description:a,contributorID:i},c)}}]),t}(b.PureComponent);h(N,"displayName","SearchResult"),h(N,"defaultProps",{searchContext:"searchPanel"}),t.a=Object(y.a)(function(e){return{_searchProgress:S.a.searchProgress(e)}})(N)},function(e,t,n){"use strict";function r(e){if(!e)return"";var t=e.find(function(e){return e.get("active")});return t?"".concat(t.get("width"),"-").concat(t.get("height")):""}function o(e){return p.getActivePageSize(e.getIn(["pages","after"]))!==p.getActivePageSize(e.getIn(["pages","before"]))}function a(e){return u.b.putStateIntoCanvas().then(function(){if(l.a.refreshActiveThumbnail(),!p.pageSizeChanged(e)){Object(s.a)().requestRenderAll()}})}function i(e){var t=d.a.undo();if(void 0!==t)return f.c(e,t),a(t)}function c(e){var t=d.a.redo();if(void 0!==t)return f.b(e,t),a(t)}t.c=i,t.b=c;var u=n(122),l=n(109),s=n(6),f=n(806),d=n(39),p={getActivePageSize:r,pageSizeChanged:o,postHistoryHandler:a};t.a={getActivePageSize:r,pageSizeChanged:o,postHistoryHandler:a,undo:i,redo:c,historyActions:p}},function(e,t,n){"use strict";function r(e,t,n){a.a.click("toolbar.".concat(t),{source:n,type:e&&e.type||null})}var o=n(6),a=n(7),i=n(9),c=n(19),u=n(479),l=n(1),s=n(14),f={dispatchObjectOrder:function(){var e=Object(o.a)();l.default.dispatch(c.w,{pageId:l.default.evaluate(s.d),order:e.getObjects().map(function(e){return e?e.id:null})}),Object(u.a)()},moveToFront:function(e){r(e,"moveToFront",arguments.length>1&&void 0!==arguments[1]?arguments[1]:i._131),e.bringToFront(),f.dispatchObjectOrder()},moveForward:function(e){r(e,"moveForward",arguments.length>1&&void 0!==arguments[1]?arguments[1]:i._131),e.bringForward(),f.dispatchObjectOrder()},moveToBack:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i._131,n=Object(o.a)();r(e,"moveToBack",t);var a=n.getBackgroundImage();a&&n._objects.shift(),e.sendToBack(),a&&n._objects.unshift(a),f.dispatchObjectOrder()},moveBackward:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i._131,n=Object(o.a)();r(e,"moveBackward",t);var a=n.getBackgroundImage();a&&n._objects.shift(),e.sendBackwards(),a&&n._objects.unshift(a),f.dispatchObjectOrder()}};t.a=f},function(e,t,n){"use strict";function r(e,t){var n=window.editor||{},r=window.identity||{},c=new Date,s=60*c.getTimezoneOffset(),d=f.a.isSupported,p=!!r.username,h=parseInt(n.mediaId,10),b={image_id:h,"entry point url":e.ref,has_webgl:d,logged_in:p,objectPanel:!0,next:t};Object(u.c)(h)||(b.vector=Object(u.b)(h).vector);var m=Object(a.k)();"number"==typeof m&&(b.navigation_duration=m),i.b.track("loaded editor",b),i.b.timeEvent("closed editor"),i.b.people.increment("loaded editor"),i.b.register({image_id:h,utc_offset:s}),"link"===e.mode&&i.b.track("loaded editor metadata",{"entry point":e.invokedFrom||"direct"}),e.trackOnLoad&&i.b.track("trackOnLoad_".concat(e.trackOnLoad)),o.default.dispatch(l.a,{params:e})}var o=n(1),a=n(18),i=n(7),c=n(225),u=n(255),l=n(665),s=n(101),f=n(469),d={init:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(s.a)(window.location.href),n=t.query;o.default.dispatch(c.n,n.srcId),r(n,e)}};t.a=d},,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(24),i=(n.n(a),n(189)),c=n(81),u=Object(a.makeStyles)(function(e){var t=e.spacing,n=e.sizes,r=e.palette;return{text:{padding:"".concat(t(n.s)," 0"),borderTop:"solid 1px ".concat(r.border.main),borderBottom:"solid 1px ".concat(r.border.main),marginBottom:t(n.m),display:"flex",width:"100%",justifyContent:"flex-start"},icon:{marginRight:t(n.s)}}}),l=function(e){var t=e.icon,n=e.title,r=u();return o.a.createElement(c.a,{size:"s",className:r.text},t&&o.a.createElement(i.a,{component:"span",className:r.icon,icon:t}),n)};t.a=l},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(24),i=(n.n(a),n(773)),c=n.n(i),u=Object(a.makeStyles)(function(e){var t=e.palette;return{disabled:{"&&":{fontSize:"12px",color:t.text.disabled}},menuItem:{fontSize:"14px","&&":{"&:hover":{backgroundColor:"".concat(t.text.dividers)}},"& svg":{fill:function(e){return e.svgSelect?"currentColor":void 0}}},selected:{color:t.text.link,"&&":{backgroundColor:"transparent"},"& svg":{fill:function(e){return e.svgSelect?t.text.link:"inherit"}}}}}),l=Object(r.forwardRef)(function(e,t){var n=e.children,r=e.disabled,a=e.selected,i=e.onClick,l=e.value,s=e.className,f=e.svgSelect,d=void 0===f||f,p=u({svgSelect:d});return o.a.createElement(c.a,{ref:t,ListItemClasses:{root:p.menuItem,disabled:p.disabled,selected:p.selected},onClick:i,className:s,value:l,selected:a,disabled:r},n)});t.a=l},,function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=n(0),u=n.n(c),l=n(5),s=n.n(l),f=n(1599),d=n.n(f),p=n(1695),h=n.n(p),b=n(24),m=(n.n(b),n(4)),g=n.n(m),v=Object(b.makeStyles)(function(e){var t=e.palette,n=e.editor;return{select:{minHeight:41,minWidth:48,fontSize:12,color:function(e){return e.topbar?t.contextBar.textPalette.primary:t.primary.main},"& svg":{fill:"currentColor"}},icon:{color:function(e){return e.topbar?t.contextBar.textPalette.primary:t.primary.main}},paper:{maxHeight:function(e){return"".concat(e.maxHeight)},boxShadow:n.shadow.default}}}),y={anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},getContentAnchorEl:null},O=function(e){var t=e.onChange,n=e.className,o=e.menuClassName,i=e.menuListClassName,c=e.iconClassName,l=e.selectClassName,s=e.id,f=e.defaultValue,p=e.selected,b=e.children,m=e.variant,y=e.maxHeight,O=e.menuPosition,S=e.input,w=e.inputClasses,j=e.inputProps,T=e.disableUnderline,E=e.open,C=e.onOpen,k=e.onClose,x=e.topbar,P=v({maxHeight:y,topbar:x});return u.a.createElement(d.a,{className:n,variant:m},u.a.createElement(h.a,r({classes:{root:l},MenuProps:a(a({},O),{},{classes:{paper:g()(P.paper,o),list:i}}),id:s,inputProps:a({classes:a(a({},w),{},{icon:g()(P.icon,c)})},j),input:S,onChange:t,className:P.select,defaultValue:f,value:p},T?{disableUnderline:T}:{},{open:E,onOpen:C,onClose:k}),b))};O.propTypes={disableUnderline:s.a.bool,menuPosition:s.a.shape({}),id:s.a.string},O.defaultProps={disableUnderline:void 0,menuPosition:y,id:void 0},t.a=O},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/png",n=arguments.length>2?arguments[2]:void 0;return new Promise(function(r){e.toBlob?e.toBlob(r,t,n):r(e.msToBlob&&"image/png"===t?e.msToBlob(t,n):o.a.convert(e.toDataURL(t,n)))})}t.a=r;var o=n(352)},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return c});var r="BG_REMOVAL_INFO",o="SET_BRUSHES",a="SET_BRUSH_SIZE",i="SET_BRUSH_TYPE",c="SET_PANEL_ACTIVE"},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"b",function(){return m}),n.d(t,"a",function(){return g});var i=n(33),c=n(87),u=Object(i.a)(["SdkCustomData"]),l=Object(i.a)(u.concat(["templates"])),s=Object(i.a)(u.concat(["uploads"])),f=Object(i.a)(u.concat(["textTemplates"])),d=Object(i.a)(u.concat(["tempUploads"])),p={templates:l,uploads:s,textTemplates:f,tempUploads:d},h={width:124,height:183},b=[],m=function(e){return Object(i.a)(p[e],function(e){return e?e.map(function(e){return o(o({},e),{},{preview:Object(c.a)(e,h)})}):b})},g=Object(i.a)(m("uploads"),m("tempUploads"),function(e,t){return t.concat(e)})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u});var i=n(180),c=function(e){return function(t){i.b.publish("objectRequest",o({type:e},t))}},u=function(e){return function(t){i.b.publish("objectDeleteRequest",o({type:e},t))}}},function(e,t){e.exports='<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m8 2h7.999v2h-1.952l5 16h1.953v2h-6.001v-2h1.952l-1.248-4.001h-7.407l-1.248 4.001h1.952v2h-6v-2h1.953l4.999-16h-1.952v-2zm4 2.15l-3.078 9.85h6.156l-3.078-9.85z"></path></svg>'},,function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){function i(e){r(u,o,a,i,c,"next",e)}function c(e){r(u,o,a,i,c,"throw",e)}var u=e.apply(t,n);i(void 0)})}}function a(e,t,n,r,o){var a=t[r];null!=a&&e.drawImage(o,n*s,a*f,s,f)}function i(e){return c.apply(this,arguments)}function c(){return c=o(regeneratorRuntime.mark(function e(t){var n,r,o,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&u.b.isEnabled("exportsample")){for(n=t.getAllImages(),r=document.createElement("canvas"),r.width=d*s,r.height=n.length*f,o=r.getContext("2d"),i={},c=0;c<n.length;c++)i[n[c].fabricObject.id]=c;t.debug={canvas:r,sample:a.bind(null,o,i)}}return e.abrupt("return",t);case 2:case"end":return e.stop()}},e)})),c.apply(this,arguments)}n.d(t,"a",function(){return l}),t.b=i;var u=n(15),l={LICENSE_IMAGE:0,RESIZE_IMAGE:1,FILTER_IMAGE:2},s=64,f=64,d=Object.keys(l).length},,,,,,function(e,t){e.exports='<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="m17.106 11.741l4.894 4.894-2.438 4.875h-4.911l-2.438-4.875 4.893-4.894zm-15.106 9.769l5.368-9.395 5.369 9.395h-10.737zm15.217-10.317c-2.328 0-4.221-1.894-4.221-4.222 0-2.327 1.893-4.221 4.221-4.221s4.221 1.894 4.221 4.221c0 2.328-1.893 4.222-4.221 4.222zm-14.539-1e-3v-8.442h8.442v8.442h-8.442zm15.725 8.442l1.314-2.629-2.611-2.61-2.61 2.61 1.314 2.629h2.593zm-13.17 0h4.271l-2.136-3.737-2.135 3.737zm11.984-15.008c-1.293 0-2.344 1.052-2.344 2.345 0 1.294 1.051 2.346 2.344 2.346s2.345-1.052 2.345-2.346c0-1.293-1.052-2.345-2.345-2.345zm-12.663 4.691h4.69v-4.69h-4.69v4.69z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7.5 11c.8 0 1.5-.7 1.5-1.5S8.3 8 7.5 8 6 8.7 6 9.5 6.7 11 7.5 11zM2 4v16h16c2.2 0 4-1.8 4-4V4H2zm18 12c0 1.1-.9 2-2 2H5.4L8 15.4l2 2 6-6 4 4v.6zm0-3.4l-4-4-6 6-2-2-4 4V6h16v6.6z"></path></svg>'},function(e,t){e.exports='<svg version="1.1" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path id="a" d="m11 11v8h-2v-14h2v4h8v2h-8zm-8-8h18v14c0 2.206-1.794 4-4 4h-14v-18zm14 16c1.103 0 2-0.897 2-2v-12h-14v14h12z"></path></svg>'},function(e,t){e.exports='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M18.7109375 12.6875l-1.40625 1.40625L13 9.78125V22h-2V9.78125l-4.2890625 4.3125-1.40625-1.40625L12 6zM2 2h20v2H2z"></path></svg>'},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return w});var h=n(0),b=n.n(h),m=n(7),g=n(2),v=n(1456),y=n.n(v),O=n(97),S=Object(g.c)(y.a),w=function(e){function t(){return o(this,t),r.apply(this,arguments)}c(t,e);var r=l(t);return i(t,[{key:"handleGoToPurchaseClick",value:function(){m.b.track("selected view plans and pricing"),window.open("/subscribe"),n.e(0).then(n.bind(null,374)).then(function(e){e.downloadActions.waitForUsersSubscription()})}},{key:"componentWillUnmount",value:function(){n.e(0).then(n.bind(null,374)).then(function(e){e.downloadActions.cancelWaitForUsersSubscription()})}},{key:"render",value:function(){return b.a.createElement(O.b,{blockLevel:!0,className:"cmpGoToSubscribePage",onClick:this.handleGoToPurchaseClick},this.props.children||S("download.plans-and-pricing"))}}]),t}(h.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(w,"displayName","GoToSubscribePage")},,,function(e,t,n){"use strict";function r(){return void 0!==window.__reqLanguage&&window.__reqLanguage!==i}function o(){return r()?window.__reqLanguage:i}function a(){return window.__langResources||{}}n.d(t,"c",function(){return u}),t.a=o,t.b=a;var i="en",c={default:{},percent:{style:"percent"}},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return new Intl.NumberFormat(t,c[n]).format(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="PRIMARY_ACTION"},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M5.367 16.728l1.886-1.886 8.014 8.014-1.886 1.886-8.014-8.014zM13.305 20.942l11.408-11.408 1.886 1.886-11.408 11.408-1.886-1.886z"></path></svg>'},function(e,t,n){"use strict";function r(){var e=Object(o.e)("userInfo");return Object(a.a)({url:e,dataType:"json"}).then(function(e){return e}).catch(function(e){e.message&&i.a.noticeError(e)})}var o=n(18),a=n(43),i=n(44);t.a={getInfo:r}},function(e,t,n){"use strict";function r(){Object(i.i)("SharePanel")&&(o(),Object(i.h)("ObjectToolbarPanel",null,"SharePanel"))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"start";a.default.dispatch(c.n,e)}t.a=r,t.b=o;var a=n(1),i=n(16),c=n(526)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return w});var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(4),O=n.n(y),S=n(16),w=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"onClick",function(t){e.props.onClick?e.props.onClick(t):Object(S.b)()}),e}c(t,e);var n=l(t);return i(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"cmpCloseButton close-box"},m.a.createElement("div",{className:O()("sstk-icons-before","icon-close","close"),onClick:this.onClick}))}}]),t}(b.PureComponent);h(w,"displayName","CloseButton"),h(w,"propTypes",{onClick:v.a.func})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=p();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){b(c,r,o,a,i,"next",e)}function i(e){b(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function g(e,t){return v.apply(this,arguments)}function v(){return v=m(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!F.b.isEnabled("autoSave")){e.next=5;break}if(!j.default.evaluate(k.g)){e.next=4;break}return e.next=4,C.default.flushAutoSave({showLoader:!0});case 4:return e.abrupt("return",t());case 5:y(t,n);case 6:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function y(e){return O.apply(this,arguments)}function O(){return O=m(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:{},r=j.default.evaluate(E.B.hasUnsavedChanges),o=j.default.evaluate(k.a),a=j.default.evaluate(E.B.fabricTimeStamp),i=!!a,!r||!i){e.next=26;break}if(c=o?L:x.a,n.ensureLoggedIn||z.a.isLoggedIn()){e.next=10;break}if("function"!=typeof t){e.next=10;break}return e.abrupt("return",t());case 10:return e.next=12,A.g({Modal:c,props:n});case 12:if(u=e.sent,!n.ensureLoggedIn){e.next=16;break}return e.next=16,Object(G.ensureLoggedIn)();case 16:if(n.showLoader&&j.default.dispatch(B.G,"roundSpinner"),A.a(),!o){e.next=23;break}return e.next=21,Object(T.k)(o.get("id"),o.get("title"));case 21:e.next=25;break;case 23:return e.next=25,Object(T.i)(u);case 25:n.showLoader&&j.default.dispatch(B.G,"");case 26:"function"==typeof t&&t();case 27:case"end":return e.stop()}},e)})),O.apply(this,arguments)}function S(e){return w.apply(this,arguments)}function w(){return w=m(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=W("template-modal.untitled_design"),t&&(n=t.get("title")),r=t?Object(T.k)(t.get("id"),t.get("title")):Object(T.i)(n),e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),w.apply(this,arguments)}var j=n(1),T=n(90),E=n(17),C=n(65),k=n(30),x=n(829),P=n(0),_=n.n(P),I=n(2),N=n(339),M=n.n(N),A=n(25),R=n(147),D=Object(I.c)(M.a),L=function(e){function t(){return a(this,t),n.apply(this,arguments)}u(t,e);var n=s(t);return c(t,[{key:"getMessage",value:function(){return _.a.createElement("div",null,_.a.createElement("p",null,D("template-modal.unsave-sub-title")),_.a.createElement("p",null,D("template-modal.unsave-sub-title2")))}},{key:"render",value:function(){var e=this.props,t=e.alternativeAction,n=e.exit;return _.a.createElement(R.a,o({},this.props,{title:D("template-modal.unsave-title"),iconName:"icon-modal-check",message:this.getMessage(),primaryActionLabel:D("action.save"),secondaryActionLabel:D(n?"action.exit":"action.cancel"),alternativeAction:!n&&function(){Object(A.a)(),t&&t()},alternativeActionLabel:!n&&D("template-modal.small-action-label")}))}}]),t}(P.PureComponent);!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(L,"displayName","UnsavedDesign");var G=n(70),B=n(19),F=n(15),z=n(64),U=n(68),H=n.n(U);t.a=g,t.b=S;var W=Object(I.c)(H.a)},function(e,t,n){"use strict";t.a=function(e){return 0===e.indexOf("blob:http")||0===e.indexOf("http")||0===e.indexOf("/editor")||0===e.indexOf("data:image/")}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(155),i=n(127),c={text:""},u=function(e){var t=e.onClick,n=void 0===t?function(){}:t,r=e.previewUrl,u=e.id,l=e.item,s=e.preview,f=e.children;return o.a.createElement("div",{key:u,onClick:function(){n(l)},className:"cmpTemplateItem"},o.a.createElement(a.a,{key:u,setData:c,onCanvasDrop:function(){n(l)},className:"hoverable",style:s},o.a.createElement(i.a,{alt:"template-preview",className:"gray-border",src:r,checkerboard:!1}),f))};t.a=u},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e){return e.map?e.map(function(e){return e.join(" ")}).join(" "):e}function u(e){return null!=e&&"object"===i(e)&&"[object Object]"===Object.prototype.toString.call(e)}function l(e,t){if(u(e)){var n,r={};for(n in e)if(!(m.indexOf(n)>-1||void 0!==d[n]&&h()(e[n],d[n]))){var o=t[n]||n;g[n]?r[o]=g[n](e[n]):r[o]=l(e[n],t)}return r}return Array.isArray(e)?e.map(function(e){return l(e,t)}):e}function s(e){return l(e,b)}var f={visible:!0,angle:0,flipX:!1,flipY:!1,scaleX:1,scaleY:1,isLocked:!1,opacity:1,skewX:0,skewY:0,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,fillRule:"nonzero",originX:"center",originY:"center",shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.14)",offsetX:0,offsetY:0,blur:16,affectStroke:!1}},d=o(o({},f),{},{isPlaceholder:!1,shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.2)",offsetX:3,offsetY:3,blur:10,affectStroke:!1}}),p=n(174),h=n.n(p);t.a=s;var b={},m=["globalCompositeOperation","transformMatrix","resizeFilter","overline","isCropping","isInPerspectiveMode","meetOrSlice","alignX","alignY","selectionStart","selectionEnd","clipTo","backgroundColor"],g={path:c};!function(e){var t={};for(var n in e)t[e[n]]=n}(b)},,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(0),a=n.n(o),i=n(4),c=n.n(i),u=n(5),l=n.n(u),s=n(1948),f=n.n(s),d=n(24),p=(n.n(d),["page","paper"]),h=Object(d.makeStyles)(function(e){var t=e.palette;return{page:{color:t.pageLoading.color},paper:{color:t.paperLoading.color},fullHeight:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},blockLevel:{padding:16,display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}}}),b=function(e){var t,n=e.variant,o=void 0===n?"paper":n,i=e.fullHeight,u=e.blockLevel,l=h();return a.a.createElement("span",{className:c()((t={},r(t,l.fullHeight,i),r(t,l.blockLevel,u),t))},a.a.createElement(f.a,{style:{width:56,height:56},classes:{root:l[o]}}))};b.propTypes={variant:l.a.oneOf(p)},t.a=b},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return!!o.default.evaluate(c.a.featureFlags.concat(e))}n.d(t,"b",function(){return s});var o=n(1),a=n(129),i=n.n(a),c=n(508),u=n(652),l=i()(r),s=function(){return r(r("embed")?"sdk_enableMobile":"desktop")},f={setFlag:function(e,t){return f.isEnabled.cache.delete(e),o.default.dispatch(u.b,{featureName:e,value:t})},resetFlags:function(){return f.isEnabled.cache.clear(),o.default.dispatch(u.a)},isEnabled:l};t.a=f},,function(e,t,n){"use strict";function r(e,t){return e.set("searchQuery",t)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;switch(n){case c.a:return r(e,o);default:return e}}var a=n(41),i=n(12),c=n(796),u=Object(i.fromJS)({searchQuery:""});Object(a.a)({Emoji:o})},function(e,t){e.exports='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 16 16" xml:space="preserve"><rect x="7.2" y="11" width="1.5" height="1.5"></rect><rect x="7.2" y="6.5" width="1.5" height="3.8"></rect><path d="M15.4,14.7L8.5,0.8C8.4,0.5,8,0.4,7.7,0.6C7.6,0.6,7.6,0.7,7.5,0.8L0.6,14.7c-0.1,0.3,0,0.6,0.3,0.8 c0.1,0,0.2,0.1,0.2,0.1h13.9c0.3,0,0.6-0.3,0.6-0.6C15.5,14.8,15.5,14.7,15.4,14.7z M13.4,14H2.6c-0.1,0-0.1-0.1-0.1-0.1 c0,0,0,0,0,0L7.9,3.1c0,0,0.1-0.1,0.1,0c0,0,0,0,0,0l5.4,10.7C13.5,13.9,13.5,14,13.4,14C13.4,14,13.4,14,13.4,14z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 11 11"><path d="M9.9 0H1.1A1.09 1.09 0 000 1.1V11l2.2-2.2h7.7A1.11 1.11 0 0011 7.7V1.1A1.1 1.1 0 009.9 0zm0 7.7H1.74l-.32.3-.32.32V1.1h8.8zM5 5.5h1.1v1.1H5zm0-3.3h1.1v2.2H5z" fill="currentColor"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.6 4.8L11 7.2h10.6v12H2.4V4.8h6.2m1-2.4H2.4C1.1 2.4 0 3.5 0 4.8v14.4c0 1.3 1.1 2.4 2.4 2.4h19.2c1.3 0 2.4-1.1 2.4-2.4v-12c0-1.3-1.1-2.4-2.4-2.4H12L9.6 2.4z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M12,6a4,4,0,0,0-4,4h2a2,2,0,1,1,2,2H11v3h2V13.9a4,4,0,0,0,3-4.8A3.88,3.88,0,0,0,12,6ZM11,18h2V16H11ZM12,2A10,10,0,1,0,22,12,10,10,0,0,0,12,2Zm0,18a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" transform="translate(-2 -2)"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20.02 19.99"><path d="M10.01-.01a10 10 0 013.89.77 10.3 10.3 0 015.32 5.34 9.81 9.81 0 010 7.76 10.22 10.22 0 01-2.16 3.19 9.79 9.79 0 01-3.16 2.13 9.86 9.86 0 01-7.78 0 9.79 9.79 0 01-3.11-2.12A10.22 10.22 0 01.8 13.87a9.81 9.81 0 010-7.76A10.3 10.3 0 016.12.77a10 10 0 013.89-.78zm-7.71 12h3.42a8 8 0 00-.06-1 8 8 0 01-.06-1v-1a5.84 5.84 0 01.1-1H2.3a5.62 5.62 0 00-.21 1 7.13 7.13 0 00-.08 1 7.22 7.22 0 00.07 1 6.19 6.19 0 00.22 1zm3.71-6c.21-.61.41-1.22.62-1.82s.43-1.18.68-1.78a8.63 8.63 0 00-2.46 1.42 8 8 0 00-1.84 2.18zm-2.89 8a6.52 6.52 0 001.82 2.17A9.89 9.89 0 007.5 17.6c-.29-.56-.56-1.16-.81-1.78a14.66 14.66 0 01-.57-1.83zm9.19-2a9.16 9.16 0 01.18-1 4.05 4.05 0 00.12-1 8.89 8.89 0 00-.06-1q-.06-.51-.15-1H7.71c0 .3-.09.62-.14 1a8.91 8.91 0 00-.07 1 7.88 7.88 0 00.07 1c.05.31.1.65.14 1zm-2.3-10a13.72 13.72 0 00-1.1 1.92 13 13 0 00-.8 2.08h3.8a11.18 11.18 0 00-.8-2.12 14.59 14.59 0 00-1.1-1.88zm0 16a15.94 15.94 0 001.1-1.94 12.8 12.8 0 00.8-2.06h-3.8a11.09 11.09 0 00.8 2.11 17.06 17.06 0 001.1 1.89zm6.89-12a6.55 6.55 0 00-1.79-2.18 9 9 0 00-2.5-1.42c.3.59.57 1.19.81 1.79a15.49 15.49 0 01.59 1.81zM12.61 17.6a9.17 9.17 0 002.5-1.48 7.22 7.22 0 001.79-2.13h-2.89a13.76 13.76 0 01-.6 1.88 18.15 18.15 0 01-.8 1.73zm5.2-5.61a7.62 7.62 0 00.2-1 6.8 6.8 0 000-2 6.74 6.74 0 00-.23-1h-3.36v1c0 .32.05.65.05 1v1c0 .3 0 .65-.08 1z" fill="currentColor"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><g><path d="M0,11.51v-3a.31.31,0,0,1,.35-.35H3.07a.31.31,0,0,1,.35.35v3a.31.31,0,0,1-.35.35H.39A.31.31,0,0,1,0,11.51Zm8.3,0v-3a.31.31,0,0,1,.35-.35h2.67a.31.31,0,0,1,.35.35v3a.31.31,0,0,1-.35.35H8.69A.31.31,0,0,1,8.34,11.51Zm8.29,0v-3A.31.31,0,0,1,17,8.14h2.67a.31.31,0,0,1,.35.35v3a.31.31,0,0,1-.35.35H17A.31.31,0,0,1,16.63,11.51Z"></path></g></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="158 -248 512 512" enable-background="new 158 -248 512 512"><path class="st0 " d="M448.3-26.3v-205.7h-68.6v205.7h-205.7v68.6h205.7v205.7h68.6v-205.7h205.7v-68.6z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18.1 1H5.9C4.6 1 3.5 2.1 3.5 3.5v19.4l8.5-3.6 8.5 3.6V3.5c0-1.4-1.1-2.5-2.4-2.5zm0 18.3L12 16.6l-6.1 2.7V3.5h12.2v15.8z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M20,20V18H0v2Zm-9-4V3.8L15.3,8.09l1.4-1.38L10,0,3.3,6.71,4.7,8.09,9,3.8V16Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M15.51,14.62l-1.06,1.06L10.18,11.4a6,6,0,0,1-6,.8A6,6,0,0,1,1,9,5.75,5.75,0,0,1,.49,6.68,5.7,5.7,0,0,1,1,4.34,6.28,6.28,0,0,1,2.25,2.43a6.14,6.14,0,0,1,1.9-1.29A5.83,5.83,0,0,1,6.49.66a5.76,5.76,0,0,1,2.34.48,6.26,6.26,0,0,1,1.9,1.29A6.16,6.16,0,0,1,12,4.34a5.86,5.86,0,0,1,.47,2.34,5.63,5.63,0,0,1-.34,2,6.21,6.21,0,0,1-.93,1.7Zm-9-3.44a4.24,4.24,0,0,0,1.74-.36,4.39,4.39,0,0,0,1.43-1,4.88,4.88,0,0,0,1-1.43A4.32,4.32,0,0,0,11,6.68a4.36,4.36,0,0,0-.36-1.76,4.88,4.88,0,0,0-1-1.43,4.39,4.39,0,0,0-1.43-1,4.23,4.23,0,0,0-1.74-.35,4.32,4.32,0,0,0-1.76.35,4.29,4.29,0,0,0-1.43,1,4.5,4.5,0,0,0-1,1.43A4.36,4.36,0,0,0,2,6.68a4.31,4.31,0,0,0,.35,1.75,4.5,4.5,0,0,0,1,1.43,4.29,4.29,0,0,0,1.43,1A4.33,4.33,0,0,0,6.51,11.18Zm.73-7.51V5.92H9.49V7.43H7.24V9.68H5.75V7.43H3.5V5.92H5.75V3.67Z"></path></svg>'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18"><path d="M11.21,10.16l4.29,4.27-1.05,1.05-4.28-4.27a5.7,5.7,0,0,1-1.73.94A5.91,5.91,0,0,1,4.16,12a6.22,6.22,0,0,1-1.91-1.28A6.14,6.14,0,0,1,1,8.82,6,6,0,0,1,.49,6.48,5.91,5.91,0,0,1,1,4.15a6.14,6.14,0,0,1,1.29-1.9A6.43,6.43,0,0,1,4.16,1,5.93,5.93,0,0,1,6.5.49,5.87,5.87,0,0,1,8.82,1a6.31,6.31,0,0,1,1.91,1.29A6.14,6.14,0,0,1,12,4.15a5.74,5.74,0,0,1,.47,2.33,5.88,5.88,0,0,1-.32,2A6,6,0,0,1,11.21,10.16ZM6.5,11a4.3,4.3,0,0,0,1.74-.35,4.29,4.29,0,0,0,1.43-1,4.37,4.37,0,0,0,1-1.45A4.09,4.09,0,0,0,11,6.48a4.09,4.09,0,0,0-.37-1.74,4.43,4.43,0,0,0-1-1.44,4.29,4.29,0,0,0-1.43-1A4.3,4.3,0,0,0,6.5,2a4.36,4.36,0,0,0-1.76.36,4.45,4.45,0,0,0-1.42,1,4.62,4.62,0,0,0-1,1.44,4.5,4.5,0,0,0,0,3.48,4.56,4.56,0,0,0,1,1.45,4.45,4.45,0,0,0,1.42,1A4.36,4.36,0,0,0,6.5,11Zm-3-5.25V7.24h6V5.73Z"></path></svg>'},function(e,t,n){"use strict";function r(e,t){return"".concat(a()(e).trim()," ").concat(a()(t).trim()).trim()}t.a=r;var o=n(512),a=n.n(o)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(5),v=n.n(g),y=n(11),O=n(30),S=n(14),w=n(1),j=n(223),T=n(390),E=n(2),C=n(709),k=n.n(C),x=n(109),P=n(555),_=Object(E.c)(k.a),I=function(e){function t(){var e;o(this,t);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return e=r.call.apply(r,[this].concat(i)),h(f(e),"state",{previews:[],activeIndex:0,previousIndex:-1}),h(f(e),"downloadAllChanged",function(t){n.e(0).then(n.bind(null,374)).then(function(n){var r=n.downloadActions;if(t.target.checked)r.toggleMultipageDownload(!0);else{r.toggleMultipageDownload(!1);var o=w.default.evaluate(S.n),a=w.default.evaluate(S.a),i=o.indexOf(a);e.setState({activeIndex:i})}})}),e}c(t,e);var r=l(t);return i(t,[{key:"componentWillMount",value:function(){var e=w.default.evaluate(S.n),t=w.default.evaluate(S.a),n=e.indexOf(t),r=new Array(e.size);e.forEach(function(e,t){r[t]={width:e.get("width"),height:e.get("height"),element:x.a.getElementCopy(e)}}),this.setState({previews:r,activeIndex:n,multipageChecked:!1})}},{key:"render",value:function(){var e=this.props,t=e.activeDesign,n=e.downloadMultipageSelected,r=e.hidePreview,o=e.containerWidth,a=e.containerHeight,i=this.state,c=i.previews,u=i.activeIndex,l=c[u]||{width:1200,height:1200},s=t?t.get("title"):"Untitled design",f=c.length>1;return m.a.createElement("div",{className:"download-preview"},r||m.a.createElement("div",{className:"download-preview-label"},_("download-preview.preview")),m.a.createElement(P.a,{width:o,height:a}),m.a.createElement("div",{className:"download-preview-info"},m.a.createElement("span",{className:"download-preview-title"},s),m.a.createElement(T.a,{width:l.width,height:l.height,className:"download-preview-dims"}),!this.props.hideMultipageOption&&f&&m.a.createElement("span",{className:"checkbox download-preview-multi-check"},m.a.createElement("label",null,m.a.createElement("input",{id:"downloadAllPages",name:"downloadAllPages",type:"checkbox",onChange:this.downloadAllChanged,checked:n}),m.a.createElement("span",{className:"checkbox-subaction"},_("pages.download-all"))))))}}]),t}(b.PureComponent);h(I,"propTypes",{includeShareButtons:v.a.bool}),t.a=Object(y.a)(function(e){return{activeDesign:O.a(e),downloadMultipageSelected:j.a.downloadMultipageSelected(e)}})(I)},,function(e,t,n){"use strict";function r(e,t){var n,r=t.data,o=e.segments,a=e.indexMap;e.unknown=[],e.mixed=[],e.foreground=[],e.background=[];var i=Object.keys(o);i.forEach(function(e){n=o[e],n.mask={f:0,b:0},n.foreground=!1,n.background=!1,n.unknown=!1,n.mixed=!1});for(var c=0;c<a.length;++c){var u=a[c];r[4*c+1]>0&&o[u].mask.f++,r[4*c+0]>0&&o[u].mask.b++}i.forEach(function(t){n=o[t];var r=parseInt(t,10);n.mask.f>.9*n.count&&0===n.mask.b?(n.foreground=!0,n.stronglyForeground=!0,e.foreground.push(r)):n.mask.f>.05*n.count&&0===n.mask.b?(n.foreground=!0,e.foreground.push(r)):n.mask.b>.9*n.count&&0===n.mask.f?(n.background=!0,n.stronglyBackground=!0,e.background.push(r)):n.mask.b>.05*n.count&&0===n.mask.f||n.guessedAsBackground?(n.background=!0,e.background.push(r)):n.mask.b>0&&n.mask.f>0?(n.mixed=!0,e.mixed.push(r)):(n.unknown=!0,e.unknown.push(r))}),e.inputMask=r}function o(e){var t=e.segments;e.foreground=[],e.background=[],e.unknown=[],e.mixed=[],e.inputMask=[],Object.keys(t).forEach(function(n){var r=t[n],o=parseInt(n,10);r.foreground=!1,r.mixed=!1,r.guessedAsBackground?(r.background=!0,r.unknown=!1,e.background.push(o)):(r.background=!1,r.unknown=!0,e.unknown.push(o))})}function a(e){for(var t=Object(pt.a)(),n=e.data,r=t.inputMask,o=0;o<n.length;o+=4)if(r[o+0]>0)n[o+3]=0;else if(r[o+1]>0)n[o+3]=255;else{var a=t.segments[t.indexMap[o/4]];a.background?n[o+3]=0:a.foreground&&(n[o+3]=255)}}function i(){var e=ot.default.evaluate(bt.d).id;if(!mt[e]){var t=new ht.a(ot.default);t.setMaxListeners(2),t.includeKeyPathInSnapshots(["backgroundRemove","brushStrokes",e]),mt[e]=t}return mt[e]}function c(e){Ot.width===e.width&&Ot.height===e.height||(Ot.width=e.width,Ot.height=e.height),Ot.getContext("2d").clearRect(0,0,Ot.width,Ot.height);for(var t,n=Ot.getContext("2d").getImageData(0,0,Ot.width,Ot.height),r=n.data,o=0,a=0,i=0;i<r.length;i+=4)o=i/4,a=e.indexMap[o],t=e.segments[a],t.isBorder&&(t.foreground&&(r[i+1]=255),t.background&&(r[i+0]=255,r[i+1]=255),r[i+3]=255);Ot.getContext("2d").putImageData(n,0,0),console.screenshot(Ot)}function u(e,t,n){Ot.width===e.width&&Ot.height===e.height||(Ot.width=e.width,Ot.height=e.height),Ot.getContext("2d").clearRect(0,0,Ot.width,Ot.height);for(var r,o=Ot.getContext("2d").getImageData(0,0,Ot.width,Ot.height),a=o.data,i=0,c=0,u=0;u<a.length;u+=4)i=u/4,c=e.indexMap[i],r=e.segments[c],a[u+0]=r.background?255:0,a[u+1]=r.foreground?255:0,a[u+2]=0,n.indexOf(c)>-1?a[u+3]=128:a[u+3]=r.background||r.foreground?255:0;Ot.getContext("2d").putImageData(o,0,0),console.screenshot(Ot)}function l(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt.a,n=e.segments,r=0;r<e.mixed.length;r++){var o=e.mixed[r],a=n[o];a.mask.f>a.mask.b?(a.foreground=!0,e.foreground.push(o)):(a.background=!0,e.background.push(o))}for(var i=0;i<e.unknown.length;i++)!function(r){var o=e.unknown[r],a=n[o];a.foreground=!0;var i=e.foreground.map(function(e){return t(a,n[e])}),c=e.background.map(function(e){return t(a,n[e])}),u=Math.min.apply(null,i),l=Math.min.apply(null,c);u=u===1/0?50:u,u>l?(a.foreground=!1,a.background=!0,e.background.push(o)):e.foreground.push(o)}(i);e.unknown=[]}function s(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et,n=e.segments,r=0;r<e.unknown.length;r++)!function(r){var o=e.unknown[r],a=n[o],i=e.foreground.map(function(e){return t(a,n[e])}),c=e.background.map(function(e){return t(a,n[e])}),u=Math.min.apply(null,i),l=Math.min.apply(null,c);u=u===1/0?6.55:u,u>l?a.background=!0:a.foreground=!0}(r);var o=Object.keys(n);e.foreground=o.filter(function(e){return!0===n[e].foreground}).map(Ct),e.background=o.filter(function(e){return!0===n[e].background}).map(Ct),e.unknown=[]}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Et,n=e.segments;if(!n[0].nearEdges)return l(e);for(var r=0;r<e.mixed.length;r++){var o=e.mixed[r],a=n[o];a.mask.f>a.mask.b?(a.foreground=!0,e.foreground.push(o)):(a.background=!0,e.background.push(o))}for(var i=e.foreground.concat(e.background);e.unknown.length&&i.length>0;){var c=i;i=[];for(var f=0;f<c.length;f++)for(var d=c[f],p=n[d],h=0;h<p.nearEdges.length;h++){var b=p.nearEdges[h],m=n[b];if(m.unknown||m.guessedAsBackground&&p.foreground&&m.background){var g=t(p,n[b]);g<9.8&&(m.unknown&&e.unknown.splice(e.unknown.indexOf(Ct(b)),1),m.unknown=!1,i.push(Ct(b)),m.foreground=p.foreground,m.background=p.background,m.guessedAsBackground=!p.foreground&&p.guessedAsBackground)}}St.b.isEnabled("bgdebug")&&u(e,c,i)}var v=Object.keys(n);e.foreground=v.filter(function(e){return!0===n[e].foreground}).map(Ct),e.background=v.filter(function(e){return!0===n[e].background}).map(Ct),s(e,Et),St.b.isEnabled("bgdebug")&&wt(e)}function d(){var e=Object(pt.a)();r(e,h()),St.b.isEnabled("oldmode")?l(e):f(e),a(Ue),m()}function p(e){var t=e.data;Object(pt.c)(t),yt(),o(t),en().then(function(e){e.length>0?d():(f(t),a(Ue),m()),Xe=Date.now(),ot.default.dispatch("SET_SPINNER",""),vt.b.track("segmentation performance",{time:Xe-Ke})})}function h(){var e=Fe.getObjects("path");e.forEach(function(e){e.opacity=1});var t=Fe.viewportTransform,n=Fe.enableRetinaScaling,r=lt.fabric.util.createCanvasElement(),o=Fe.contextTop;return Fe.backgroundImage.opacity=0,r.width=Fe.backgroundImage.width,r.height=Fe.backgroundImage.height,Fe.contextTop=null,Fe.enableRetinaScaling=!1,Fe.interactive=!1,Fe.skipOffscreen=!1,Fe.viewportTransform=[1,0,0,1,0,0],Fe.calcViewportBoundaries(),Fe.renderCanvas(r.getContext("2d"),e),Fe.viewportTransform=t,Fe.calcViewportBoundaries(),Fe.interactive=!0,Fe.enableRetinaScaling=n,Fe.contextTop=o,Fe.skipOffscreen=!0,Fe.backgroundImage.opacity=1,e.forEach(function(e){e.opacity=0,e.canvas=Fe,e.setCoords()}),r.getContext("2d").getImageData(0,0,r.width,r.height)}function b(){var e=He.getContext("2d");e.imageSmoothingEnabled=!1,e.globalCompositeOperation="source-over",e.fillRect(0,0,He.width,He.height),e.globalCompositeOperation="destination-out",e.drawImage(Ve,0,0),We.canvas.requestRenderAll()}function m(){if(ze.current){var e=Object(st.c)(Ve,ze.current);Ve.getContext("2d").putImageData(Ue,0,0),b();var t=ze.current.width,n=ze.current.height,r=t/2-Ve.width*e/2,o=n/2-Ve.height*e/2,a=Ve.width*e,i=Ve.height*e,c=ze.current.getContext("2d");c.clearRect(0,0,c.canvas.width,c.canvas.height),c.drawImage(Ve,r,o,a,i)}}function g(e,t,n,r){var o=e.windowHeight,a=e.containerWidth;n.setDimensions({width:a,height:o}),t.scaleX=1,t.scaleY=1,t.top=t.height/2,t.left=t.width/2,We&&(We.left=t.left,We.top=t.top),r.fitToPage(),n.requestRenderAll()}function v(e,t,n,r){ot.default.dispatch("SET_SPINNER","fullscreen"),z(),ze=r,Fe=e,t.fabricCanvas=e,ut.c(t,kt),n.selectionBackgroundColor="",n.off(),n.perPixelTargetFind=!1,n.pixellated=!0,n.selectable=!1,n.objectCaching=!1,n.strokeWidth=0,n.canvas=e,He=lt.fabric.util.createCanvasElement(),He.width=n.width,He.height=n.height,He.getContext("2d").fillStyle="yellow",We=new lt.fabric.UserImage(He,{}),We.selectable=!1,We.opacity=.5,We.objectCaching=!1,We.perPixelTargetFind=!1,We.strokeWidth=0,We.pixellated=!0,e.add(We),e.includeDefaultValues=!1,e.backgroundImage=n,e.isDrawingMode=!0,e.freeDrawingBrush=new lt.fabric.PencilBrush(e),e.on("mouse:down:before",function(){xt()}),e.on("path:created",function(t){var n=t.path,r=ot.default.evaluate(bt.c.brushType);vt.b.track("bgRemove-line-".concat(r)),n.objectCaching=!1,n.opacity=.7,n.stroke=new lt.fabric.Color(n.stroke).setAlpha(1).toRgba(),n.perPixelTargetFind=!1,n.includeDefaultValues=!1,n.selectable=!1,1===e.getObjects("path").length&&yt(),Pt()}),e.on("mouse:over",function(){var e=ot.default.evaluate(bt.c.brushType),t=ot.default.evaluate(bt.c.brushSize);nn(e,t)})}function y(e){var t=e.width||e.naturalWidth,n=e.height||e.naturalHeight;Ve=document.createElement("canvas"),Ve.width=t,Ve.height=n,Ve.getContext("2d").drawImage(e,0,0),Ue=Ve.getContext("2d").getImageData(0,0,t,n);var r=dt()(1929);r.addEventListener("message",p),Ke=Date.now(),r.postMessage({imageData:Ue})}function O(){return He}function S(){Fe=null,ze=null,Ue=null,He=null,We=null,Ve=null}function w(e,t){vt.b.track("bgRemove-tutorial-".concat(t))}function j(e){var t=e.nextAction,n=e.primaryText,r=e.secondaryText;return function(){Object(Rt.f)({message:Je.a.createElement(Dt.b,{tracking:"backgroundRemoveTutorialStep1",nextAction:t,secondaryText:r,primaryText:n},Je.a.createElement(Ut,null)),className:"noPulse actionFlash autoHeight backgroundRemoveFlashWidth",position:{right:!0,bottom:!0},style:{},id:"bgtour",dismissable:!0,closeTrack:"bgRemove-tutorial-close"})}}function T(e){var t=e.nextAction,n=e.backAction,r=e.primaryText,o=e.secondaryText;return function(){Object(Rt.f)({message:Je.a.createElement(Dt.b,{tracking:"backgroundRemoveTutorialStep2",nextAction:t,backAction:n,secondaryText:o,primaryText:r},Je.a.createElement(Ht,null)),className:"noPulse actionFlash autoHeight backgroundRemoveFlashWidth",position:{right:!0,bottom:!0},style:{},id:"bgtour",dismissable:!0,closeTrack:"bgRemove-tutorial-close"})}}function E(){return Object(At.a)(Wt)[0]().then(function(){Object(Rt.b)("bgtour")})}function C(e,t){return I(e)||_(e,t)||x(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function x(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function I(e){if(Array.isArray(e))return e}function N(e){return D(e)||R(e)||A(e)||M()}function M(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"==typeof e)return L(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?L(e,t):void 0}}function R(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function D(e){if(Array.isArray(e))return L(e)}function L(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function G(){Object(tt.a)({withFading:!0}),Object(nt.h)("ObjectToolbarPanel",null,"DownloadPanel"),S()}function B(e){var t=it()(e.toObject(),qt),n=Object(ct.h)(t.imageId);t.element=n.get("licensedImagemedium")||n.get("sourceImage");var r=t.element.width,o=t.element.height;if("userImage"===n.type&&r>1e3||o>1e3){var a={width:1e3,height:1e3},i=Object(st.c)(t.element,a);return Object(Nt.a)(t.element,{width:r*i,height:o*i}).then(function(e){return t.element=e,t})}return Promise.resolve(t)}function F(e){return e.includeDefaultValues=!1,B(e).then(function(t){ot.default.dispatch(rt.a,t),e.includeDefaultValues=!0})}function z(){if(!ot.default.evaluate(Yt.h.isMobile)){var e=parseInt(Mt.a.getItem("backgroundRemoveTutorial")||0,10);e<=on&&(Mt.a.setItem("backgroundRemoveTutorial",e+1),e%an==0&&Vt.start())}}function U(e){"@babel/helpers - typeof";return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach(function(t){te(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function V(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t,n){return t&&K(e.prototype,t),n&&K(e,n),e}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&q(e,t)}function q(e,t){return(q=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=Q();return function(){var n,r=ee(e);if(t){var o=ee(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return J(this,n)}}function J(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?$(e):t}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e){"@babel/helpers - typeof";return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ae(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),e}function ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ue(e){var t=fe();return function(){var n,r=de(e);if(t){var o=de(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return le(this,n)}}function le(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?se(e):t}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function de(e){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e){"@babel/helpers - typeof";return(he="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ge(e,t,n){return t&&me(e.prototype,t),n&&me(e,n),e}function ve(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Oe(e){var t=je();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==he(t)&&"function"!=typeof t?we(e):t}function we(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Ce(e){"@babel/helpers - typeof";return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t,n){return t&&xe(e.prototype,t),n&&xe(e,n),e}function _e(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ne(e){var t=Re();return function(){var n,r=De(e);if(t){var o=De(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?Ae(e):t}function Ae(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Re(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function De(e){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vn,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case rt.a:return e.set("image",r).setIn(["brushStrokes",r.id],e.getIn(["brushStrokes",r.id])||Object(Wn.fromJS)([]));case rt.b:return e.setIn(["brushStrokes",e.get("image").id],Object(Wn.fromJS)(r));case rt.c:return e.set("brushSize",r);case rt.d:return e.set("brushType",r);case rt.e:return e.set("panelActive",r);default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var Be={};n.d(Be,"hideBgRemovalPanel",function(){return G}),n.d(Be,"dispatchBgRemovalInfo",function(){return F}),n.d(Be,"setAddBrush",function(){return Jt}),n.d(Be,"setRemoveBrush",function(){return $t}),n.d(Be,"setBrushSize",function(){return Qt}),n.d(Be,"putStateStrokesInCanvas",function(){return en}),n.d(Be,"applyToObject",function(){return tn}),n.d(Be,"updateBrush",function(){return nn}),n.d(Be,"reset",function(){return rn}),n.d(Be,"MAX_BACKGROUND_REMOVE_TUTORIAL_COUNT",function(){return on}),n.d(Be,"BACKGROUND_REMOVE_TUTORIAL_INTERVAL",function(){return an}),n.d(Be,"showBackgroundRemoveTutorial",function(){return z}),n.d(Be,"default",function(){return cn});var Fe,ze,Ue,He,We,Ve,Ke,Xe,Ye=n(41),qe=n(11),Ze=n(0),Je=n.n(Ze),$e=n(4),Qe=n.n($e),et=n(164),tt=n(25),nt=n(16),rt=n(897),ot=n(1),at=n(69),it=n.n(at),ct=n(14),ut=n(165),lt=n(8),st=n(87),ft=n(1751),dt=n.n(ft),pt=n(529),ht=n(782),bt=n(528),mt={},gt={undo:function(){return i().undo()},redo:function(){return i().redo()},takeSnapshot:function(){return i().takeSnapshot()},resetUndoStack:function(){return i().resetUndoStack()},on:function(){var e;return(e=i()).on.apply(e,arguments)},removeListener:function(){var e;return(e=i()).removeListener.apply(e,arguments)},getUndoLength:function(){var e;return(e=i()).getUndoLength.apply(e,arguments)},getRedoLength:function(){var e;return(e=i()).getRedoLength.apply(e,arguments)}},vt=n(7),yt=function(){for(var e=Object(pt.a)(),t=e.segments,n=e.size,r=Object.keys(t),o=0;o<n;o++){var a=r[o],i=t[a];i.edges={},i.nearEdges=[]}for(var c=0;c<n;c++)for(var u=r[c],l=t[u],s=c+1;s<n;s++){var f=r[s],d=t[f],p=(Math.abs(l.min_x-d.min_x)+Math.abs(l.max_x-d.max_x))/2,h=(Math.abs(l.min_y-d.min_y)+Math.abs(l.max_y-d.max_y))/2,b=Math.sqrt(p*p+h*h);b<45&&(l.nearEdges.push(f),d.nearEdges.push(u)),l.edges[f]=b,d.edges[u]=b}},Ot=document.createElement("canvas"),St=n(15),wt=function(e){var t=e.segments;Object.keys(t).forEach(function(e){var n=t[e];n.background?n.isBorder=n.nearEdges.some(function(e){return t[e].foreground}):n.foreground&&(n.isBorder=n.nearEdges.some(function(e){return t[e].background}))}),St.b.isEnabled("bgdebug")&&c(e)},jt=n(1752),Tt=n(1619),Et=function(e,t){return Object(jt.deltaE)(Object(jt.rgb2lab)(e.mp),Object(jt.rgb2lab)(t.mp))},Ct=function(e){return parseInt(e,10)},kt={fitToPageMargins:96,zoomMargins:0,maxZoomLevel:32,minZoomLevel:.01,withDispatches:!1,withInfinitePan:!1,zoomMode:"manual",zoomRange:[.01,.02,.03,.04,.05,.0625,.125,.1875,.25,.5,.75,1,1.25,1.5,1.75,2,3,4,5,10,16,24,32],zoomChangeCallback:function(e){var t=document.body.querySelector(".bgRemovalFooter.cmpInformationPanel .currLevel");t&&(t.innerHTML=ut.d(e))}},xt=function(){Fe.freeDrawingBrush.width=Math.max(1,ot.default.evaluate(bt.c.brushSize)/Fe.getZoom())},Pt=function(){ot.default.dispatch("SET_SPINNER","fullscreenLight"),setTimeout(function(){d(),ot.default.dispatch(rt.b,Fe.getObjects("path").map(function(e){return e.toObject()})),gt.takeSnapshot(),Fe.requestRenderAll(),ot.default.dispatch("SET_SPINNER","")},50)},_t=function(){return Fe},It=n(6),Nt=n(490),Mt=n(88),At=n(233),Rt=n(154),Dt=n(803),Lt=n(2),Gt=n(196),Bt=n.n(Gt),Ft=n(363),zt=Object(Lt.c)(Bt.a),Ut=function(){return Je.a.createElement("div",{className:"backgroundRemoveFlashContent"},Je.a.createElement("div",{className:"image"},Je.a.createElement("video",{preload:"none",autoPlay:!0,muted:!0,loop:!0,width:202,height:150},Je.a.createElement("source",{src:Object(Ft.b)("mp4"),type:"video/mp4"}),Je.a.createElement("source",{src:Object(Ft.b)("webm"),type:"video/webm"}))),Je.a.createElement("div",null,Je.a.createElement("div",{className:"title"},zt("onboarding.background-remove.remove-backgrounds")),Je.a.createElement("div",{className:"subTitle"},zt("onboarding.background-remove.stepone"))))},Ht=function(){return Je.a.createElement("div",{className:"backgroundRemoveFlashContent"},Je.a.createElement("div",{className:"image"},Je.a.createElement("img",{src:"/editor/image/assets/images/background_remove_tutorial.png",srcSet:"/editor/image/assets/images/background_remove_tutorial_retina.png 1x, /editor/image/assets/images/background_remove_tutorial_retina.png 2x",height:150,alt:""})),Je.a.createElement("div",null,Je.a.createElement("div",{className:"title"},zt("onboarding.background-remove.avoid-highlighting")),Je.a.createElement("div",{className:"subTitle"},zt("onboarding.background-remove.steptwo"))))},Wt=[{action:j,tracking:w},{action:T,doneText:zt("onboarding.background-remove.got-it"),tracking:w}],Vt={start:E},Kt=function(e){var t=n.e(274).then(n.bind(null,2744)),r=lt.fabric.document.createElement("canvas");r.width=e.width,r.height=e.height;var o=r.getContext("2d");o.fillRect(0,0,r.width,r.height),o.globalCompositeOperation="destination-in",o.drawImage(e,0,0,e.width,e.height);var a=r.toDataURL().split(","),i=C(a,2),c=i[0],u=i[1];return t.then(function(e){var t=e.pako,n=e.jspngopt,r=new n.Optimizer({pako:t}),o=r.base64String(u);return"".concat(c,",").concat(o)})},Xt=n(355),Yt=n(22),qt=["imageId","type","id"],Zt=function(e,t){var n,r;return"add"===e?(n="%237ED321",r="M-6,-1v2h5v5h2v-5h5v-2h-5v-5h-2v5h-5"):(n="%23F54336",r="M-6,-1v2h12v-2h-12"),'url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="-'.concat(t/2," -").concat(t/2," ").concat(t," ").concat(t,'" width="').concat(t,'px" height="').concat(t,'px" ><circle cx="0" cy="0" r="50%" fill="').concat(n,'" /><path d="').concat(r,'" fill="white"/></svg>\') ').concat(t/2," ").concat(t/2,", crosshair")},Jt=function(){ot.default.dispatch(rt.d,"add")},$t=function(){ot.default.dispatch(rt.d,"remove")},Qt=function(e){ot.default.dispatch(rt.c,e)},en=function(){return new Promise(function(e){var t=ot.default.evaluate(bt.e),n=_t(),r=n.getObjects().filter(function(e){return"path"===e.type});lt.fabric.util.enlivenObjects(t,function(t){n.remove.apply(n,N(r)),n.add.apply(n,N(t)),n.requestRenderAll(),e(t)})})},tn=function(e){var t=Object(It.a)(),n=t.getObjects(),r=n.find(function(t){return t.id===e}),o=O();return r.mask=o,r.paintMask(),r.applyFilters(),t.requestRenderAll(),Kt(o).then(function(e){r.maskUrl=e;var o=t.getArtboard();1===n.length&&n[0]===t.getBackgroundImage()&&o.fill===Xt.b&&(Xt.a.setBackgroundColor({color:o.fill,saveHistory:!1,opacity:0}),t.fire("setData",{artboard:o},!1));t.fire("save",{target:r})})},nn=function(e,t){var n=_t();n&&(n.freeDrawingBrush.color="add"===e?"rgba(0, 255, 0, 0.7)":"rgba(255, 0, 0, 0.7)",n.freeDrawingCursor=Zt(e,t),n.upperCanvasEl.style.cursor=n.freeDrawingCursor)},rn=function(){var e=_t();e.remove.apply(e,N(e.getObjects("path"))),gt.resetUndoStack();var t=Object(pt.a)();Object.keys(t.segments).forEach(function(e){t.segments[e].guessedAsBackground=!1}),o(t),l(t),Pt()},on=9,an=3,cn={hideBgRemovalPanel:G,dispatchBgRemovalInfo:F,setAddBrush:Jt,setRemoveBrush:$t,setBrushSize:Qt,putStateStrokesInCanvas:en,applyToObject:tn,updateBrush:nn,reset:rn,MAX_BACKGROUND_REMOVE_TUTORIAL_COUNT:on,BACKGROUND_REMOVE_TUTORIAL_INTERVAL:an,showBackgroundRemoveTutorial:z},un=n(133),ln=n(192),sn=n(99),fn=n(297),dn=n(790),pn=n(389),hn=lt.fabric.util.createClass(lt.fabric.Canvas,{type:"BgRemovalCanvas",selection:!1,selectionKey:"nullKey",uniScaleKey:"nullKey",stateful:!1,defaultCursor:"inherit",fireRightClick:!0,stopContextMenu:!0,controlsAboveOverlay:!0,_activeObject:null,perPixelTargetFind:!1,initialize:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",e,t),this.selection=!1,this.backgroundImage=new pn.a({opacity:0,withoutEvents:!0,width:1200,height:1200,strokeWidth:0,checkerboardFixed:!0,checkerboardSize:10,canvas:this})},getArtboard:function(){return this.backgroundImage}}),bn=hn,mn=n(106),gn=function(e){function t(){var e;V(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),te($(e),"fabricCanvas",new bn(null)),te($(e),"fabricImage",null),e}Y(t,e);var n=Z(t);return X(t,[{key:"componentDidMount",value:function(){mn.a&&(window.bgFabricCanvas=this.fabricCanvas);var e=W(W({},this.props.imageData),{},{crossOrigin:""}),t=this.props.zoomHelpers,n=e.element;delete e.element;var r=new lt.fabric.UserImage(n,e);this.fabricImage=r,v(this.fabricCanvas,t,r,this.props.previewRef),g(this.props,r,this.fabricCanvas,t),$t(),y(n)}},{key:"componentDidUpdate",value:function(e){var t=e.windowHeight,n=void 0===t?0:t,r=e.containerWidth,o=void 0===r?0:r,a=this.props,i=a.windowHeight,c=a.containerWidth,u=a.zoomHelpers;i===n&&c===o||g(this.props,this.fabricImage,this.fabricCanvas,u)}},{key:"componentWillUnmount",value:function(){this.fabricCanvas.dispose()}},{key:"render",value:function(){var e=this.props.zoomHelpers;return Je.a.createElement(dn.a,{containerClass:Qe()("bgremoval-container"),fabricCanvas:this.fabricCanvas,zoomHelpers:e})}}]),t}(Ze.PureComponent);te(gn,"displayName","BgRemovalCanvas");var vn=function(e){return{windowHeight:Object(ln.f)(e),containerWidth:Object(ln.d)(e)+Object(sn.p)(e)+fn.d,imageData:Object(bt.d)(e)}},yn=Object(qe.a)(vn)(gn),On=n(791),Sn=n(970),wn=function(e){function t(){var e;re(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),pe(se(e),"state",{currentZoomLevel:e.props.zoomHelpers.getCurrentZoomlevel()}),pe(se(e),"onZoomIn",function(){var t=e.props.zoomHelpers;t.nextZoom(),e.setState({currentZoomLevel:t.getCurrentZoomlevel()})}),pe(se(e),"onZoomOut",function(){var t=e.props.zoomHelpers;t.prevZoom(),e.setState({currentZoomLevel:t.getCurrentZoomlevel()})}),pe(se(e),"onZoomAuto",function(){var t=e.props.zoomHelpers;t.fitToPage(),e.setState({currentZoomLevel:t.getCurrentZoomlevel()})}),e}ie(t,e);var n=ue(t);return ae(t,[{key:"render",value:function(){var e=this.state.currentZoomLevel,t=this.props.zoomHelpers;return Je.a.createElement(On.a,{classes:"bgRemovalFooter cmpInformationPanel"},Je.a.createElement(Sn.a,{theme:"bgRemovalFooter",showAutoZoom:!0,zoomLevel:e,minZoom:t.minZoomLevel,maxZoom:t.maxZoomLevel,onZoomIn:this.onZoomIn,onZoomOut:this.onZoomOut,onZoomAuto:this.onZoomAuto}))}}]),t}(Ze.PureComponent),jn=wn,Tn=n(971),En=n(272),Cn=function(){vt.b.track("bgRemove-undo"),ot.default.dispatch("SET_SPINNER","fullscreen"),Object(En.a)(),setTimeout(function(){gt.undo(),en().then(function(){d(),ot.default.dispatch("SET_SPINNER","")})},16)},kn=function(){vt.b.track("bgRemove-redo"),ot.default.dispatch("SET_SPINNER","fullscreen"),Object(En.a)(),setTimeout(function(){gt.redo(),en().then(function(){d(),ot.default.dispatch("SET_SPINNER","")})},16)},xn=function(e){function t(){return be(this,t),n.apply(this,arguments)}ve(t,e);var n=Oe(t);return ge(t,[{key:"componentDidMount",value:function(){gt.takeSnapshot()}},{key:"render",value:function(){return Je.a.createElement(On.a,{classes:"cmpHeader"},Je.a.createElement(Tn.a,{sharedHistory:gt,theme:"BgRemovalHeader",undo:Cn,redo:kn}))}}]),t}(Ze.PureComponent),Pn=xn,_n=function(e){var t=Object(ut.e)("bgRemoval");return Je.a.createElement(un.a,Ee({},e,{className:Qe()("cmpBgRemovalModal"),hideHeader:!0,hideOnClick:!1,showHeaderCloseBtn:!1}),Je.a.createElement(yn,{previewRef:e.previewRef,zoomHelpers:t}),Je.a.createElement(Pn,null),Je.a.createElement(jn,{zoomHelpers:t}))},In=_n,Nn=n(972),Mn=n.n(Nn),An=n(97),Rn=n(388),Dn=n(973),Ln=function(e){var t=e.previewRef;return Je.a.createElement("div",{className:"bgRemovalPreview"},Je.a.createElement("canvas",{width:278,ref:t}),Je.a.createElement("p",null,"Preview"))},Gn=n(974),Bn=n(23),Fn=Object(Lt.c)(Mn.a),zn=function(e){function t(){var e;ke(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o)),Le(Ae(e),"buttons",[[{type:"remove",text:Fn("remove-brush"),onClick:function(){e.setState({selected:"remove"}),vt.b.track("bgRemove-click-remove"),$t()}},{type:"add",text:Fn("add-brush"),onClick:function(){e.setState({selected:"add"}),vt.b.track("bgRemove-click-add"),Jt()}}]]),Le(Ae(e),"previewRef",Object(Ze.createRef)()),Le(Ae(e),"applyAndClose",function(){var t=e.props.imageData;tn((void 0===t?{}:t).id),vt.b.track("bgRemove-done"),cn.hideBgRemovalPanel()}),Le(Ae(e),"reset",function(){vt.b.track("bgRemove-reset"),rn()}),Le(Ae(e),"needHelp",function(){vt.b.track("bgRemove-help")}),e}_e(t,e);var n=Ne(t);return Pe(t,[{key:"componentDidMount",value:function(){vt.b.track("bgRemove-open"),Object(tt.g)({Modal:In,props:{hideOnClick:!1,className:"no-transform",previewRef:this.previewRef,onEsc:function(){}},fullscreen:!0})}},{key:"handleCloseButtonClick",value:function(){cn.hideBgRemovalPanel()}},{key:"componentDidUpdate",value:function(){var e=this.props,t=e.brushSize,n=e.brushType;nn(n,t)}},{key:"render",value:function(){var e=this.props,t=e.isUpperPlaceholder,n=e.brushSize,r=e.brushType;return Je.a.createElement(et.a,{className:Qe()("cmpDownloadPanel","is-takeover","bgRemovalPanel"),onCloseButtonClick:this.handleCloseButtonClick,isUpperPlaceholder:t},Je.a.createElement("div",{className:"right-panel-title"},Fn("panel-title"),Je.a.createElement(Bn.b,{name:"beta-label"})),Je.a.createElement("hr",{className:"right-panel-seperator"}),Je.a.createElement("div",{className:"margin-container"},Je.a.createElement(Ln,{previewRef:this.previewRef}),Je.a.createElement("span",null,Fn("brush-title")),Je.a.createElement(Dn.a,{buttons:this.buttons,selected:r,className:"bgRemoval"}),Je.a.createElement("span",null,Fn("brush-size-title")),Je.a.createElement(Gn.a,{className:"brushsize",onChangeEnd:Qt,max:100,min:16,value:n,origin:16}),Je.a.createElement(An.b,{primary:!0,onClick:this.applyAndClose},Fn("button-cta")),Je.a.createElement(Rn.a,{onClick:this.reset},Fn("back-to-original")),Je.a.createElement("a",{href:"//www.shutterstock.com/support/sstk_core_customerkb_redirect?l=en&a=000017839",onClick:this.needHelp,className:"needHelpLink",target:"_blank"},Fn("need-help"),Je.a.createElement("span",{className:"icon-info sstk-icons"}))))}}]),t}(Ze.PureComponent),Un=function(e){return{imageData:Object(bt.d)(e),brushSize:Object(bt.a)(e),brushType:Object(bt.b)(e)}},Hn=Object(qe.a)(Un)(zn),Wn=n(12),Vn=Object(Wn.fromJS)({image:{},brushStrokes:{},brushSize:24,panelActive:!1});n.d(t,"BgRemovalPanel",function(){return Hn}),n.d(t,"actions",function(){return Be}),Object(Ye.a)({backgroundRemove:Ge});t.default={BgRemovalPanel:Hn,actions:Be}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=n(0),m=n.n(b),g=n(4),v=n.n(g),y=n(7),O=n(165),S=n(257),w=n(102),j=n(2),T=n(1459),E=n.n(T),C=Object(j.c)(E.a),k=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"handleZoomOut",function(){e.props.onZoomOut(),y.b.track("zoomed out")}),h(f(e),"handleZoomIn",function(){e.props.onZoomIn(),y.b.track("zoomed in")}),h(f(e),"handleZoomAuto",function(){e.props.onZoomAuto(),y.b.track("zoomed auto")}),e}c(t,e);var n=l(t);return i(t,[{key:"componentDidMount",value:function(){var e=this;this.props.disableKeyboardShortcut(["mod+=","mod+-","mod+0"]),this.props.bindKeyboardShortcut(["mod+="],function(t){t.preventDefault(),e.handleZoomIn()}),this.props.bindKeyboardShortcut(["mod+-"],function(t){t.preventDefault(),e.handleZoomOut()}),this.props.bindKeyboardShortcut(["mod+0"],function(t){t.preventDefault(),e.handleZoomAuto()})}},{key:"render",value:function(){var e=this.props,t=e.zoomLevel,n=e.showAutoZoom,r=e.minZoom,o=e.maxZoom,a=e.theme,i=Object(O.d)(t),c=v()("cmpZoomControl",a,{hide:isNaN(i)}),u=t<=r,l=v()({zoomOut:!0,disabled:u}),s=t>=o,f=v()({zoomIn:!0,disabled:s}),d=v()({autoZoom:!0,hidden:!n});return m.a.createElement("div",{className:c},m.a.createElement("div",{className:l,onClick:u?null:this.handleZoomOut,title:"".concat(C("action.zoomout")," (").concat(Object(S.a)("zoomout").key,")")}),m.a.createElement("div",{className:"currLevel"},"".concat(i)),m.a.createElement("div",{className:f,onClick:s?null:this.handleZoomIn,title:"".concat(C("action.zoomin")," (").concat(Object(S.a)("zoomin").key,")")}),m.a.createElement("div",{className:d,onClick:this.handleZoomAuto},m.a.createElement("span",{className:"sstk-icons-before icon-fullscreen",title:C("fit-to-screen")})))}}]),t}(b.PureComponent);h(k,"displayName","ZoomControl"),t.a=Object(w.a)(k)},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(102),i=n(4),c=n.n(i),u=n(257),l=n(9),s=n(2),f=n(1460),d=n.n(f),p=n(833),h=Object(s.c)(d.a),b=function(e){var t=Object(p.a)(e),n=t.undoAvailability,r=t.redoAvailability,a=e.theme,i=e.undo,s=e.redo,f=c()("redo","btn","btn-link",a,{active:r}),d=c()("undo","btn","btn-link",a,{active:n});return o.a.createElement("div",{className:c()("button-group cmpHistoryHeaderButtons undo-redo")},o.a.createElement("button",{className:d,disabled:!n,"data-tip":"".concat(h("action.undo")," (").concat(Object(u.a)("undo").key,")"),"data-place":"bottom",onClick:i,"data-class":"undo-redo-hover","data-track":l._147,"data-for":"globalToolTip"},o.a.createElement("span",{className:"sstk-icons-before icon-undo"})),o.a.createElement("button",{className:f,disabled:!r,"data-tip":"".concat(h("action.redo")," (").concat(Object(u.a)("redo").key,")"),"data-place":"bottom","data-class":"undo-redo-hover",onClick:s,"data-track":l._146,"data-for":"globalToolTip"},o.a.createElement("span",{className:"sstk-icons-before icon-redo"})))};t.a=Object(a.a)(b)},function(e,t,n){"use strict";e.exports={"panel-title":"Remove background","button-cta":"Apply","reset-button-cta":"Reset","back-to-original":"Back to original","need-help":"need help","add-brush":"+ Add","remove-brush":"- Remove","brush-title":"Brush","brush-size-title":"Brush size"}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var o=n(0),a=n.n(o),i=n(4),c=n.n(i),u=function(e){var t=e.onClick,n=e.type,r=e.text,o=e.track,i=e.selected;return a.a.createElement("div",{className:c()("btn btn-default","toggle-".concat(n),{active:i===n}),onClick:t,"data-track":o},a.a.createElement("span",{className:"tab-label"},r))},l=function(e){var t=e.buttons,n=e.selected,o=e.className;return a.a.createElement("div",{className:c()(o,"InputSelectorGroup btn-group btn-group-justified"),role:"group"},t.map(function(e,t){return a.a.createElement("div",{className:"btn-row",key:"row-".concat(t)},e.map(function(e){return a.a.createElement(u,r({key:"".concat(e.type)},e,{selected:n}))}))}))};t.a=l},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n){return Math.min(Math.max(e,t),n)}n.d(t,"a",function(){return w});var m=n(4),g=n.n(m),v=n(0),y=n.n(v),O=n(5),S=n.n(O),w=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"state",{currentValue:e.props.value,skipAnimation:!1}),h(f(e),"handleUpdate",function(t){for(var n=0,r=Math.abs(t.step);r<1;)n++,r*=10;e.setState({decimals:n})}),h(f(e),"handleStart",function(){window.document.addEventListener("mousemove",e.handleDrag),window.document.addEventListener("mouseup",e.handleEnd),window.document.addEventListener("touchmove",e.handleDrag),window.document.addEventListener("touchend",e.handleEnd),e.setState({skipAnimation:!0})}),h(f(e),"handleMouseDown",function(t){var n=e.position(e.getInfo(t)),r=e.props.onChangeBegin;n=parseFloat(n.toFixed(e.state.decimals)),r&&r(n),e.handleDrag(t)}),h(f(e),"handleDrag",function(t){e.handleNoop(t);var n=e.props.handleChange,r=e.position(e.getInfo(t));r=parseFloat(r.toFixed(e.state.decimals)),e.setState({currentValue:r}),n&&n(r)}),h(f(e),"handleEnd",function(t){window.document.removeEventListener("mousemove",e.handleDrag),window.document.removeEventListener("mouseup",e.handleEnd),window.document.removeEventListener("touchmove",e.handleDrag),window.document.removeEventListener("touchend",e.handleEnd);var n=e.props.onChangeEnd,r=e.position(e.getInfo(t));r=parseFloat(r.toFixed(e.state.decimals)),e.setState({skipAnimation:!1}),n&&n(r)}),h(f(e),"getPercentageFromValue",function(t){var n=e.props,r=n.min;return(t-r)/(n.max-r)*100}),h(f(e),"getValueFromPosition",function(t){var n=e.slider.offsetWidth,r=e.props,o=r.min,a=r.max,i=r.step,c=b(t,0,n)/(n||1);return b(i*Math.round(c*(a-o)/i)+o,o,a)}),h(f(e),"position",function(t){var n=e.slider,r=t.clientX,o=n.getBoundingClientRect().left,a=r-o;return e.getValueFromPosition(a)}),e}c(t,e);var n=l(t);return i(t,[{key:"componentDidMount",value:function(){this.handleUpdate(this.props)}},{key:"componentWillReceiveProps",value:function(e){void 0!==e.value&&e.value!==this.state.currentValue&&this.setState({currentValue:e.value}),e.origin===this.props.origin&&e.step===this.props.step||this.handleUpdate(e)}},{key:"handleNoop",value:function(e){e.preventDefault(),e.stopPropagation()}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("mousemove",this.handleDrag),window.document.removeEventListener("mouseup",this.handleEnd),window.document.removeEventListener("touchmove",this.handleDrag),window.document.removeEventListener("touchend",this.handleEnd)}},{key:"formatLabelValue",value:function(e){var t;if("-"===e)return e;switch(this.props.labelFormat){case"percent":if(t=parseInt(100*e,10),!Number.isNaN(Number(t)))return"".concat(t,"%");case"integer-floor":return t=parseInt(e,10),t=Math.floor(t),String(t);default:return e.toFixed(this.state.decimals)}}},{key:"getInfo",value:function(e){return e.changedTouches?e.changedTouches[0]:e}},{key:"render",value:function(){var e,t,n,r=this,o=this.props,a=o.className,i=o.showLabel,c=o.showMiddleTick,u=o.handleColors,l=o.fillColors,s=o.origin,f=this.state,d=f.currentValue,p=f.skipAnimation,h=this.getPercentageFromValue(d),b=this.getPercentageFromValue(s),m=Object.assign({left:"".concat(h,"%")},u);return b>h?(n=b-h,e={left:"".concat(h,"%"),width:"".concat(n,"%")}):(n=h-b,e={left:"".concat(b,"%"),width:"".concat(n,"%")}),Object.assign(e,l),c&&(t={left:"".concat(b,"%")}),y.a.createElement("div",{className:"editorslider__container"},y.a.createElement("div",{ref:function(e){r.slider=e},className:g()("editorslider",a),onMouseDown:this.handleMouseDown,onMouseUp:this.handleEnd,onTouchStart:this.handleMouseDown,onTouchEnd:this.handleEnd,style:this.props.style},y.a.createElement("div",{className:"editorslider_horizontal_bar"},c&&y.a.createElement("div",{className:"editorslider__middletick",style:t}),y.a.createElement("div",{className:"editorslider__fill",style:e}),y.a.createElement("div",{ref:function(e){r.handle=e},className:g()("editorslider__handle",{skipAnimation:p}),onMouseDown:this.handleStart,onTouchStart:this.handleStart,style:m}))),i&&y.a.createElement("div",{className:"editorslider__label"},this.formatLabelValue(d)))}}]),t}(v.PureComponent);h(w,"propTypes",{min:S.a.number,max:S.a.number,step:S.a.number,value:S.a.number,tooltip:S.a.bool,showLabel:S.a.bool,labelFormat:S.a.string,onChangeBegin:S.a.func,handleChange:S.a.func,onChangeEnd:S.a.func,origin:S.a.number,showMiddleTick:S.a.bool,className:S.a.string}),h(w,"defaultProps",{min:0,max:100,step:1,value:0,origin:0,tooltip:!1,showLabel:!0,showMiddleTick:!1,labelFormat:"none"})},,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(47),i=(n.n(a),n(24)),c=(n.n(i),n(81)),u=n(794),l=n(290),s=n(559),f=Object(i.makeStyles)(function(e){var t=e.sizes,n=e.spacing;return{modalContainer:{display:"flex",flexDirection:"column"},modal:{justifyContent:"center",padding:n(t.xl),width:360},modalText:{marginBottom:n(t.m)},buttons:{marginTop:12,display:"flex","& button":{flex:1}},cancelButton:{marginRight:n(t.base)}}}),d=function(e){var t=e.title,n=e.isOpen,r=e.children,i=e.onConfirm,d=e.handleOnClose,p=e.confirmButtonText,h=void 0===p?"filemenu.save":p,b=e.cancelButtontext,m=void 0===b?"action.cancel":b,g=Object(a.useTranslation)(),v=g.t,y=f();return o.a.createElement(u.a,{isOpen:n,className:y.modal,handleOnClose:d},o.a.createElement("section",{className:y.modalContainer},o.a.createElement(c.a,{className:y.modalText,weight:"bold",size:"xxl"},v(t)),r,o.a.createElement("section",{className:y.buttons},o.a.createElement(s.a,{onClick:d,className:y.cancelButton},v(m)),o.a.createElement(l.a,{onClick:i},v(h)))))};t.a=d},function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return s});var r=n(88),o=n(56),a=n(121),i=n(7),c=function(){var e=Date.now();return r.a.setItem("user_seen_at",e),Object(o.e)(a.t,e)},u=function(e){return r.a.setItem("darkmode",e),i.a.click("headerMenu.darkmode",{value:e}),Object(o.e)(a.g,e)},l=function(){var e=Date.now();return r.a.setItem("background_removal_seen",e),Object(o.e)(a.d,e)},s=function(){var e=Date.now();return r.a.setItem("new_templates_seen",e),Object(o.e)(a.m,e)}},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(24),i=(n.n(a),n(81)),c=Object(a.makeStyles)(function(e){return{link:{"&&":{marginTop:16,display:"flex",cursor:"pointer",justifyContent:"center",color:e.palette.text.link}}}}),u=function(e){var t=e.label,n=e.onClick,r=c();return o.a.createElement(i.a,{className:r.link,onClick:n,size:"xs"},t)};t.a=u},function(e,t,n){"use strict";var r=n(1005),o=(n.n(r),n(1006)),a=(n.n(o),n(1007)),i=(n.n(a),n(1008)),c=(n.n(i),n(1009)),u=(n.n(c),n(1010)),l=(n.n(u),n(1011)),s=(n.n(l),n(1012)),f=(n.n(s),n(1013)),d=(n.n(f),n(1014)),p=(n.n(d),n(1015)),h=(n.n(p),n(1016)),b=(n.n(h),n(1017)),m=(n.n(b),n(1018)),g=(n.n(m),n(1019)),v=(n.n(g),n(1020)),y=(n.n(v),n(1021)),O=(n.n(y),n(1022)),S=(n.n(O),n(1023)),w=(n.n(S),n(779)),j=(n.n(w),n(1024)),T=(n.n(j),n(1025)),E=(n.n(T),n(1026)),C=(n.n(E),n(1027)),k=(n.n(C),n(1028)),x=(n.n(k),n(1030)),P=(n.n(x),n(1031)),_=(n.n(P),n(302)),I=(n.n(_),n(1032)),N=(n.n(I),n(1033)),M=(n.n(N),n(1034)),A=(n.n(M),n(1035)),R=(n.n(A),n(1036)),D=(n.n(R),n(1037)),L=(n.n(D),n(1038)),G=(n.n(L),n(1039)),B=(n.n(G),n(1040)),F=(n.n(B),n(1041)),z=(n.n(F),n(1042)),U=(n.n(z),n(1043)),H=(n.n(U),n(1044)),W=(n.n(H),n(1045)),V=(n.n(W),n(1046)),K=(n.n(V),n(1048)),X=(n.n(K),n(1049)),Y=(n.n(X),n(1050)),q=(n.n(Y),n(1052)),Z=(n.n(q),n(1053)),J=(n.n(Z),n(1054)),$=(n.n(J),n(1055)),Q=(n.n($),n(1056)),ee=(n.n(Q),n(1057)),te=(n.n(ee),n(1058)),ne=(n.n(te),n(1059)),re=(n.n(ne),n(1060)),oe=(n.n(re),n(1061)),ae=(n.n(oe),n(1062)),ie=(n.n(ae),n(1063)),ce=(n.n(ie),n(1065)),ue=(n.n(ce),n(1066)),le=(n.n(ue),n(1067)),se=(n.n(le),n(1068)),fe=(n.n(se),n(1069)),de=(n.n(fe),n(1070)),pe=(n.n(de),n(1071)),he=(n.n(pe),n(1072)),be=(n.n(he),n(1073)),me=(n.n(be),n(1074)),ge=(n.n(me),n(1075)),ve=(n.n(ge),n(1076)),ye=(n.n(ve),n(1077)),Oe=(n.n(ye),n(1079)),Se=(n.n(Oe),n(1080)),we=(n.n(Se),n(1081)),je=(n.n(we),n(1082)),Te=(n.n(je),n(1083)),Ee=(n.n(Te),n(1084)),Ce=(n.n(Ee),n(1086)),ke=(n.n(Ce),n(1088)),xe=(n.n(ke),n(1090)),Pe=(n.n(xe),n(1091)),_e=(n.n(Pe),n(1092)),Ie=(n.n(_e),n(780)),Ne=(n.n(Ie),n(1093)),Me=(n.n(Ne),n(1094)),Ae=(n.n(Me),n(1095)),Re=(n.n(Ae),n(1096)),De=(n.n(Re),n(1097)),Le=(n.n(De),n(1098)),Ge=(n.n(Le),n(1099)),Be=(n.n(Ge),n(1100)),Fe=(n.n(Be),n(1101)),ze=(n.n(Fe),n(1102)),Ue=(n.n(ze),n(1103)),He=(n.n(Ue),n(1104)),We=(n.n(He),n(1105)),Ve=(n.n(We),n(1106)),Ke=(n.n(Ve),n(1107)),Xe=(n.n(Ke),n(1108)),Ye=(n.n(Xe),n(1109)),qe=(n.n(Ye),n(781)),Ze=(n.n(qe),n(1111)),Je=(n.n(Ze),n(1115)),$e=(n.n(Je),n(1116)),Qe=(n.n($e),n(1117)),et=(n.n(Qe),n(1119)),tt=(n.n(et),n(1120)),nt=(n.n(tt),n(1121)),rt=(n.n(nt),n(1122)),ot=(n.n(rt),n(1123)),at=(n.n(ot),n(1124)),it=(n.n(at),n(1125)),ct=(n.n(it),n(1126)),ut=(n.n(ct),n(1127)),lt=(n.n(ut),n(1128)),st=(n.n(lt),n(1129)),ft=(n.n(st),n(1130)),dt=(n.n(ft),n(594)),pt=(n.n(dt),n(1131)),ht=(n.n(pt),n(1132)),bt=(n.n(ht),n(1133)),mt=(n.n(bt),n(1134)),gt=(n.n(mt),n(1135)),vt=(n.n(gt),n(1136)),yt=(n.n(vt),n(1137)),Ot=(n.n(yt),n(595)),St=(n.n(Ot),n(1138)),wt=(n.n(St),n(1139)),jt=(n.n(wt),n(1140)),Tt=(n.n(jt),n(1141)),Et=(n.n(Tt),n(1142)),Ct=(n.n(Et),n(1143)),kt=(n.n(Ct),n(1145)),xt=(n.n(kt),n(1146)),Pt=(n.n(xt),n(1147)),_t=(n.n(Pt),n(1148)),It=(n.n(_t),n(1149)),Nt=(n.n(It),n(1150)),Mt=(n.n(Nt),n(1151)),At=(n.n(Mt),n(1152)),Rt=(n.n(At),n(1153)),Dt=(n.n(Rt),n(1154)),Lt=(n.n(Dt),n(1155)),Gt=(n.n(Lt),n(1156)),Bt=(n.n(Gt),n(1157)),Ft=(n.n(Bt),n(1158)),zt=(n.n(Ft),n(1159)),Ut=(n.n(zt),n(1160)),Ht=(n.n(Ut),n(1161)),Wt=(n.n(Ht),n(1162)),Vt=(n.n(Wt),n(1163)),Kt=(n.n(Vt),n(1164)),Xt=(n.n(Kt),n(1166)),Yt=(n.n(Xt),n(1167)),qt=(n.n(Yt),n(1168)),Zt=(n.n(qt),n(1169)),Jt=(n.n(Zt),n(1170)),$t=(n.n(Jt),n(1171)),Qt=(n.n($t),n(1172)),en=(n.n(Qt),n(1173)),tn=(n.n(en),n(1174)),nn=(n.n(tn),n(1175)),rn=(n.n(nn),n(1176)),on=(n.n(rn),n(1177)),an=(n.n(on),n(1178)),cn=(n.n(an),n(1179)),un=(n.n(cn),n(1180)),ln=(n.n(un),n(1181)),sn=(n.n(ln),n(1182)),fn=(n.n(sn),n(1183)),dn=(n.n(fn),n(1184)),pn=(n.n(dn),n(1185)),hn=(n.n(pn),n(1186)),bn=(n.n(hn),n(1187)),mn=(n.n(bn),n(1188)),gn=(n.n(mn),n(1189)),vn=(n.n(gn),n(1190)),yn=(n.n(vn),n(1191)),On=(n.n(yn),n(1192)),Sn=(n.n(On),n(1193)),wn=(n.n(Sn),n(1194)),jn=(n.n(wn),n(1195)),Tn=(n.n(jn),n(1196)),En=(n.n(Tn),n(1197)),Cn=(n.n(En),n(1198)),kn=(n.n(Cn),n(1199)),xn=(n.n(kn),n(1200)),Pn=(n.n(xn),n(1201)),_n=(n.n(Pn),n(1202)),In=(n.n(_n),n(1203)),Nn=(n.n(In),n(1204)),Mn=(n.n(Nn),n(1205)),An=(n.n(Mn),n(1208)),Rn=(n.n(An),n(603)),Dn=(n.n(Rn),n(1209)),Ln=(n.n(Dn),n(1210)),Gn=(n.n(Ln),n(1211));n.n(Gn);Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),function(e){try{new t("test");return!1}catch(e){}var t=function(t,n){n=n||{bubbles:!1,cancelable:!1};var r=document.createEvent("MouseEvent");return r.initMouseEvent(t,n.bubbles,n.cancelable,e,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget),r.deltaX=n.deltaX,r.deltaY=n.deltaY,r};t.prototype=Event.prototype,e.MouseEvent=t}(window)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!t)return!1;if(e=e.trim(),t instanceof RegExp)return t.exec(e);if(Array.isArray(t)){var n=t;return t=void 0,n.some(function(t){return t instanceof RegExp?t.exec(e):e===t})}return e===t}e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=new RegExp(e+e,"g");return function(o){if(0===o.indexOf(e))return o;var a=/(\[class\^=["']{0,1})([\w-]*)(['"]{0,1})/g;return o=o.replace(a,function(n,o,a,i){return r(a,t)?n:o+e+a+i}),a=/\.([\w-]*)/g,o=o.replace(a,function(n,o){return r(o,t)?n:".".concat(e).concat(o)}),o=o.replace(n,e)}}},,,,,function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.selected;return 0===(void 0===n?[]:n).length?e.delete("quickActions"):e}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;switch(n){case c.c:return e.merge(Object(a.fromJS)(o));case c.a:return e.delete("event");case c.d:return e.set("quickActions",o);case u.r:case c.b:return r(e,o);default:return e}}var a=n(12),i=(n.n(a),n(41)),c=n(367),u=n(19),l=Object(a.fromJS)({});Object(i.a)({ContextMenu:o})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(null==e)return{};var n,r,o=c(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function u(e){return e}function l(e,t){return f(e.merge(Object(I.fromJS)({pending:!0,error:!1,saveRequest:t.saveRequest})),t)}function s(e,t){return f(e,t)}function f(e,t){var n=t.tempId,r=t.thumbnail,o=t.state;return o&&(o=o.setIn(["pages",0,"thumbnail"],r)),e.update("designs",function(e){return e.unshift(Object(I.fromJS)({tempId:n,thumbnail:r,state:o}))})}function d(e){return e.merge(Object(I.fromJS)({pending:!1,error:!0,saveRequest:null}))}function p(e){return e.merge(Object(I.fromJS)({error:!1}))}function h(e,t){var n=t.savedTimeStamp,r=t.tempId,o=i(t,["savedTimeStamp","tempId"]);return m(e.merge(Object(I.fromJS)({lastSaved:n,pending:!1,saveRequest:null,totalCount:e.get("totalCount")+1})),r,o,!0)}function b(e,t){return m(e,t.tempId,i(t,["tempId"]))}function m(e,t,n,r){var o,a=e.update("designs",function(e){return e.map(function(e){return e.get("tempId")!==t?e:(w(n),o=e.delete("tempId").merge(Object(I.fromJS)(n)))})});return r?a.set("activeDesignId",o.get("id")):a}function g(e){return e.merge(Object(I.fromJS)({loading:!0,error:!1}))}function v(e,t){var n=t.loadedTimeStamp,r=t.design;return e.update("designs",function(e){var t=e.findIndex(function(e){return e.get("id")===r.id});if(t=~t?t:e.size,!e.getIn([t,"state"])){var n=["id","height","width","thumbnail","title","state","share_code","isShared"];return e.set(t,Object(I.fromJS)(R()(r,n)))}return e}).merge(Object(I.fromJS)({activeDesignId:I.Map.isMap(r)?r.get("id"):r.id,lastSaved:n,loading:!1}))}function y(e,t){var n=t.designs,r=t.totalCount,o=e.get("designs"),a={},i=n.map(function(e){var t=o.find(function(t){var n=t.get("id");return t.get("id")===e.id&&(a[n]=!0),t.get("id")===e.id});return t?t.delete("isShared").merge(Object(I.fromJS)(e)):Object(I.fromJS)(e)}),c=o.filter(function(e){return!a[e.get("id")]});return e.merge(Object(I.fromJS)({initializing:!1,paging:!1,designs:c.concat(i),totalCount:parseInt(r)}))}function O(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.designId,r=t.title,o=t.state,a=t.saveRequest;return e.merge(Object(I.fromJS)({pending:n,saveRequest:a})).update("designs",function(e){return e.map(function(e){return e.get("id")!==n?e:e.merge(Object(I.fromJS)({title:r,state:o}))})})}function S(e,t){var n=t.savedTimeStamp,r=i(t,["savedTimeStamp"]);return e.merge(Object(I.fromJS)(o(o({},n&&{lastSaved:n}||{}),{},{pending:!1,error:!1,saveRequest:null}))).update("designs",function(e){return e.map(function(e){return e.get("id")!==r.id?e:(w(r),r.thumbnail+="?".concat(+new Date),e.merge(Object(I.fromJS)(r)))})})}function w(e){!e.included||e.width||e.height||(e.included.some(function(t){var n=t.attributes;return"thumbnail_250_px"===n.asset_type&&(e.height=n.height,e.width=n.width,!0)}),delete e.included)}function j(e,t){return e.get("activeDesignId")===t&&(e=e.merge(Object(I.fromJS)({lastSaved:null,activeDesignId:-1}))),e.update("designs",function(e){return e.filter(function(e){return e.get("id")!==t})}).update("totalCount",function(e){return e-1})}function T(e,t){return e.set("isAutoSaving",t)}function E(e,t){return e.set("autoSaveTimer",t)}function C(e){return e.get("autoSaveTimer")&&e.get("autoSaveTimer").clearTimeout(),e.set("autoSaveTimer",null)}function k(e,t){return e.set("autoSaveInitialized",t)}function x(e){return e.merge(Object(I.fromJS)({pending:!1,error:!1}))}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case G.c:return u(e);case G.b:return e.set("activeOverlayId",r);case G.a:return e.set("activeDesignId",r);case L.l:return l(e,r);case L.o:return d(e);case L.n:return h(e,r);case L.c:return s(e,r);case L.d:return b(e,r);case L.i:return g(e);case L.k:return e.set("loading",!1);case L.j:return v(e,r);case L.f:return e.set("initializing",!0).set("paging",!0);case L.h:return e.set("initializing",!1).set("paging",!1);case L.g:return y(e,r);case L.s:return O(e,r);case L.v:return d(e);case L.u:return S(e,r);case L.e:return j(e,r);case L.r:return T(e,r);case L.q:return E(e,r);case L.a:return C(e);case L.p:return k(e,r);case L.t:case L.m:return x(e);case L.b:return p(e);default:return e}}var _=n(41),I=n(12),N=n(21),M=n.n(N),A=n(69),R=n.n(A),D=n(39),L=n(210),G=n(452);D.a.includeKeyPathInSnapshots(["DesignsPanel","activeDesignId"]);var B=M()(window,["editor","DesignsPanel"],{}),F=Object(I.fromJS)({lastSaved:-1!==B.activeDesignId?0:null,initializing:!1,loading:!1,paging:!1,error:!1,currentSaveError:!1,designs:B.designs||[],activeDesignId:B.activeDesignId||-1,activeOverlayId:null,isAutoSaving:!1,autoSaveTimer:null,autoSaveInitialized:!1,perPage:20,totalCount:Number(B.totalCount||0),saveRequest:null});Object(_.a)({DesignsPanel:P})},,,function(e,t){e.exports=null},function(e,t){e.exports={implForWrapper:null}},function(e,t){e.exports={Canvas:null}},,,,,,,,,,,,,,,,function(e,t){e.exports={modals:{DownloadModal:{active:!1}},user:{subscriptions:[]},zoom:{range:[.01,.02,.03,.04,.05,.0625,.125,.1875,.25,.5,.75,1,1.25,1.5,1.75,2,3,4,5],autoMargin:100,activeZoomLevel:1,current:{mode:"auto",level:1}},dom:{},preview:{}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.imageId,r=t.previews,o=t.widget,a=t.fabricObjectIds,i=e.get("cachedPreviews").concat({imageId:String(n),type:o,previews:r});return i.size>f.a.cacheSize?e.set("cachedPreviews",i.filter(function(e){return a.includes(e.imageId)})):e.set("cachedPreviews",i)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case d.a:return i(e,r);default:return e}}var u=n(41),l=n(12),s=n(1376),f=n.n(s),d=n(664),p=Object(l.fromJS)(o(o({},f.a),{},{cachedPreviews:[]}));Object(u.a)({FilterPanel:c})},function(e,t){e.exports={selectedFilter:"nofilter",cacheSize:999,filterPreview:[{id:"nofilter",labelKey:"filter.normal",label:"Normal"},{id:"tungsten",labelKey:"filter.tungsten",label:"Tungsten"},{id:"zinc",labelKey:"filter.zinc",label:"Zinc"},{id:"argon",labelKey:"filter.argon",label:"Argon"},{id:"carbon",labelKey:"filter.carbon",label:"Carbon"},{id:"magnesium",labelKey:"filter.magnesium",label:"Magnesium"},{id:"palladium",labelKey:"filter.palladium",label:"Palladium"},{id:"nickel",labelKey:"filter.nickel",label:"Nickel"},{id:"titanium",labelKey:"filter.titanium",label:"Titanium"},{id:"copper",labelKey:"filter.copper",label:"Copper"},{id:"xenon",labelKey:"filter.xenon",label:"Xenon"},{id:"sepia",labelKey:"filter.sepia",label:"Sepia"},{id:"blackandwhite",labelKey:"filter.blackandwhite",label:"BlackAndWhite"},{id:"technicolor",labelKey:"filter.technicolor",label:"Technicolor"}],sections:[{id:"filters",active:!0,previewDims:{width:125,height:125}},{id:"advanced"}]}},function(e,t,n){"use strict";function r(e){var t=!1;for(var n in s){d.style.fontFamily=e+","+s[n],f.appendChild(d);var r=d.offsetWidth!=p[s[n]]||d.offsetHeight!=h[s[n]];f.removeChild(d),t=t||r}return t}function o(e,t){var n=e;return t.forEach(function(t){n.every(function(e){return e.get("id")!==t.id})&&(e=e.push(Object(l.fromJS)(t)))}),e.sortBy(function(e){return e.get("name")})}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case g.a:return o(e,r.families);default:return e}}function i(e,t){return Object(l.fromJS)(t)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case g.a:return i(e,r.langMap);default:return e}}var u=n(41),l=n(12),s=["monospace","sans-serif","serif"],f=document.getElementsByTagName("body")[0],d=document.createElement("span");d.style.fontSize="72px",d.innerHTML="mmmmmmmmmmlli";var p={},h={};for(var b in s)d.style.fontFamily=s[b],f.appendChild(d),p[s[b]]=d.offsetWidth,h[s[b]]=d.offsetHeight,f.removeChild(d);var m=n(29),g=n(455),v=function(){return m.client.nativeFontWhitelist.filter(r).map(function(e){return{name:e,id:e,native:!0,fonts:[{id:"".concat(e,"-Regular"),name:e,preview:'<svg xmlns="http://www.w3.org/2000/svg"\n              width="200"\n              height="22.6"\n            >\n              <text\n                x="0"\n                y="16.5"\n                font-family="'.concat(e,'"\n                font-size="17"\n              >\n                ').concat(e,"\n              </text>\n            </svg>")}],variants:["regular","italic","bold","boldItalic"]}})}(),y=Object(l.fromJS)(v),O=n(21),S=n.n(O),w=n(497),j=n.n(w),T=Object(l.fromJS)(Object.keys(j()(S()(m.client,"i18n.whitelist",[]),"l33t","cimode")).reduce(function(e,t){return e[t]=[],e},{}));Object(u.a)({fontFamilies:a,fontLangMap:c})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){return e.merge(Object(s.fromJS)({params:o(o({},t.params),{},{embedded:!0})}))}function c(e,t){return e.merge(Object(s.fromJS)({origin:t.origin,uuid:t.uuid,messageData:t.messageData||{}}))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case f.a:return i(e,r);case f.b:return c(e,r);case d.a:return e.set("sdkAssetLoadingPromise",r);default:return e}}var l=n(41),s=n(12),f=n(665),d=n(553),p=Object(s.fromJS)({});Object(l.a)({integration:u})},,function(e,t,n){function r(e){var t=o[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./CaretLeft.svg":[1760,270],"./CaretRight.svg":[1761,269],"./add-empty-lightbox.svg":[1999,268],"./add-icon.svg":[1762,267],"./add-image-lightbox.svg":[2e3,266],"./add-page.svg":[2001,265],"./align-bottom.svg":[1701,264],"./align-horizontally.svg":[1702,263],"./align-left.svg":[1703,262],"./align-right.svg":[1704,261],"./align-top.svg":[1705,260],"./align-vertically.svg":[1706,259],"./appNextCheckmark.svg":[918,336],"./apple.svg":[1763,258],"./arrow-drop-down.svg":[1707,257],"./assets.svg":[1764,256],"./attention.svg":[955,335],"./background.svg":[1708,255],"./backgroundRemove.svg":[1765,254],"./basic/shutterstock_562672939.svg":[1766,253],"./basic/shutterstock_565172563.svg":[1767,252],"./basic/shutterstock_565267816.svg":[1768,251],"./basic/shutterstock_567319429.svg":[1769,250],"./basic/shutterstock_567786097.svg":[1770,249],"./basic/shutterstock_568639069.svg":[1771,248],"./basic/shutterstock_568739932.svg":[1772,247],"./basic/shutterstock_569550886.svg":[1773,246],"./basic/shutterstock_569721268.svg":[1774,245],"./basic/shutterstock_570716974.svg":[1775,244],"./basic/shutterstock_570847819.svg":[1776,243],"./basic/shutterstock_570847891.svg":[1777,242],"./basic/shutterstock_571042222.svg":[1778,241],"./basic/shutterstock_571053544.svg":[1779,240],"./basic/shutterstock_571060444.svg":[1780,239],"./basic/shutterstock_571078108.svg":[1781,238],"./basic/shutterstock_572506945.svg":[1782,237],"./basic/shutterstock_572523664.svg":[1783,236],"./basic/shutterstock_572811895.svg":[1784,235],"./basic/shutterstock_573066118.svg":[1785,234],"./basic/shutterstock_573109183.svg":[1786,233],"./basic/shutterstock_573434581.svg":[1787,232],"./basic/shutterstock_573490801.svg":[1788,231],"./basic/shutterstock_573764836.svg":[1789,230],"./basic/shutterstock_573764881.svg":[1790,229],"./basic/shutterstock_574658629.svg":[1791,228],"./basic/shutterstock_574711309.svg":[1792,227],"./basic/shutterstock_574711321.svg":[1793,226],"./basic/shutterstock_574811824.svg":[1794,225],"./basic/shutterstock_575292340.svg":[1795,224],"./beta-label.svg":[2002,223],"./blur-icon.svg":[1709,222],"./border-next.svg":[1796,221],"./brightness-icon.svg":[1710,220],"./caret-left.svg":[1797,219],"./caret-right.svg":[1798,218],"./checkmark.svg":[1799,217],"./chevron-arrow.svg":[1800,216],"./clipboard.svg":[2003,215],"./close.svg":[1694,214],"./collaborate.svg":[2004,213],"./colorcrazy.svg":[1801,212],"./colorcube.svg":[1802,211],"./colorify-icon.svg":[1711,210],"./colorwheel.svg":[1712,209],"./contrast-icon.svg":[1713,208],"./copy.svg":[2005,207],"./crop-next.svg":[1803,206],"./crop.svg":[1804,205],"./custom-color.svg":[2006,204],"./custom.svg":[1805,203],"./cut.svg":[2007,202],"./delete-fill.svg":[1806,201],"./delete-icon.svg":[2008,200],"./delete.svg":[1691,199],"./designs.svg":[2009,198],"./dist-horizontal.svg":[1807,197],"./dist-vertical.svg":[1808,196],"./down-arrow.svg":[1809,195],"./download.svg":[2010,194],"./drive-logo.svg":[2011,193],"./drive.svg":[1810,192],"./drop-shadow-box.svg":[1811,191],"./drop-shadow-shapes.svg":[2012,190],"./drop-shadow.svg":[2013,189],"./dropbox-logo.svg":[2014,188],"./dropbox-next.svg":[797,334],"./dropbox.svg":[1812,187],"./dropdown-caret.svg":[2015,186],"./duplicate.svg":[1714,185],"./earth.svg":[2016,184],"./edit-rename-fill.svg":[1813,183],"./edit-rename.svg":[1814,182],"./editor-logo.svg":[2017,181],"./effects-next.svg":[1815,180],"./elements.svg":[909,333],"./ellipsis.svg":[2018,179],"./email-next.svg":[798,332],"./emoji.svg":[1816,178],"./error.svg":[2019,177],"./exposure-icon.svg":[1715,176],"./eyedropper.svg":[1716,175],"./facebook.svg":[1817,174],"./feedback.svg":[956,331],"./field-error.svg":[2020,173],"./fill-next.svg":[1737,172],"./filter-next.svg":[1818,171],"./filter.svg":[2021,170],"./fit-canvas.svg":[1819,169],"./flip-h.svg":[1820,168],"./flip-horizontal.svg":[1821,167],"./flip-v.svg":[1822,166],"./flip-vertical.svg":[1823,165],"./folder.svg":[957,330],"./font-style-bold.svg":[1717,164],"./font-style-italic.svg":[1718,163],"./font-style-strikethrough.svg":[1824,162],"./font-style-underline.svg":[1719,161],"./gdrive-next.svg":[799,329],"./grinning_face.svg":[1825,160],"./group.svg":[1826,159],"./help-icon.svg":[1827,158],"./help.svg":[2022,157],"./highlighter-next.svg":[1828,156],"./hue-icon.svg":[1720,155],"./icon-delete-modal.svg":[2023,154],"./icon-generic-text.svg":[2024,153],"./icon-modal-add.svg":[2025,152],"./icon-modal-check.svg":[2026,151],"./icon-modal-copy.svg":[2027,150],"./icon-modal-delete.svg":[2028,149],"./icon-modal-info.svg":[2029,148],"./icon-modal-rename.svg":[2030,147],"./icon-modal.svg":[2031,146],"./icon-redo.svg":[2032,145],"./icon-similar-search.svg":[2033,144],"./icon.svg":[1829,143],"./image-placeholder.svg":[910,328],"./info-icon-inactive.svg":[2034,142],"./info-icon.svg":[1830,141],"./info.svg":[2035,140],"./info_round.svg":[958,327],"./instagram.svg":[1831,139],"./justify-center.svg":[1721,138],"./justify-justify.svg":[1722,137],"./justify-left.svg":[1723,136],"./justify-right.svg":[1724,135],"./language.svg":[959,326],"./left-arrow.svg":[1832,134],"./lightbox-icon.svg":[2036,133],"./link-next.svg":[800,325],"./linkedin.svg":[1833,132],"./loader.svg":[1834,131],"./lock.svg":[1692,130],"./login-modal-header.svg":[1835,129],"./minus.svg":[2037,128],"./move-backward.svg":[1725,127],"./move-forward.svg":[1726,126],"./move-to-back.svg":[1727,125],"./move-to-front.svg":[1728,124],"./national_park.svg":[1836,123],"./not-visible.svg":[2038,122],"./opacity.svg":[2039,121],"./overflow-next.svg":[960,324],"./pages-solid.svg":[1837,120],"./pages.svg":[783,323],"./paste.svg":[2040,119],"./person_biking.svg":[1838,118],"./perspective.svg":[1839,117],"./pinterest-next.svg":[2041,116],"./pinterest.svg":[1840,115],"./plus.svg":[961,322],"./preset-sizes.svg":[1841,114],"./preview-filter.svg":[1842,113],"./preview.svg":[2042,112],"./print-ebook.svg":[1843,111],"./pro/shutterstock_565255285.svg":[1844,110],"./pro/shutterstock_565325509.svg":[1845,109],"./pro/shutterstock_567421576.svg":[1846,108],"./pro/shutterstock_568769362.svg":[1847,107],"./pro/shutterstock_568803070.svg":[1848,106],"./pro/shutterstock_569288422.svg":[1849,105],"./pro/shutterstock_569412784.svg":[1850,104],"./pro/shutterstock_569561413.svg":[1851,103],"./pro/shutterstock_569588353.svg":[1852,102],"./pro/shutterstock_570117139.svg":[1853,101],"./pro/shutterstock_570884686.svg":[1854,100],"./pro/shutterstock_570895201.svg":[1855,99],"./pro/shutterstock_570958876.svg":[1856,98],"./pro/shutterstock_571030798.svg":[1857,97],"./pro/shutterstock_571060627.svg":[1858,96],"./pro/shutterstock_572756326.svg":[1859,95],"./pro/shutterstock_572870281.svg":[1860,94],"./pro/shutterstock_572998174.svg":[1861,93],"./pro/shutterstock_573073159.svg":[1862,92],"./pro/shutterstock_573073177.svg":[1863,91],"./pro/shutterstock_573073189.svg":[1864,90],"./pro/shutterstock_573073192.svg":[1865,89],"./pro/shutterstock_573073561.svg":[1866,88],"./pro/shutterstock_573288646.svg":[1867,87],"./pro/shutterstock_573422149.svg":[1868,86],"./pro/shutterstock_573793708.svg":[1869,85],"./pro/shutterstock_573858328.svg":[1870,84],"./pro/shutterstock_574644073.svg":[1871,83],"./pro/shutterstock_574711336.svg":[1872,82],"./pro/shutterstock_575037904.svg":[1873,81],"./purple_heart.svg":[1874,80],"./reset-filter.svg":[1875,79],"./resize-next.svg":[1738,78],"./resize.svg":[2043,77],"./retry.svg":[2044,76],"./revert-perspective.svg":[1876,75],"./right-arrow.svg":[1877,74],"./rotate-black-outline.svg":[1878,73],"./rotate-black.svg":[1879,72],"./rotate-blue-outline.svg":[1880,71],"./rotate-blue.svg":[1881,70],"./saturation-icon.svg":[1729,69],"./saved-preset.svg":[1882,68],"./saved.svg":[962,321],"./search-cancel.svg":[1883,67],"./search-filter.svg":[1739,66],"./search-zero-state.svg":[2045,65],"./search.svg":[1730,64],"./shape.svg":[1884,63],"./shapes-crop.svg":[2046,62],"./shapes/shape_arrow_1.svg":[865,33],"./shapes/shape_arrow_2.svg":[866,32],"./shapes/shape_arrow_3.svg":[867,31],"./shapes/shape_badge_1.svg":[868,30],"./shapes/shape_badge_2.svg":[869,29],"./shapes/shape_badge_3.svg":[870,28],"./shapes/shape_badge_4.svg":[871,27],"./shapes/shape_callout_1.svg":[872,26],"./shapes/shape_callout_2.svg":[873,25],"./shapes/shape_callout_3.svg":[874,24],"./shapes/shape_chat_bubble_1.svg":[875,23],"./shapes/shape_chat_bubble_2.svg":[876,22],"./shapes/shape_circle.svg":[877,21],"./shapes/shape_heart_1.svg":[878,20],"./shapes/shape_heart_2.svg":[879,19],"./shapes/shape_line.svg":[880,18],"./shapes/shape_oval.svg":[881,17],"./shapes/shape_polygon_1.svg":[882,16],"./shapes/shape_polygon_2.svg":[883,15],"./shapes/shape_polygon_3.svg":[884,14],"./shapes/shape_polygon_4.svg":[885,13],"./shapes/shape_polygon_5.svg":[886,12],"./shapes/shape_rectangle_1.svg":[887,11],"./shapes/shape_rectangle_2.svg":[888,10],"./shapes/shape_square_1.svg":[889,9],"./shapes/shape_square_2.svg":[890,8],"./shapes/shape_star_1.svg":[862,7],"./shapes/shape_star_2.svg":[891,6],"./shapes/shape_star_3.svg":[892,5],"./shapes/shape_triangle_1.svg":[893,4],"./shapes/shape_triangle_2.svg":[894,3],"./shapes/shape_triangle_3.svg":[895,2],"./social_dropbox.svg":[2047,61],"./social_facebook.svg":[2048,60],"./social_google-drive.svg":[2049,59],"./social_pinterest.svg":[2050,58],"./social_publish.svg":[2051,57],"./social_publish_small.svg":[1885,56],"./social_twitter.svg":[2052,55],"./success.svg":[2053,54],"./suggest.svg":[1886,53],"./temperature-icon.svg":[1731,52],"./templates.svg":[911,320],"./text-indent-left.svg":[1887,51],"./text-indent-right.svg":[1888,50],"./text-list-bullet.svg":[1732,49],"./text-list-number.svg":[1733,48],"./text-spacing.svg":[2054,47],"./text.svg":[900,319],"./transparency-next.svg":[1696,46],"./turtle.svg":[1889,45],"./twitter-next.svg":[2055,44],"./twitter.svg":[1890,43],"./undo-redo.svg":[1891,42],"./undo.svg":[2056,41],"./ungroup.svg":[1892,40],"./unlock.svg":[1693,39],"./upload-next.svg":[963,318],"./uploads-icon.svg":[912,317],"./vignette-icon.svg":[1734,38],"./yo_yo.svg":[1893,37],"./youtube.svg":[1894,36],"./zoom-in.svg":[964,316],"./zoom-out.svg":[965,315]};r.keys=function(){return Object.keys(o)},r.id=1380,e.exports=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={defaults:{active:!1,angle:0,flipX:!1,flipY:!1,skewX:0,skewY:0,scaleX:1,scaleY:1,heightPercent:.33,signatureBarHeight:100,stroke:{fill:"rgba(0, 0, 0, 1)",nofill:!0,width:1,dashArray:null},shadow:{enabled:!1,color:"rgba(0, 0, 0, 0.2)",offsetX:3,offsetY:3,blur:10}}}},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){var t=o[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./shape_arrow_1.svg":[865,33],"./shape_arrow_2.svg":[866,32],"./shape_arrow_3.svg":[867,31],"./shape_badge_1.svg":[868,30],"./shape_badge_2.svg":[869,29],"./shape_badge_3.svg":[870,28],"./shape_badge_4.svg":[871,27],"./shape_callout_1.svg":[872,26],"./shape_callout_2.svg":[873,25],"./shape_callout_3.svg":[874,24],"./shape_chat_bubble_1.svg":[875,23],"./shape_chat_bubble_2.svg":[876,22],"./shape_circle.svg":[877,21],"./shape_heart_1.svg":[878,20],"./shape_heart_2.svg":[879,19],"./shape_line.svg":[880,18],"./shape_oval.svg":[881,17],"./shape_polygon_1.svg":[882,16],"./shape_polygon_2.svg":[883,15],"./shape_polygon_3.svg":[884,14],"./shape_polygon_4.svg":[885,13],"./shape_polygon_5.svg":[886,12],"./shape_rectangle_1.svg":[887,11],"./shape_rectangle_2.svg":[888,10],"./shape_square_1.svg":[889,9],"./shape_square_2.svg":[890,8],"./shape_star_1.svg":[862,7],"./shape_star_2.svg":[891,6],"./shape_star_3.svg":[892,5],"./shape_triangle_1.svg":[893,4],"./shape_triangle_2.svg":[894,3],"./shape_triangle_3.svg":[895,2]};r.keys=function(){return Object.keys(o)},r.id=1454,e.exports=r},,function(e,t,n){"use strict";e.exports={download:{"plans-and-pricing":"View Plans and Pricing"}}},,function(e,t,n){"use strict";e.exports={shortcuts:{mac:{copy:{key:" + c"},duplicate:{key:" + d"},newpage:{key:" +  + P"},objectmovemore:{key:" +    "},objectzindex:{backwards:{key:" + ["},forwards:{key:" + ]"},toback:{key2:" +  + ["},tofront:{key2:" +  + ]"}},paste:{key:" + v"},resize:{key:" + click + drag"},redo:{key:" +  + z,  + y"},save:{key:" + s"},undo:{key:" + z"},selectall:{key:" + a"}},pc:{copy:{key2:"ctrl + c"},duplicate:{key:"ctrl + d"},newpage:{key:" + Ctrl + P"},objectmovemore:{key:"ctrl +    "},objectzindex:{backwards:{key:"ctrl + ["},forwards:{key:"ctrl + ]"},toback:{key2:"ctrl + alt + ["},tofront:{key2:"ctrl + alt + ]"}},paste:{key2:"ctrl + v"},resize:{key:"alt + click + drag"},redo:{key:"ctrl +  + z, ctrl + y"},save:{key:"ctrl + s"},undo:{key:"ctrl + z"},selectall:{key:"ctrl + a"}},help:{key:"?",text:"display shortcuts"},zoomin:{key:"z + left click",text:"zoom in"},zoomout:{key:"z + right click",text:"zoom out"},zoomwheel:{key:"ctrl + mousewheel",text:"zoom in/out"},zoomarea:{key:"z + drag",text:"zoom selected area"},pan:{key:"space + drag",text:"pan image"},fullscreen:{key:"ctrl +  + f",text:"fullscreen"},objectmove:{key:"   ",text2:"move object 10px"},objectmoveless:{key:" +    ",text2:"move object 1px"},objectmovemore:{text2:"move object 100px"},delete:{key:"",text2:"remove object"},skew:{key:" + click + drag",text2:"skew object"},resize:{text2:"resize (center)"},snap:{key:" + drag",text:"disable snap to object"},undo:{text:"undo"},redo:{text:"redo"},save:{text:"save"},newpage:{text2:"add new page"},objectzindex:{backwards:{text:"send object backward"},toback:{text:"send object to back"},forwards:{text:"send object forward"},tofront:{text:"send object to front"}},duplicate:{text2:"duplicate object"},copy:{text:"copy"},paste:{text:"paste"},ruler:{key:" + R",text:"toggle ruler"},preview:{key:" + P",text:"toggle preview"},selectall:{text2:"select all"}}}},function(e,t,n){"use strict";e.exports={action:{zoomout:"Zoom out",zoomin:"Zoom in"},"fit-to-screen":"fit to screen"}},function(e,t,n){"use strict";e.exports={action:{undo:"Undo",redo:"Redo"}}},,,,,,function(e,t,n){"use strict";e.exports={modal:{login:{"marketing-slide-caption-1":"Search millions of amazing images with the application and find the one thats right for you.","marketing-slide-caption-2":"Add your logo, insert text, apply a filter, and more. Or save time with a ready-made template.","marketing-slide-caption-3":"Make professional-looking social media posts, presentations, and promotions in minutes.","marketing-title":"Try Shutterstock Editor  our easy-to-use design application."}}}},function(e,t,n){"use strict";e.exports={"error-modal":{"sub-title":"Looks like theres a problem. Were working hard to fix it.","ok-btn":"OK",title:"Sorry, something went wrong."}}},,function(e,t,n){"use strict";e.exports={publish:{multidownload:{renew:"Out of credits","renew-button":"View Plans and Pricing","renew-message":"We're sorry. Looks like you are out of credits. Purchase more to share your design."}}}},,function(e,t,n){"use strict";e.exports={help:{livechat:"Live Chat",contactcustomersupport:"Contact Customer Support",visitsupportcenter:"Visit Support Center",editortips:"Shutterstock Editor Tips",about_image:"About this image",start_tutorial:"Getting Started: Video Tutorial"},shortcutmenu:{title:"Keyboard shortcuts"}}},,function(e,t){e.exports={defaults:{width:500,height:500,heightPercent:.2,stroke:{width:8}}}},function(e,t){e.exports=[["shape_rectangle_1","shape_rectangle_2","shape_square_1","shape_square_2"],["shape_circle","shape_oval","shape_triangle_1","shape_triangle_2"],["shape_triangle_3","shape_polygon_1","shape_polygon_2","shape_polygon_3"],["shape_polygon_4","shape_polygon_5","shape_star_1","shape_star_2"],["shape_star_3","shape_heart_1","shape_heart_2","shape_badge_1"],["shape_badge_2","shape_badge_3","shape_badge_4","shape_callout_1"],["shape_callout_2","shape_callout_3","shape_chat_bubble_1","shape_chat_bubble_2"],["shape_line","shape_arrow_1","shape_arrow_2","shape_arrow_3"]]},function(e,t,n){"use strict";e.exports={text:{addheadline:"Add headline",addsubheadline:"Add subheadline",addbodytext:"Add body text",addlittlebodytext:"Add a little bit of body text"}}},function(e,t,n){"use strict";e.exports={presetsizes:{or:"OR"},text:{addbodytext:"Add body text",addlittlebodytext:"Add a little bit of body text",addheadline:"Add headline",addsubheadline:"Add subheadline",texthelp:"Click or drag to add text",texthelpmobile:"Tap to add text"}}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return e.set("builtin",e.get("builtin").filter(function(t){return t.get("id")===e.get("defaultId")}))}function c(e,t){var n=t.presets;return e.set("consumerProvidedPresets",Object(m.fromJS)(n))}function u(e,t){return e=i(e),t=t.map(s),c(e,{presets:t})}function l(e){var t=Object(g.a)(window.location.href),n=t.query.presets;if(!n)return e;try{return u(e,JSON.parse(n))}catch(t){return e}}function s(e){if("number"!=typeof e.width)throw new TypeError("Invalid preset: width should be a number");if("number"!=typeof e.height)throw new TypeError("Invalid preset: height should be a number");if("string"!=typeof e.name)throw new TypeError("Invalid preset: name should be provided as a string");return{label:e.name,id:"consumer-provided-".concat(e.name),width:e.width,height:e.height}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case T.c:return u(e,r);case T.a:return l(e);default:return e}}var d=n(41),p=n(77),h=n.n(p),b=n(39),m=n(12),g=n(101),v=n(15),y=n(2),O=n(158),S=n.n(O),w=n(68),j=n.n(w),T=n(386),E=Object(y.c)(h()(S.a,j.a));b.a.includeKeyPathInSnapshots(["presets","active"]);var C=n(668),k=function(){if(v.b.isEnabled("flyer")){var e="".concat(E("preset.flyer")," (8x10 ").concat(E("image.units.in_abbrev"),")");C.builtin.push({label:e,labelKey:e,id:15,width:2400,height:3e3,trackingKey:"flyer"})}return Object(m.fromJS)(o(o({},C),{},{consumerProvidedPresets:[]}))}();Object(d.a)({presets:f})},function(e,t,n){"use strict";function r(e){return e}function o(e,t){return e.set("requestDeletePresetId",t)}function a(e,t){return e.set("lockedRatio",t)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,i=t.payload;switch(n){case l.c:return r(e);case l.a:return o(e,i);case l.b:return a(e,i);default:return e}}var c=n(41),u=n(12),l=n(706),s=n(1479),f=Object(u.fromJS)(s).update("sections",u.OrderedMap);Object(c.a)({ResizePanel:i})},function(e,t){e.exports={requestDeletePresetId:-1,lastActivePresetName:null,lockedRatio:!1,thumbnail:{width:100,height:70}}},function(e,t,n){"use strict";function r(e,t){var n=t.query;return e.merge(Object(b.fromJS)({query:n,suggestQuery:"",error:null,resultPages:[],suggestResultPages:[],totalCount:0,page:0,perPage:0}))}function o(e,t){var n=t.suggestQuery;return e.merge(Object(b.fromJS)({suggestQuery:n,suggestResultPages:[],resultPages:[],totalCount:0,page:0,perPage:0}))}function a(e,t){var n=t.page;return e.merge(Object(b.fromJS)({pending:!0,page:n<=1?void 0:n}))}function i(e,t){var n=t.res;return e.merge(Object(b.fromJS)({pending:!1,error:n.responseJSON}))}function c(e,t){var n,r=t.resultPage;n=r.page>1?e.get("resultPages").concat(r):[r];var o;return o=e.get("totalCount")?e.get("totalCount"):r.totalCount,e.merge(Object(b.fromJS)({resultType:"search",pending:!1,suggestPending:!1,error:null,resultPages:n,totalCount:o,page:r.page,perPage:r.perPage}))}function u(e,t){var n=t.data;return e.set("activeResult",n)}function l(e,t){var n=t.value;return void 0!==n?e.set("searchQueryInputValue",n):e}function s(e,t){var n=t.value;return e.set("image_type",n)}function f(e,t){var n=t.key,r=t.value;return e.set(n,Object(b.fromJS)(r))}function d(e,t){var n=t.props;return e.set("previousAdvanceSearchValues",n)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,p=t.payload;switch(p&&delete p.context,n){case g.f:return r(e,p);case g.j:return o(e,p);case g.i:return c(e,p);case g.b:return a(e,p);case g.a:return i(e,p);case g.c:return u(e,p);case g.h:return l(e,p);case g.g:return s(e,p);case g.d:return f(e,p);case g.e:return d(e,p);default:return e}}var h=n(41),b=n(12),m=n(359),g=n(471),v=Object(m.parse)(document.location.search).searchQuery||null,y=Object(b.fromJS)({pending:!1,error:null,resultPages:[],suggestResultPages:[],dragging:!1,activeResult:null,query:v,image_type:void 0,license:[]});Object(h.a)({SearchPanel:p})},function(e,t,n){"use strict";var r=n(41),o=n(810);Object(r.a)({UploadsPanel:o.a})},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case i.a:return e.set("isLoggedIn",r);case i.c:return e.set("userData",r);case i.b:return e.set("loginModal",r);default:return e}}var o=n(41),a=n(12),i=n(732),c=window.identity||{},u=!!c.guid,l=Object(a.fromJS)({isLoggedIn:u}).set("userData",c).set("loginModal",{open:!1});Object(o.a)({user:r})},function(e,t,n){"use strict";function r(e,t){var n=t.capability,r=t.value;return e.set(n,r)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,o=t.payload;switch(n){case c.a:return r(e,o);default:return e}}var a=n(41),i=n(12),c=n(702),u=Object(i.fromJS)({});Object(a.a)({userCapabilities:o})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return e.merge(Object(b.fromJS)(t))}function i(e,t){return e.set("presets",Object(b.fromJS)(t))}function c(e,t){return e.set("recentlyUsedColorCandidate",t)}function u(e){var t=e.get("recentlyUsedColorCandidate");if(!t)return e;var n=e.get("recently_used_colors",Object(b.List)()),r=n.indexOf(t);return e=e.delete("recentlyUsedColorCandidate"),r>-1&&(n=n.remove(r)),e.set("recently_used_colors",n.slice(0,16).unshift(t))}function l(e,t){var n=e.get("recently_used_colors",Object(b.List)()),r=n.indexOf(t);return r>-1&&(n=n.remove(r)),e.set("recently_used_colors",n.slice(0,16).unshift(t))}function s(e,t){return e.set("recently_used_colors",t)}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case O.n:return e.set("preview_mode",r);case O.f:return i(e,r);case O.e:return e.set("background_warning",r);case O.r:return e.set("ruler_enabled",r);case O.b:return e.set("asset_tab",r);case O.j:return e.set("expand_section",r);case O.h:return e.set("download_preference",r);case O.u:return e.set("user_seen_before",r);case O.t:return e.set("user_seen_at",r);case O.k:return e.set("ftue_seen",r);case O.g:return e.set("darkmode",r);case O.v:return e.set("welcome_seen_type",r);case O.s:return e.set("template_warning",r);case O.i:return e.set("element_panel",r);case O.c:return a(e,r);case O.q:return c(e,r);case O.o:return u(e);case O.p:return s(e,r);case O.a:return l(e,r);case O.d:return e.set("background_removal_seen",r);case O.m:return e.set("new_templates_seen",r);case O.l:default:return e}}var d=n(41),p=n(21),h=n.n(p),b=n(12),m=n(1),g=n(30),v=n(212),y=n(88),O=n(121),S=h()(window,"identity.guid",null),w=h()(window,"identity.username",""),j=h()(window,"location.pathname","").includes("/template/"),T=function(e,t){var n=t.forcePreviewMode,r=!0;return"false"!==e.is_first_time_user&&"false"!==y.a.getItem("is_first_time_user")||(r=!1),{presets:e.presets||[],preview_mode:n||e.preview_mode||!1,background_warning:e.background_warning||!1,ruler_enabled:e.ruler_enabled||!1,darkmode:e.darkmode||!1,asset_tab:e.asset_tab||"lightboxes",expand_section:e.expand_section||{},download_preference:e.download_preference||{fileType:v.a.get(["fileFormat"]),dpi:v.a.get(["dpi"])},user_seen_before:e.user_seen_before||!1,user_seen_at:e.user_seen_at||null,is_first_time_user:r,ftue_seen:e.ftue_seen||!1,welcome_seen_type:e.welcome_seen_type||!1,template_warning:e.template_warning||!1,element_panel:e.element_panel||"shape",recently_used_colors:e.recently_used_colors||[],background_removal_seen:"true"===e.background_removal_seen}}(h()(window,"editor.userSettings",{}),{forcePreviewMode:m.default.evaluate(g.c)||j}),E=Object(b.fromJS)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({userId:S,username:w},T));Object(d.a)({userSettings:f})},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case i.c:return e.set(r.namespace,r.data);case i.a:return e.update("tempUploads",function(e){return e?e.concat([r]):[r]});case i.b:return e.update("tempUploads",function(e){return e?e.filter(function(e){return e.tempId!==r}):e});default:return e}}var o=n(41),a=n(12),i=n(545),c=Object(a.fromJS)({});Object(o.a)({SdkCustomData:r})},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=null,n=!1;return function(){for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];t=a,n||(n=!0,setTimeout(function(){n=!1,e.apply(void 0,r(t))},0))}}t.a=l},function(e,t,n){"use strict";function r(){var e=Object(o.a)();e.discardActiveObject();var t=e.getObjects(),n=t.map(function(e){return e.id});Object(a.a)(n,t)}t.a=r;var o=n(6),a=n(466)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e){"@babel/helpers - typeof";return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n=e.fill,r=new L.fabric.Point(e.width/2,e.height/2),o=new L.fabric.Point(n.coords.x1,n.coords.y1).subtract(r),a=new L.fabric.Point(n.coords.x2,n.coords.y2).subtract(r);return n.colorStops.map(function(e){return L.fabric.util.transformPoint(o.lerp(a,e.offset),t)})}function d(e,t){var n=t[0],r=t[t.length-1];e.beginPath(),e.strokeStyle="#fff",e.lineWidth=se,e.moveTo(n.x,n.y),e.shadowColor=fe,e.shadowBlur=le,e.lineTo(r.x,r.y),e.stroke()}function p(e,t,n,r,o){e.shadowColor=fe,e.shadowBlur=le,o&&(e.beginPath(),e.fillStyle="#43B9D3",e.arc(t.x,t.y,n+2*se,0,2*Math.PI),e.fill(),e.shadowBlur=0),e.beginPath(),e.fillStyle="#fff",e.arc(t.x,t.y,n+se,0,2*Math.PI),e.fill(),o||(e.shadowBlur=0),e.beginPath(),e.fillStyle=r,e.arc(t.x,t.y,n,0,2*Math.PI),e.fill()}function h(e,t,n){var r=U.default.evaluate(ae.a);t.selectedGradientColorStop=r,n.forEach(function(n,o){var a=r===o,i=a?ue:ie,c=t.fill.colorStops[o].color;p(e,n,i,c,a)})}function b(e,t,n){var r=e.fill.coords,o=r.x1,a=r.y1,i="string"==typeof t?e.fill.coords[t]:t;return{x:o+i*Math.cos(Math.radians(n)),y:a+i*Math.sin(Math.radians(n))}}function m(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"r2",o=e.width,a=e.height,i=e.fill,c=i.coords,u=c.x1,l=c.y1,s=i.colorStops,f=b(e,r,n),d=f.x,p=f.y,h=new L.fabric.Point(o/2,a/2),m=new L.fabric.Point(u,l).subtract(h),g=new L.fabric.Point(d,p).subtract(h);return s.map(function(e){return L.fabric.util.transformPoint(m.lerp(g,e.offset),t)})}function g(e,t){var n=e.x1,r=e.y1,o=e.x2,a=e.y2,i=t.x,c=t.y,u=o-n,l=a-r,s=u*u+l*l,f=((i-n)*u+(c-r)*l)/s,d=n+f*u,p=r+f*l;return new L.fabric.Point(d,p)}function v(e,t,n){var r=e.distanceFrom(n);return r/(t.distanceFrom(n)+r)}function y(e,t){var n=Math.atan2(e.y-t.y,e.x-t.x);return Math.degrees(n)}function O(e){L.fabric.util.object.extend(e,{gradientMode:!1,gradientModeObject:null,gradientPoints:null,angle:90,onHoverControl:null,drawGradientControls:function(){var e=this.gradientModeObject;if(e&&this.gradientMode&&"object"===s(e.fill)){var t=this.contextContainer,n=this.viewportTransform,r=e.calcTransformMatrix(),o=L.fabric.util.multiplyTransformMatrices(n,r);"linear"===e.fill.type&&(this.gradientPoints=f(e,o)),"radial"===e.fill.type&&(this.gradientPoints=m(e,o,this.angle)),d(t,this.gradientPoints),h(t,e,this.gradientPoints)}},bindHandlers:function(){this.on("mouse:down",this.gradientControlMouseDown),this.on("mouse:move",this.moveGradientControlPoint),this.on("mouse:move",this.mouseHoverGradientControl),this.on("mouse:up",this.clearMouseUp),this.on("selection:cleared",this.exitGradientMode)},unBindHandlers:function(){this.off("mouse:down",this.gradientControlMouseDown),this.off("mouse:move",this.moveGradientControlPoint),this.off("mouse:move",this.mouseHoverGradientControl),this.off("mouse:up",this.clearMouseUp),this.off("selection:cleared",this.exitGradientMode)},clearMouseUp:function(){this.colorStop=null,this.gradientModeObject&&!this.gradientModeObject.isLocked&&(this.gradientModeObject.lockMovementX=this.gradientModeObject.lockMovementY=!1),this.selection=!0},onDeselectStopper:function(){return null!==this.onHoverControl},exitGradientMode:function(){this.toggleGradientMode(!1)},toggleGradientMode:function(e){this.gradientMode=e,this.gradientMode?(this.gradientModeObject=this.getActiveObject(),this.bindHandlers(),this.makeObjectsSelectableAndEvented(!1),this.gradientModeObject.evented=!0,this.gradientModeObject.selectable=!0,this.gradientModeObject.hasControls=!1,this.gradientModeObject.onDeselect=this.onDeselectStopper.bind(this)):(this.makeObjectsSelectableAndEvented(!0),this.gradientModeObject&&(this.gradientModeObject.onDeselect=q.a,this.gradientModeObject.hasControls=!0,this.gradientModeObject=null),this.unBindHandlers()),this.gradientPoints=null,this.requestRenderAll()},mouseHoverGradientControl:function(e){var t=this.searchForGradientControlsIndex(e);if(null!==t){if(t!==this.onHoverControl&&this.gradientPoints){this.defaultCursor="move";var n={index:t,strokeColor:ce};this.enlargeGradientControlOnHover(n),this.onHoverControl=t}}else{if(this.defaultCursor="inherit",null!==this.onHoverControl&&this.gradientPoints){var r={index:this.onHoverControl};this.enlargeGradientControlOnHover(r)}this.onHoverControl=null,this.requestRenderAll()}},enlargeGradientControlOnHover:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.contextContainer,n=this.gradientModeObject,r=e.index,o=void 0===r?0:r,a=e.radius,i=void 0===a?ue:a;if(this.gradientPoints){p(t,this.gradientPoints[o],i,n.fill.colorStops[o].color,!1)}},moveGradientControlPoint:function(e){if(null!==this.colorStop){var t=this.gradientModeObject,n=t.width,r=t.height,o=t.fill,a=o.colorStops,i=o.coords,c=o.type,u=e.absolutePointer,l=this.gradientModeObject.calcTransformMatrix(),s=L.fabric.util.invertTransform(l),f=L.fabric.util.transformPoint(u,s);if(f.x+=n/2,f.y+=r/2,"linear"===c&&(0===this.colorStop&&(i.x1=f.x,i.y1=f.y),this.colorStop===a.length-1&&(i.x2=f.x,i.y2=f.y),this.colorStop>0&&this.colorStop<a.length-1)){var d=g(i,f),p=new L.fabric.Point(i.x1,i.y1),h=new L.fabric.Point(i.x2,i.y2);a[this.colorStop].offset=v(p,h,d)}if("radial"===c){if(0===this.colorStop&&(i.x1=i.x2=f.x,i.y1=i.y2=f.y),this.colorStop===a.length-1){var m=new L.fabric.Point(i.x1,i.y1),O=f.distanceFrom(m);this.angle=y(f,m);var S=b(this.gradientModeObject,O,this.angle),w=S.x,j=S.y;this.gradientPoints[a.length-1].x=w,this.gradientPoints[a.length-1].y=j,i.r2=O}if(this.colorStop>0&&this.colorStop<a.length-1){var T=this.gradientPoints[a.length-1],E=T.x,C=T.y,k=new L.fabric.Point(i.x1,i.y1),x=new L.fabric.Point(E,C);a[this.colorStop].offset=v(k,x,f)}}this.gradientModeObject.dirty=!0,this.requestRenderAll()}},searchForGradientControlsIndex:function(e){if(this.gradientMode&&this.gradientPoints){var t=e.pointer,n=t.x,r=t.y,o=null;return this.gradientPoints.some(function(e,t){return e.x-ue<n&&e.x+ue>n&&e.y-ue<r&&e.y+ue>r&&(o=t,!0)}),o}},gradientControlMouseDown:function(e){var t=this.searchForGradientControlsIndex(e);null!==t&&(this.colorStop=t,this.gradientModeObject.lockMovementX=this.gradientModeObject.lockMovementY=!0,this.selection=!1,this.gradientModeObject.selectedGradientColorStop!==t&&(U.default.dispatch(oe.a,t),this.requestRenderAll()))}})}function S(e,t){var n=e.getBounds(),r=Object(re.a)(),o=r.getArtboard(),a=o.getBounds(),i=[],c=[];return t.left&&i.push({x:n.left,y1:a.top,y2:a.top+a.height}),t.right&&i.push({x:n.left+n.width,y1:a.top,y2:a.top+a.height}),t.hCenter&&i.push({x:n.left+n.width/2,y1:a.top,y2:a.top+a.height}),t.top&&c.push({y:n.top,x1:a.left,x2:a.left+a.width}),t.bottom&&c.push({y:n.top+n.height,x1:a.left,x2:a.left+a.width}),t.vCenter&&c.push({y:n.top+n.height/2,x1:a.left,x2:a.left+a.width}),{horizontalGuideLines:c,verticalGuideLines:i}}function w(e){T(e.x,e.y1,e.x,e.y2)}function j(e){T(e.x1,e.y,e.x2,e.y)}function T(e,t,n,r){var o=Object(re.a)(),a=o.contextContainer,i=o.viewportTransform,c=L.fabric.util.transformPoint({x:e,y:t},i),u=L.fabric.util.transformPoint({x:n,y:r},i);a.beginPath(),a.moveTo(Math.round(c.x),Math.round(c.y)),a.lineTo(Math.round(u.x),Math.round(u.y)),a.stroke()}function E(e,t){var n=Object(he.b)();n.fabricCanvas=e,n.fitToObject(t),n.handleZoomAndPanChange()}function C(){U.default.dispatch(oe.Q),E(this,this.getActiveObject())}function k(e){var t=this,n=e.target;U.default.dispatch(oe.Q),this.on("canvas:resized",C),this.on("text:changed",C),E(this,n);var r=U.default.evaluate(pe.a);r&&(this.originalDeselectHandler=n.onDeselect,n.onDeselect=function(){return t.originalDeselectHandler.call(n),!0},Object(W.a)()),this.hasClosedPanel=r}function x(e){var t=e.target;this.off("canvas:resized",C),this.off("text:changed",C),this.hasClosedPanel&&Object(W.f)(this.hasClosedPanel),this.originalDeselectHandler&&(t.onDeselect=this.originalDeselectHandler),this.hasClosePanel=""}function P(e){return M(e)||N(e)||I(e)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function N(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function M(e){if(Array.isArray(e))return A(e)}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object(re.a)();e.canvas=t;var n=e._objects;n&&n.forEach(function(e){R(e,t)})}function D(e,t){return"which"in e?e.which===t:e.button===t-1}var L=n(8),G=n(100),B=n.n(G),F=n(21),z=n.n(F),U=n(1),H=n(14),W=n(16),V=n(22),K=n(44),X=n(469),Y=n(78),q=n.n(Y),Z=L.fabric.util.createCanvasElement(),J=Z.getContext("2d"),$=function(){function e(){r(this,e),i(this,"evictCachesForKey",q.a),i(this,"dispose",q.a),i(this,"clearWebGLCaches",q.a)}return a(e,[{key:"applyFilters",value:function(e,t,n,r,o){Z.height=o.height,Z.width=o.width,J.drawImage(t,0,0,n,r);var a=J.getImageData(0,0,n,r),i=J.getImageData(0,0,n,r),c={sourceWidth:n,sourceHeight:r,imageData:a,originalEl:t,originalImageData:i,canvasEl:o,context:J};e.forEach(function(e){return e.applyTo(c)}),o.getContext("2d").putImageData(c.imageData,0,0)}}]),e}(),Q=n(465),ee=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),t.nogl&&(X.a.isSupported=!1),X.a.isSupported?(this._impl=new X.a,this._2dImpl=new $):this._impl=new $}return l(e,[{key:"applyFilters",value:function(e,t,n,r,o,a){try{var i=e.slice(-1);if(i[0]instanceof Q.a&&this._impl instanceof X.a&&Object(X.b)(t)){var c=e.slice(0,-1),u=t;c.length&&(this._impl.applyFilters(c,t,n,r,o,a),u=o),this._2dImpl.applyFilters(i,u,n,r,o)}else this._impl.applyFilters(e,t,n,r,o,a)}catch(i){if(this._impl instanceof X.a){if(o.getContext("2d").setTransform(1,0,0,1,0,0),X.a.isSupported=!1,this._impl.dispose(),this._impl=new $,i.message)try{i.message="WebGL Filter Error: ".concat(i.message)}catch(e){}this.trackError(i),this._impl.applyFilters(e,t,n,r,o,a)}else{if(i.message)try{i.message="Canvas 2D Filter Error: ".concat(i.message)}catch(e){}this.trackError(i)}}}},{key:"trackError",value:function(e){Object(K.b)(e)}},{key:"evictCachesForKey",value:function(e){this._impl.evictCachesForKey(e)}},{key:"dispose",value:function(){this._impl.dispose(),this._impl=null}},{key:"supportsWebGL",get:function(){return X.a.isSupported}}]),e}(),te=n(15),ne=n(179),re=n(6),oe=n(19),ae=n(17),ie=5,ce="#43B9D3",ue=ie+3,le=6,se=2,fe="rgba(0, 0, 0, 0.3)",de={setGuideLines:S,drawVerticalLine:w,drawHorizontalLine:j},pe=n(99),he=n(165),be=n(176),me=L.fabric.util.createClass(L.fabric.Canvas,{type:"editorCanvas",borderExtraSize:10,borderColor:"#585F6A",clipColor:"#16191E",layerColor:"rgba(0, 0, 0, 0.5)",selectionColor:"rgba(67,185,211,0.4)",selectionBorderColor:"rgba(255,255,255,0.6)",snapGuideColor:"#F24C3E",selectionKey:["shiftKey","metaKey"],uniScaleKey:"nullKey",stateful:!1,defaultCursor:"inherit",fireRightClick:!0,stopContextMenu:!0,controlsAboveOverlay:!0,_activeObject:null,backgroundSnapMultiple:40,initialize:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",e,n),this.bindKeys(),this.snappedObjects=[],this.alreadyInit||(this.alreadyInit=!0,this.filterBackend=new ee({nogl:te.b.isEnabled("nogl")}),this.on("after:render",this.highlightSnappedObjects),this.on("after:render",this.drawGuideLines),this.on("after:render",this.drawHovered),this.on("mouse:up",function(){delete t._mouseDownEventHadActiveObjects}),this.doubleClickPosition={},this.on("mouse:down",this.dblClickInspector),this.on("mouse:dblclick",this.dblClickInspector),this.on("after:render",this.drawGradientControls),this.on("asset:updated",this.updateAssets),te.b.isEnabled("collab")&&(this.on("after:render",this.drawOwnedObjectControls),this.on("object:moving",ne.g),this.on("object:scaling",ne.g),this.on("object:rotating",ne.g),this.on("object:skewing",ne.g)),this.createVignetAsset(),this.isMobile=U.default.evaluate(V.p),this.isMobile&&(this.on("mouse:down",function(){return Object(be.d)()}),this.on("selection:updated",function(){return Object(W.a)()}),this.on("selection:cleared",function(){return Object(W.a)()}),this.on("text:editing:entered",k),this.on("text:editing:exited",x)),this.selection=!this.isMobile)},updateAssets:function(e){this.getObjects(e.type).forEach(function(t){t.mask&&t.imageId===e.id&&(t.set("dirty",!0),t._originalElement=e.sourceImage,t.paintMask(),t.applyFilters())})},dblClickInspector:function(e){var t=e.e,n=t.clientX,r=t.clientY,o=this.doubleClickPosition;"mousedown"!==t.type&&"touchstart"!==t.type||(o.x=n,o.y=r),"dblclick"===t.type&&o.x===n&&o.y===r&&(this.fire("mouse:strictdblclick",e),e.target&&e.target.fire("mousestrictdblclick",e))},createVignetAsset:function(){var e=document.createElement("canvas");e.width=1500,e.height=1500;var t=750,n=e.getContext("2d"),r=n.createRadialGradient(t,t,487.5,t,t,1050);r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,0.20)"),n.fillStyle=r,n.fillRect(0,0,1500,1500),r=n.createRadialGradient(t,t,570,t,t,1050),r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,0.22)"),n.fillStyle=r,n.fillRect(0,0,1500,1500),r=n.createRadialGradient(t,t,607.5,t,t,1050),r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,0.28)"),n.fillStyle=r,n.fillRect(0,0,1500,1500),r=n.createRadialGradient(t,t,697.5,t,t,1050),r.addColorStop(0,"rgba(0,0,0,0)"),r.addColorStop(1,"rgba(0,0,0,0.34)"),n.fillStyle=r,n.fillRect(0,0,1500,1500),this.vignetteAsset=e},highlightSnappedObjects:function(){var e=this;this.snappedObjects.forEach(function(t){t._renderControls(e.contextContainer,{hasControls:!1,hasBorders:!0})})},drawGuideLines:function(){var e=this.getActiveObject();if(e&&this.guides){var t=de.setGuideLines(e,this.guides),n=t.verticalGuideLines,r=t.horizontalGuideLines,o=this.contextContainer;o.save(),o.lineWidth=1,o.strokeStyle=this.snapGuideColor,n.forEach(function(e){de.drawVerticalLine(e)}),r.forEach(function(e){de.drawHorizontalLine(e)}),o.restore(),this.snappedObjects=[],this.guides={}}},drawHovered:function(){!this._hoveredTarget||!this._hoveredTarget.selectable||this._hoveredTarget===this._activeObject||this._hoveredTarget instanceof L.fabric.ActiveSelection||this._hoveredTarget===this.getBackgroundImage()||this._hoveredTarget._renderControls(this.contextContainer,{hasControls:!1})},bindKeys:function(){this.upperCanvasEl.tabIndex=999,L.fabric.util.addListener(this.upperCanvasEl,"keyup",this._onKeyUp.bind(this))},_onKeyUp:function(e){var t=this.getActiveObject();t&&t.fire("keyup",e)},makeObjectsSelectableAndEvented:function(e){var t=this.getBackgroundImage();this.forEachObject(function(n){n===t||z()(n,"isLocked")||Object(ne.f)(n)||(n.evented=e,n.selectable=e)})},dispose:function(){B()(this._unwatch)&&this._unwatch(),this._unwatch=null,this.filterBackend&&this.filterBackend.dispose(),this.ruler&&this.ruler.dispose(),this.callSuper("dispose")},_toCanvasElement:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,o=L.fabric.util.createCanvasElement();o.width=e,o.height=t;var a=new L.fabric.StaticCanvas(o,{enableRetinaScaling:!1,renderOnAddRemove:!1}),i=this.getObjects(),c=this.getArtboard();return c&&(c.canvas=a),i.forEach(function(e){e===n._activeObject&&(e.originalCropping=e.isCropping,e.isCropping=!1),R(e,a)}),a.viewportTransform=[r,0,0,r,0,0],a.vignetteAsset=this.vignetteAsset,a.backgroundImage=c,a._objects=i,a.renderAllExport(),i.forEach(function(e){R(e,n),c&&(c.canvas=n),e.isCropping=e.originalCropping,delete e.originalCropping}),a.lowerCanvasEl},_setObjectScaleForTextbox:function(e,t){var n=t._getTransformedDimensions().x,r=t.width*(e.x/n);if(r>=t.getMinWidth())return t.set("width",r),!0},_setLocalMouse:function(e,t){this.callSuper("_setLocalMouse",e,t),e.x=Math.max(e.x,10),e.y=Math.max(e.y,10)},_setObjectScale:function(e,t,n,r,o,a,i){var c=t.target,u=e.x*c.scaleX/i.x,l=e.y*c.scaleY/i.y,s=c.scaleX!==u,f=c.scaleY!==l,d=!1,p=!1,h=!1;return a&&u<=0&&u<c.scaleX&&(d=!0,e.x=0),a&&l<=0&&l<c.scaleY&&(p=!0,e.y=0),c instanceof L.fabric.Textbox&&"x"===o?this._setObjectScaleForTextbox(e,c):("equally"!==o||n||r?o?"x"!==o||c.get("lockUniScaling")?"y"!==o||c.get("lockUniScaling")||p||r||c.set("scaleY",l)&&(h=h||f):d||n||c.set("scaleX",u)&&(h=h||s):(d||n||c.set("scaleX",u)&&(h=h||s),p||r||c.set("scaleY",l)&&(h=h||f)):h=this._scaleObjectEqually(e,c,t,i),t.newScaleX=u,t.newScaleY=l,d||p||this._flipObject(t,o),h)},isSelectionActive:function(){return!!this.getActiveObject()},renderPageHighlight:function(){var e=this.contextTop,t=U.default.evaluate(H.k.activePage);t&&(e.save(),e.transform.apply(e,P(this.viewportTransform)),e.strokeStyle="#249CC9",e.lineWidth=1/this.viewportTransform[0],e.strokeRect(0,0,t.get("width"),t.get("height")),e.restore())},renderCanvasBorders:function(){if(this.clipPage&&"#585F6A"===this.borderColor)return!1;var e=this.contextContainer,t=U.default.evaluate(H.k.activePage),n=this.getZoom(),r=this.borderExtraSize/n;if(t){var o=t.get("width"),a=t.get("height");e.save(),e.transform.apply(e,P(this.viewportTransform)),e.strokeStyle=this.borderColor,e.lineWidth=1/n,e.beginPath(),e.moveTo(-r,0),e.lineTo(o+r,0),e.moveTo(0,-r),e.lineTo(0,a+r),e.moveTo(-r,a),e.lineTo(o+r,a),e.moveTo(o,-r),e.lineTo(o,a+r),e.stroke(),e.restore()}},findTarget:function(e,t){var n=this.getActiveObjects();if("mousedown"!==e.type&&"touchstart"!==e.type||!n.length||(this._mouseDownEventHadActiveObjects=!0),this.isZooming||this.isDragging&&"touchend"!==e.type)return!1;var r=this.getBackgroundImage(),o=-1!==n.indexOf(r);if(e.shiftKey&&(n.some(function(e){return e.isLocked})||o))return!1;var a=this.callSuper("findTarget",e,t),i=a===r;if((this.eventShouldForceSelect(e,a,r)&&(a.selectable=!0,this.setActiveObject(a)),i||a&&a.isLocked)&&("mouseup"===e.type||"touchend"===e.type||!o&&"dragover"!==e.type))return null;return Object(ne.f)(a)?null:a},eventShouldForceSelect:function(e,t,n){var r="mouseup"===e.type||"touchend"===e.type,o=D(e,3),a=this.attemptingSelect(),i=t===n||z()(t,"isLocked",!1);return r&&!o&&!a&&!this._mouseDownEventHadActiveObjects&&i},attemptingSelect:function(){return!!this._groupSelector&&(0!==this._groupSelector.top||0!==this._groupSelector.left)},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay");var t=this.getArtboard();if(!this.isAnimating&&t){var n=this.getWidth(),r=this.getHeight(),o=this.clipPage?this.clipColor:this.layerColor;e.save(),e.globalCompositeOperation="source-atop",e.beginPath(),e.moveTo(-2,-2),e.lineTo(n+2,-2),e.lineTo(n+2,r+2),e.lineTo(-2,r+2),e.lineTo(-2,-2),e.transform.apply(e,P(this.viewportTransform)),e.moveTo(0,0),e.lineTo(0,t.height),e.lineTo(t.width,t.height),e.lineTo(t.width,0),e.closePath(),e.fillStyle=o,e.fill(),e.restore(),this.renderCanvasBorders()}},renderAll:function(){this.stopRendering||(this.cachedBackgroundImage=this.getBackgroundImage(),this.callSuper("renderAll"),this.cachedBackgroundImage=null)},getBackgroundImage:function(e){var t=this.getObjects()[0];return!t||"userImage"!==t.type&&"editorImage"!==t.type?null:this.objectCoversArtboard(t,e)?t:null},getArtboard:function(){return this.backgroundImage},objectCoversArtboard:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!this.backgroundImage)return!1;if(0!==e.angle){this.backgroundImage.canvas||(this.backgroundImage.canvas=this),this.backgroundImage.oCoords||this.backgroundImage.setCoords();return this.backgroundImage.isContainedWithinObject(e,!0)}var n=e.getBounds();n.right=n.width+n.left,n.bottom=n.height+n.top;var r=this.backgroundImage.getBounds(),o=n.left-t<=r.left,a=n.top-t<=r.top,i=n.right+t>=r.width+r.left,c=n.bottom+t>=r.height+r.top;return o&&a&&i&&c},drawOwnedObjectControls:function(){for(var e=this._objects,t=this.viewportTransform,n=this.contextContainer,r=0,o=e.length;r<o;++r){var a=e[r];if(Object(ne.f)(a)){n.save(),a._renderControls(n,{hasRotatingPoint:!1,cornerColor:Object(ne.c)(a)});var i=L.fabric.util.degreesToRadians(a.angle),c=a._calculateCurrentDimensions(),u=c.x,l=c.y,s=u>0?Math.atan(l/u):0,f=u/Math.cos(s)/2,d=Math.cos(s+i)*f,p=Math.sin(s+i)*f,h=a.getCenterPoint(),b=L.fabric.util.transformPoint(h,t),m=b.x-d,g=b.y-p,v=Object(ne.d)(a);n.translate(m,g);var y=n.measureText(v);n.fillStyle="rgba(0, 0, 0, .8)",n.strokeStyle="black",n.lineWidth=1,n.fillRect(-y.width/2-2,-14,y.width+4,20),n.strokeRect(-y.width/2-2,-14,y.width+4,20),n.fillStyle="white",n.fillText(v,-y.width/2,0),n.restore()}}},_checkTarget:function(e,t){if(t&&t.visible&&t.evented&&(t.containsPoint(e)||t._findTargetCorner(e))){if(0===t.opacity||"activeSelection"===t.type||t.nofill&&t.strokeNofill)return!0;if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,e.x,e.y))return!0}},toObject:function(e){var t=this.callSuper("toObject",e);return delete t.version,t.objects||(t.objects=[]),t.objects=t.objects.filter(function(e){return e}),t}});L.fabric.EditorCanvas=me,O(L.fabric.EditorCanvas.prototype);var ge=me,ve=n(389);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activePageWidth,n=e.activePageHeight,r=new ge;return r.backgroundImage=new ve.a({width:t,height:n}),r.backgroundImage.canvas=r,te.b.isEnabled("sstkdebug")&&(window.fabricCanvas=r,r.calcViewportBoundaries()),Object(re.b)(r),r}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=d();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return O});var b=n(0),m=n.n(b),g=n(738),v=n(739),y={width:1,height:1,padding:0},O=function(e){function t(){var e;o(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=n.call.apply(n,[this].concat(a)),h(f(e),"state",{readyForCopy:!1}),h(f(e),"onCtrlKey",function(t){if("undefined"==typeof window||"c"!==t.key&&"x"!==t.key)return!0;if((t.ctrlKey||t.metaKey)&&!Object(g.b)(t.target)&&window.getSelection){var n=window.getSelection();n&&n.toString&&n.toString()||null!=document.selection&&document.selection.createRange().text||e.setState({readyForCopy:!0})}}),h(f(e),"onCopyEnd",function(){e.state.readyForCopy&&e.setState({readyForCopy:!1})}),e}c(t,e);var n=l(t);return i(t,[{key:"componentDidMount",value:function(){"undefined"!=typeof window&&(document.addEventListener("keydown",this.onCtrlKey,!0),document.addEventListener("keyup",this.onCopyEnd,!0))}},{key:"componentWillUnmount",value:function(){"undefined"!=typeof window&&(document.removeEventListener("keydown",this.onCtrlKey,!0),document.removeEventListener("keyup",this.onCopyEnd,!0))}},{key:"render",value:function(){return m.a.createElement("div",{id:"clipboard-container",style:{position:"fixed",left:0,top:0,width:0,height:0,zIndex:100,opacity:0,display:this.state.readyForCopy?"block":"none",pointerEvents:"none"}},this.state.readyForCopy&&m.a.createElement("textarea",{readOnly:!0,id:"_clipboard",value:v.a,style:y,ref:g.a}))}}]),t}(b.PureComponent)},function(e,t,n){"use strict";function r(e){if(e=e||e.originalEvent,!Object(m.b)(e.target)&&!e.target.dataset.hasOwnProperty("fabricHiddentextarea"))return h.helpers.isValidPaste(e)?(e.preventDefault(),e.stopImmediatePropagation(),b()(e).then(function(e){if(e){if(e.value===v.a)return Object(p.e)();var t=/https?:\/\/.+(jpg|jpeg|png).*/,n=/^image\/(png|jpeg|jpg)$/,r=e.kind,a=e.value,s=e.fileName;if(a){if("string"===r&&!t.test(a))return Object(f.a)({text:a});if(a&&(n.test(a.type)||t.test(a))){var h;if("string"===r?h=null:(a.preview=URL.createObjectURL(a),h=a),g.b.isEnabled("embed"))return Object(u.uploadLocalFiles)(null,[{fileObj:h,fileName:s,fileTitle:s}]);var b=i.a.generate();return Object(d.ensureLoggedIn)().then(function(){Object(c.f)(null,[{fileName:s,fileTitle:s,tempId:b,fileObj:h}]),Object(l.a)(o,a,{fileName:s,tempId:b}),Object(l.b)(),Object(c.g)()})}}}})):Object(p.e)()}function o(e,t){var n=t.fileName,r=t.tempId,o=void 0===r?null:r;return Object(l.c)(y,e,{fileName:n,tempId:o}).then(O).catch(S)}t.a=r;var a=n(190),i=n.n(a),c=n(98),u=n(544),l=n(392),s=n(18),f=n(540),d=n(70),p=n(57),h=n(1510),b=n.n(h),m=n(738),g=n(15),v=n(739),y=Object(s.l)(),O=function(e){e.links?Object(c.k)(null,e):Object(c.j)(null,e)},S=function e(t){if(t){var n=t.errorData,r=t.retryFunc;Object(c.j)(!0,n,function(){return r().then(O).catch(e)})}}},,,function(e,t,n){"use strict";function r(e,t){return{string:"+",style:"font-size: 1px; padding: ".concat(Math.floor(t/2),"px ").concat(Math.floor(e/2),"px; line-height: 1px;")}}console.screenshot=function(e,t){var n=e.toDataURL(),o=e.width,a=e.height;t=t||1;var i=r(o*t,a*t);console.log("%c".concat(i.string),"".concat(i.style,"background-image: url(").concat(n,"); background-repeat: no-repeat; background-size: ").concat(o*t,"px ").concat(a*t,"px; color: red;"))}},function(e,t,n){"use strict";function r(){a.a.prototype.stopCallback=function(e,t,n){if("mod+-"===n||"mod+="===n||"mod+0"===n)return!1;if(t.dataset&&t.dataset.hasOwnProperty("fabricHiddentextarea")&&(e.metaKey||e.ctrlKey)){var r=Object(i.a)(),o=r.getActiveObject();if(o&&o.hiddenTextarea===t&&-1===["mod+c","mod+v","mod+x"].indexOf(n))return!1}return(!t||!t.getAttribute||null==t.getAttribute("data-allow-keyboard-shortcuts"))&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.contentEditable&&"true"===t.contentEditable)},a.a.bind("backspace",function(e){e.preventDefault()})}t.a=r;var o=n(514),a=n.n(o),i=n(6)},function(e,t,n){"use strict";function r(){o.a&&(window.sstkApiContract=function(){Object(a.c)().then(function(){var e=[];Object(i.a)(function(t){var n=t.keyPath;return e.push(n)})(Object(a.a)()),console.log(JSON.stringify(e))})})}t.a=r;var o=n(106),a=n(541),i=n(446)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(557),o=n.n(r);o.a.prototype._onDrop=o.a.prototype.onDrop,o.a.prototype.onDrop=function(e){var t=this.props.multiple,n={target:{files:[]},type:e.type,preventDefault:function(){},stopPropagation:function(){}};e.preventDefault();var r=[];if(e.dataTransfer){var o=e.dataTransfer;n.dataTransfer={},o.files&&o.files.length?(r=o.files,n.dataTransfer.files=[]):o.items&&o.items.length&&(r=o.items,n.dataTransfer.items=[])}else e.target&&e.target.files&&(r=e.target.files,n.target.files=[]);r.length>0&&(r=t?r:[r[0]]);for(var a=Array.prototype.slice.call(r),i=0;i<a.length;i++){var c=a[i];try{if(window.URL.createObjectURL(c),e.dataTransfer){var u=e.dataTransfer;u.files&&u.files.length?n.dataTransfer.files.push(c):u.items&&u.items.length&&n.dataTransfer.items.push(c)}else e.target&&e.target.files&&n.target.files.push(c)}catch(e){}}this._onDrop(n)}},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"f",function(){return i}),n.d(t,"g",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return l});var r="DOWNLOADING_WAIT",o="ELIGIBILITY_WAIT",a="NOT_ENOUGH_CREDITS",i="NO_SUBS",c="REDOWNLOAD",u="DOWNLOAD",l="FREE_DOWNLOAD"},,,,,function(e,t,n){"use strict";function r(){return void 0===l&&(l=f()()),l}function o(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return b.init().then(function(t){return t.auth.authorize({client_id:p,scope:h.join(" "),immediate:e},a)})}function a(e){e&&!e.error&&c()}function i(e){return o(e)}function c(e){return b.init().then(function(t){return t.client.load("drive","v2",e)})}function u(e,t){return new Promise(function(n){var r=new FileReader;r.onload=function(){var o=e.type||"application/octet-stream",a=r.result.split(",")[1],i="-------314159265358979323846",c="\r\n--"+i+"\r\n",u=c+"Content-Type: application/json\r\n\r\n"+JSON.stringify(t)+c+"Content-Type: "+o+"\r\nContent-Transfer-Encoding: base64\r\n\r\n"+a+"\r\n---------314159265358979323846--";return b.init().then(function(e){return e.client.request({path:"/upload/drive/v2/files",method:"POST",params:{uploadType:"multipart"},headers:{"Content-Type":"multipart/mixed; boundary=".concat(i)},body:u})}).then(n)},r.readAsDataURL(e)})}t.a=o,t.b=i,t.c=u;var l,s=n(1902),f=n.n(s),d=n(29),p=(n.n(d),d.client.cloudStorage.googleDrive.clientID),h=d.client.cloudStorage.googleDrive.scopes,b={init:r,checkAuth:o,postImageToDrive:u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"defaultLicenseFlow",function(){return a}),n.d(t,"defaultDownloadFlow",function(){return i}),n.d(t,"renderFlow",function(){return c}),n.d(t,"defaultShareFlow",function(){return u}),n.d(t,"defaultPublishFlow",function(){return l});var r=n(1608),o=n(1615),a=[r.h,r.a],i=[r.b,r.h,r.a,function(e){return"pdfv"===e.fileFormat?Object(o.a)(e):Object(r.f)(e)},r.c,r.d],c=[r.b,r.h,function(e){return"pdfv"===e.fileFormat?Object(o.a)(e):Object(r.f)(e)},r.c],u=[r.h,r.a,r.f,r.c,r.g],l=[r.h,r.a,r.f,r.e];t.default={defaultLicenseFlow:a,defaultDownloadFlow:i,renderFlow:c,defaultShareFlow:u,defaultPublishFlow:l}},,,,,,,,,,function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(u)throw i}}}}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(u,r,o,a,c,"next",e)}function c(e){i(u,r,o,a,c,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function u(e){return l.apply(this,arguments)}function l(){return l=c(regeneratorRuntime.mark(function e(t){var n,o,a,i,c,u,l,s,f,d,p,h;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.getAllImages(),o=[],a=r(n),e.prev=3,a.s();case 5:if((i=a.n()).done){e.next=24;break}if(c=i.value,u=c.fabricObject,l=c.licensedImage,s=it.k.assetByImageId(u.imageId),!s.get("licensedImage")){e.next=11;break}return e.abrupt("continue",22);case 11:if(l){e.next=13;break}throw new Error("AssetReplace error: ".concat(u.imageId," is not licensed"));case 13:return o.push(u),f=s.get("id"),d=s.get("sourceImage"),rt.default.dispatch(ct.x,{id:f}),rt.default.dispatch(ct.b,{id:f,image:l}),e.next=20,Object(at.a)(l,d);case 20:p=e.sent,d.getContext("2d").drawImage(p,0,0);case 22:e.next=5;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(3),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:return h=Object(ot.a)(),o.forEach(function(e){var t=e.imageId;h.getObjects().filter(function(e){return e.imageId===t}).forEach(function(e){var t=e.getFilterCacheKey();h.filterBackend.evictCachesForKey(t),e.applyFilters()})}),h.requestRenderAll(),e.abrupt("return",t);case 36:case"end":return e.stop()}},e,null,[[3,26,29,32]])})),l.apply(this,arguments)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/jpeg",n=f(e);return Object(lt.a)(n,t)}function f(e){var t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t}function d(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){d(c,r,o,a,i,"next",e)}function i(e){d(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function h(e,t){return y(e)||v(e,t)||m(e,t)||b()}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function y(e){if(Array.isArray(e))return e}function O(e,t){return void 0!==t?"rendered_".concat(t,".").concat(Object(dt.a)(e)):"rendered.".concat(Object(dt.a)(e))}function S(){var e={type:"blob"},t={compression:"DEFLATE",compressionOptions:{level:9}};return Object(ft.b)(navigator.userAgent)?Object.assign({},e,t):e}function w(e){var t=e.pages,n=e.zip;t.reduce(function(e,t){return e.concat(t.images)},[]).forEach(function(e){var t=e.fabricObject.imageId,r="original_".concat(t,".jpg");Object.keys(n.files).includes(r)||n.file(r,e.licensedBlob)})}function j(e){var t=e.blob,n=e.zip,r=e.index;n.file(O(t.type,r),t)}function T(e){var t=e.fullBase64,n=e.zip,r=e.index,o=t.split(","),a=h(o,2),i=a[0],c=a[1];n.file(O(i,r),c,ht)}function E(e){var t=e.data,n=e.zip;Array.isArray(t)?t.forEach(function(e,t){e instanceof Blob?j({blob:e,zip:n,index:t+1}):T({fullBase64:e,zip:n,index:t+1})}):t instanceof Blob?j({blob:t,zip:n}):T({fullBase64:t,zip:n})}function C(e){return k.apply(this,arguments)}function k(){return k=p(regeneratorRuntime.mark(function e(t){var r,o,a,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.data,o=t.pages,a=t.includeOriginal,i=t.zip,i){e.next=5;break}return e.next=4,Object(pt.a)(function(){return n.e(274).then(n.bind(null,2744))}).then(function(e){return new(0,e.JSZip)});case 4:i=e.sent;case 5:return a&&w({pages:o,zip:i}),E({data:r,zip:i}),e.abrupt("return",i.generateAsync(S()));case 8:case"end":return e.stop()}},e)})),k.apply(this,arguments)}function x(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=P(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function P(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function N(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){I(c,r,o,a,i,"next",e)}function i(e){I(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function M(e){var t=e.doc,n=e.fabricText,r=e.conversionFactor,o=e.index,a=n.getCenterPoint();t.switchToPage(o),t.save(),t.fontSize(n.fontSize*r),t.translate(a.x*r,a.y*r),t.rotate(n.angle),t.fillOpacity(0),t.restore()}function A(e){return R.apply(this,arguments)}function R(){return R=N(regeneratorRuntime.mark(function e(t){var r,o,a,i,c,u,l,s,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pages,o=t.dpi,a=vt/o,e.next=4,n.e(301).then(n.bind(null,2745));case 4:i=e.sent,c=new i({autoFirstPage:!1}),u=new Promise(function(e){var t=c.pipe(gt()());t.on("finish",function(){e(t.toBlob("application/pdf"))})}),l=[],s=x(r),e.prev=9,d=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.value,e.t0=l,e.next=4,new Promise(function(e,n){var r=new FileReader;r.onload=function(){e(r.result)},r.onerror=function(e){n(e)},r.readAsArrayBuffer(t.renderedBlob)});case 4:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 6:case"end":return e.stop()}},e)}),s.s();case 12:if((f=s.n()).done){e.next=16;break}return e.delegateYield(d(),"t0",14);case 14:e.next=12;break;case 16:e.next=21;break;case 18:e.prev=18,e.t1=e.catch(9),s.e(e.t1);case 21:return e.prev=21,s.f(),e.finish(21);case 24:return l.forEach(function(e,t){e.toString=function(){return"image".concat(t)};var n=r[t],o=rt.default.evaluate(it.k.pageById(n.id)).toJS(),i=o.width,u=o.height,l=Math.floor(i*a),s=Math.floor(u*a);c.addPage({margins:0,size:[l,s]}),c.image(e,0,0,{width:l,height:s}),n.fabricObjects.filter(function(e){return"editorTextBox"===e.type}).forEach(function(e){M({doc:c,fabricText:e,conversionFactor:a,index:t})})}),c.end(),e.abrupt("return",u);case 27:case"end":return e.stop()}},e,null,[[9,18,21,24]])})),R.apply(this,arguments)}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function L(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach(function(t){G(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e){return H(e)||U(e)||z(e)||F()}function F(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}function U(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function H(e){if(Array.isArray(e))return W(e)}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function K(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){V(c,r,o,a,i,"next",e)}function i(e){V(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function X(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Y(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){X(c,r,o,a,i,"next",e)}function i(e){X(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function q(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Z(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){q(c,r,o,a,i,"next",e)}function i(e){q(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function J(e){return $.apply(this,arguments)}function $(){return $=Z(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((n=t.fileFormat)!==bt.f){e.next=7;break}return e.next=4,A(t);case 4:t.outData=e.sent,e.next=15;break;case 7:if("pdfv"!==n){e.next=13;break}return e.next=10,zt(t);case 10:t.outData=e.sent,e.next=15;break;case 13:r=t.getRenderedBlobs(),t.outData=r.length>1?r:r[0];case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}},e)})),$.apply(this,arguments)}function Q(e){return ee.apply(this,arguments)}function ee(){return ee=Z(regeneratorRuntime.mark(function e(t){var n,r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.outData,r=t.pages,o=t.includeOriginal,!o&&!Array.isArray(n)){e.next=7;break}return e.next=4,C({data:n,pages:r,includeOriginal:o});case 4:t.outData=e.sent,e.next=8;break;case 7:n instanceof Blob||(t.outData=ut.a.convert(n));case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}},e)})),ee.apply(this,arguments)}function te(e){return ne.apply(this,arguments)}function ne(){return ne=Z(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.downloadId,r=t.includeOriginal,Object(dt.f)(n,Ht.convert.displayText),!r){e.next=6;break}return o=t.getAllImages(),e.next=6,Promise.all(o.map(function(){var e=Z(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.licensedBlob){e.next=2;break}return e.abrupt("return");case 2:return n=t.licensedImage,n.width=n.naturalWidth,n.height=n.naturalHeight,e.next=7,s(t.licensedImage);case 7:r=e.sent,t.licensedBlob=r,delete t.licensedImage;case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:a=0,i=[J,Q];case 7:if(!(a<i.length)){e.next=14;break}return c=i[a],e.next=11,c(t);case 11:a++,e.next=7;break;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}},e)})),ne.apply(this,arguments)}function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach(function(t){ae(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){try{var n=new FormData,r=rt.default.evaluate(Jt.a.platform),o=Object(ot.a)(),a=o.filterBackend.supportsWebGL,i=rt.default.evaluate($t.a),c=Object(en.c)(),u={};if(i){Zt()(u,i.toJS()),u.share_link=Object(Qt.a)(i);var l=i.get("state"),s=c.get("state"),f=Yt()(Array.from(s.keys()),Array.from(l.keys()));u.downloadIsLatestSave=f.every(function(e){return l.get(e).equals(s.get(e))})}var d=oe(oe(oe({},{title:""}),u),Object(en.c)().delete("title").toJS()),p="";if(a&&o.filterBackend&&o.filterBackend._impl){p=o.filterBackend._impl.captureGPUInfo().renderer}var h={hasWebGL:a,gpu:p,height:e.height,width:e.width,platform:r&&r.getName(),watermarked:t.watermarked,basicDesign:t.isBasicImageDesign,bdr:1/0};n.append("serialized_state",JSON.stringify(d)),n.append("attributes",JSON.stringify(h)),setTimeout(function(){Object(Ct.a)({type:"POST",url:nn.ROUTE,data:n,cache:!1,processData:!1,contentType:!1})},tn)}catch(e){}}function ce(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ue(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){ce(c,r,o,a,i,"next",e)}function i(e){ce(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function le(e,t){if(Object(on.a)())window.navigator.msSaveBlob(t,e);else{var n=window.URL.createObjectURL(t),r=document.createElement("a");r.download=e,r.setAttribute("style","display: none;"),r.href=n,document.body.appendChild(r),r.click(),document.body.removeChild(r)}}function se(e){return fe.apply(this,arguments)}function fe(){return fe=ue(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:{},r=n.imageId,o=t.type,a=Object(dt.b)(r),i="".concat(a,".").concat(Object(dt.a)(o)),!Object(ft.b)(navigator.userAgent)){e.next=7;break}return e.abrupt("return",Object(ft.a)(a,t));case 7:return e.abrupt("return",le(i,t));case 8:case"end":return e.stop()}},e)})),fe.apply(this,arguments)}function de(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function pe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){de(c,r,o,a,i,"next",e)}function i(e){de(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function he(e){var t=e.pages,n=Kt()(t,[0,"images",0,"fabricObject","imageId"]);return se(e.outData,{imageId:n}).then(function(){return e}).catch(function(e){throw rn.a.noticeError(e),new Error("FileDownloader failed")})}function be(e){return me.apply(this,arguments)}function me(){return me=pe(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.downloadId,Object(dt.f)(n,cn.download.displayText),e.next=4,he(t);case 4:return ie(Kt()(t,["pages",0,"renderedCanvas"]),t),t.debug&&ie(t.debug.canvas,t),e.abrupt("return",t);case 7:case"end":return e.stop()}},e)})),me.apply(this,arguments)}function ge(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function ve(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){ge(c,r,o,a,i,"next",e)}function i(e){ge(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function ye(e){var t=e.platform,n=e.description,r=e.metadata,o=r.renderedCanvas,a=rt.default.evaluate(ln.a.imageQuality),i=o.toDataURL(bt.c.jpg,a);return t.postImage(i,n,r)}function Oe(e){return Se.apply(this,arguments)}function Se(){return Se=ve(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.platform,r=t.description,o=t.pages,a=t.downloadId,Object(dt.f)(a,fn.publish.displayText),i=rt.default.evaluate(it.k.activePageId),c=o.find(function(e){return e.id===i}).renderedCanvas,n){e.next=6;break}throw new Error("Publish error: No platform provided");case 6:if(!n.validatePublishImage){e.next=13;break}return e.next=9,n.validatePublishImage(c);case 9:u=e.sent,u.renderedCanvas=u.canvas,e.next=14;break;case 13:u={renderedCanvas:c};case 14:return e.next=16,ye({platform:n,description:r,metadata:u});case 16:l=e.sent,e.t0=n.getName(),e.next="Twitter"===e.t0?20:"Facebook"===e.t0?22:"Pinterest"===e.t0?25:28;break;case 20:return t.publishLink=l.url,e.abrupt("break",29);case 22:return s=JSON.parse(l.target.response).id,t.publishLink="https://www.facebook.com/".concat(s),e.abrupt("break",29);case 25:return s=JSON.parse(l.target.response).data.id,t.publishLink="https://www.pinterest.com/pin/".concat(s),e.abrupt("break",29);case 28:throw new Error("no social platform was found");case 29:return e.abrupt("return",t);case 30:case"end":return e.stop()}},e)})),Se.apply(this,arguments)}function we(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function je(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){we(c,r,o,a,i,"next",e)}function i(e){we(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function Te(e){return Ee.apply(this,arguments)}function Ee(){return Ee=je(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l,s,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.outData,r=t.platform,o=t.authToken,a=t.pages,i=t.downloadId,c=Kt()(a,[0,"images",0,"fabricObject","imageId"]),u=Object(dt.b)(c),l=Object(dt.a)(n.type),Object(dt.f)(i,vn.share.displayText),e.t0=r,e.next=e.t0===bt.b?8:e.t0===bt.a?13:18;break;case 8:return s={title:u,mimeType:bt.c[l]},e.next=11,Object(hn.c)(n,s);case 11:return rt.default.dispatch(mn.j,!0),e.abrupt("break",19);case 13:return rt.default.dispatch(mn.g,o),f="".concat(u,".").concat(l),e.next=17,Object(bn.b)(n,o,f);case 17:return e.abrupt("break",19);case 18:throw new Error("Share error: Invalid platform");case 19:return e.abrupt("return",t);case 20:case"end":return e.stop()}},e)})),Ee.apply(this,arguments)}function Ce(e,t){return e&&t.indexOf(e)>-1?e:"small"===e?Ce("medium",t):"medium"===e&&Ce("huge",t)}function ke(e,t){return e&&t.indexOf(e)>-1?e:"huge"===e?Ce("medium",t):"medium"===e&&Ce("small",t)}function xe(e,t){var n=Ce(e,t);if(n||(n=ke(e,t)),!n)throw new Error("No available sizes found");return n}function Pe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"huge",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["huge"],r="huge",o=e.getObjectScaling(),a=e._element.height*o.scaleY,i=e._element.width*o.scaleX,c=Math.max(a,i);return c<=500?r="small":c<=500&&"small"===t?r="small":c<=1e3?r="medium":"medium"===t?r="medium":"small"===t&&(r="small"),r=xe(r,n)}function _e(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=rt.default.evaluate(Tn.B.allEditorImagesAssetMessages);return e.reduce(function(e,o){var a=o.imageId,i=r.find(function(e){return-1!==e.get("id").indexOf(a)}),c=i&&i.get("availableSizes").toJS();if(n)return e[a]=t.get("media_size")||"huge",e;if(e[a]){var u=Pe(o,t.get("media_size"),c);En[u]>En[e[a]]&&(e[a]=u)}else e[a]=Pe(o,t.get("media_size"),c);return e},{})}function Ie(e){var t=0;return e.forEach(function(e){for(var n=An.exec(e.text);n;)_n.b.track("downloaded emoji",{emoji:n[0]}),t++,n=An.exec(e.text)}),t}function Ne(){return{fileFormat:rt.default.evaluate(Mn.c.fileType),dpi:rt.default.evaluate(Mn.c.dpi)}}function Me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Me(Object(n),!0).forEach(function(t){Re(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=Le(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Le(e,t){if(e){if("string"==typeof e)return Ge(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ge(e,t):void 0}}function Ge(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Be(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function Fe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){Be(c,r,o,a,i,"next",e)}function i(e){Be(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function ze(e,t,n){e[t]=wn()(n,["url","useCors","licensedImage","mediaSize"])}function Ue(e){return He.apply(this,arguments)}function He(){return He=Fe(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l,s,f,d,p,h,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.image,r=t.subscriptionId,o=t.includeOriginal,a=t.downloadMetric,i=void 0===a?"download":a,c=n.fabricObject.imageId,u=n.fabricObject,l=n.useCors,s=void 0===l||l,f=n.overrideUrl,d=n.url,f&&(d=f),d){e.next=7;break}throw new Error("Download error: Missing license for ".concat(c));case 7:return p=Date.now(),e.next=10,Object(xt.d)(d,s,bt.i);case 10:h=e.sent,b=Date.now()-p,Rn(r,o,i,i,b),u.timeTaken=b,n.licensedImage=h;case 15:case"end":return e.stop()}},e)})),He.apply(this,arguments)}function We(e){return Ve.apply(this,arguments)}function Ve(){return Ve=Fe(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l,s,f,d,p,h,b,m,g,v,y,O,S,w;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.image,r=t.mediaSize,o=t.subscriptionId,a=t.license,i=t.TOSStatus,c=t.editorialUseOnlyChecked,u=t.gatekeeperUrls,l=n.fabricObject,s=l.imageId,f=Object(dt.c)(s),d=f.redownloadId,p=f.redownloadLicense,!u||!u.length){e.next=12;break}if(!(h=u.find(function(e){return e.id===s}))){e.next=12;break}return b=h.url,m=Object(Cn.a)({realUrl:b,imageId:s,mediaSize:r}),g=m.url,v=m.useCors,n.url=g,n.useCors=v,e.abrupt("return");case 12:if(y=Object(Cn.a)({realUrl:"",imageId:s,mediaSize:r}),O=y.url,S=y.useCors,!O){e.next=17;break}return n.url=O,n.useCors=S,e.abrupt("return");case 17:return e.next=19,Object(Cn.b)({TOSStatus:i,subscriptionId:d||o,license:p||a,editorialUseOnly:c,mediaSize:r,imageId:s});case 19:w=e.sent,n.url=w.url,n.useCors=!0;case 22:case"end":return e.stop()}},e)})),Ve.apply(this,arguments)}function Ke(e){return Xe.apply(this,arguments)}function Xe(){return Xe=Fe(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l,s,f,d,p,h,b,m,g,v,y,O,S,w,j,T,E,C,k,x,P,_,I,N,M;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.subscriptionId,r=t.TOSStatus,o=t.editorialUseOnlyChecked,a=t.pages,i=t.downloadMetric,c=t.includeOriginal,u=t.maximizeSize,l=void 0!==u&&u,s=t.downloadId,f=t.gatekeeperUrls,Object(dt.f)(s,Ln.license.displayText),0!==a.length){e.next=4;break}return e.abrupt("return",t);case 4:d=t.getAllImages(),p=d.map(function(e){return e.fabricObject}),h=Object(dt.d)(n),b=h.get("license"),m=_e(p,h,l),g={},v=De(d),e.prev=11,v.s();case 13:if((y=v.n()).done){e.next=69;break}if(O=y.value,S=O.fabricObject.imageId,w=m[S],O.mediaSize=w,j=Object(dt.c)(S),T=j.redownloadId,_n.a.getLilSis().productDownloaded({products:[{product_id:S,download_context:{is_comp:"false",is_redownload:Boolean(T).toString()}}]}),!g[S]||g[S].mediaSize!==w){e.next=28;break}E=g[S],C=E.url,k=E.useCors,x=E.licensedImage,O.url=C,O.useCors=k,O.licensedImage=x,O.mediaSize=w,e.next=67;break;case 28:return e.prev=28,e.next=31,We({image:O,mediaSize:w,subscriptionId:n,license:b,TOSStatus:r,editorialUseOnlyChecked:o,gatekeeperUrls:f});case 31:e.next=39;break;case 33:throw e.prev=33,e.t0=e.catch(28),P=e.t0.message,e.t0.message="ImageLicenser: failed to license image",e.t0.trackjsMeta=[{key:"reason",value:P}],e.t0;case 39:return e.prev=39,e.prev=40,e.next=43,Ue({image:O,includeOriginal:c,subscriptionId:n,license:b,downloadMetric:i});case 43:e.next=57;break;case 45:if(e.prev=45,e.t1=e.catch(40),_=Array.isArray(f)&&f.map(function(e){return e.url}).indexOf(O.url)>-1,I=/\.shutterstock\.com/.test(O.url),!_||!I){e.next=56;break}return N=Object(jn.b)(O.url),O.overrideUrl=N,e.next=54,Ue({image:O,includeOriginal:c,subscriptionId:n,license:b,downloadMetric:i});case 54:e.next=57;break;case 56:throw e.t1;case 57:e.next=65;break;case 59:throw e.prev=59,e.t2=e.catch(39),M=e.t2.message,e.t2.message="ImageLicenser: failed to download image",e.t2.trackjsMeta=[{key:"gatewayMessage",value:M}],e.t2;case 65:t.debug&&t.debug.sample(On.a.LICENSE_IMAGE,O.fabricObject.id,O.licensedImage),ze(g,S,Ae(Ae({},O),{},{mediaSize:w}));case 67:e.next=13;break;case 69:e.next=74;break;case 71:e.prev=71,e.t3=e.catch(11),v.e(e.t3);case 74:return e.prev=74,v.f(),e.finish(74);case 77:return e.abrupt("return",t);case 78:case"end":return e.stop()}},e,null,[[11,71,74,77],[28,33],[39,59],[40,45]])})),Xe.apply(this,arguments)}function Ye(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function qe(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){Ye(c,r,o,a,i,"next",e)}function i(e){Ye(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function Ze(e){return Je.apply(this,arguments)}function Je(){return Je=qe(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.get("data"),r=n.backgroundImage,o=n.objects,a=o.slice(),r&&a.push(r),e.next=5,Object(Bn.a)(a);case 5:return i=e.sent,c={},c.fabricObjects=i,u=Object(Fn.a)(i),c.images=u.filter(function(e){return"editorImage"===e.type}).map(function(e){return{fabricObject:e}}),c.userImages=u.filter(function(e){var t=it.k.assetByImageId(e.imageId);return t&&(e.hiResImage=t.get("hiResImage")),"userImage"===e.type}),c.id=t.get("id"),e.abrupt("return",c);case 13:case"end":return e.stop()}},e)})),Je.apply(this,arguments)}function $e(){return Qe.apply(this,arguments)}function Qe(){return Qe=qe(regeneratorRuntime.mark(function e(){var t,n,r,o,a,i=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:{},!t.downloadMultipageSelected){e.next=8;break}return n=rt.default.evaluate(Tn.B.fabricPages),r=rt.default.evaluate(it.k.pages).toJS(),e.next=6,Promise.all(n.map(Ze));case 6:return o=e.sent,e.abrupt("return",r.map(function(e){return o.find(function(t){return t.id===e.id})}));case 8:return a=rt.default.evaluate(Tn.B.fabricActivePage),e.abrupt("return",Promise.all([Ze(a)]));case 10:case"end":return e.stop()}},e)})),Qe.apply(this,arguments)}function et(e){return"string"==typeof e&&(e=[e]),function(){return this.pages.reduce(function(t,n){var r=n[e[0]];return e[1]?t.concat(r.map(function(t){return Kt()(t,e[1])})):t.concat(r)},[])}}function tt(e){return nt.apply(this,arguments)}function nt(){return nt=qe(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object.create(zn),n.downloadId=Date.now(),t&&Object.keys(t).forEach(function(e){n[e]=t[e]}),n.pages){e.next=7;break}return e.next=6,$e(t);case 6:n.pages=e.sent;case 7:return n.isBasicImageDesign=rt.default.evaluate(Tn.B.isBasicImageDesign),e.abrupt("return",n);case 9:case"end":return e.stop()}},e)})),nt.apply(this,arguments)}var rt=n(1),ot=n(6),at=n(490),it=n(14),ct=n(19),ut=n(352),lt=n(896),st=n(2),ft=n(1609),dt=n(353),pt=n(382),ht={base64:!0},bt=n(379),mt=n(1614),gt=n.n(mt),vt=72,yt=n(491),Ot=n.n(yt),St=n(8),wt=n(1908),jt=n.n(wt),Tt=n(29),Et=n(805),Ct=n(43),kt=n(538),xt=n(18),Pt=window.sstkCdnPrefix||"",_t=function(e){return e.map(function(e){return e.join(" ")}).join(" ")},It=function(e){var t="bold"===e.fontWeight||700===e.fontWeight,n="italic"===e.fontStyle,r="".concat(Pt).concat(Tt.client.basePath,"assets/fonts/").concat(e.fontFamily,"/").concat(e.fontFamily.replace(" ","").replace("-",""));return t&&(r+="-Bold"),n&&(r+="-Italic"),t||n||(r+="-Regular"),r+=".woff",encodeURI(r)},Nt=function(e,t){var n=e.map(function(e){return e.slice(0)}),r={L:[1],M:[1],C:[1,3,5],S:[1,3],Q:[1,3],T:[1],A:[6]};return n.forEach(function(e){var n=e[0];if("z"!==n&&"Z"!==n){r[n].forEach(function(n){var r={x:e[n],y:e[n+1]},o=St.fabric.util.transformPoint(r,t);e[n]=o.x,e[n+1]=o.y})}}),_t(n)},Mt=function(e){if(e.toDataURL)return Object(lt.a)(e);if(e.src&&!RegExp(".svg","i").test(e.src))return Object(Ct.a)({url:e.src,dataType:"blob"});var t=document.createElement("canvas");return t.width=e.naturalWidth,t.height=e.naturalHeight,t.getContext("2d").drawImage(e,0,0,t.width,t.height),Object(lt.a)(t)},At=function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=function(e){n(e)},r.readAsArrayBuffer(e)})},Rt=function(){St.fabric.EditorArtboard.prototype.renderPdfKit=function(e){var t=new St.fabric.Color(this.fill);e.save(),this.transformPdf(e),e.opacity(this.opaciy),e.rect(-this.width/2,-this.height/2,this.width,this.height),e.fill(t._source.slice(0,3)),e.restore()},St.fabric.UserImage.prototype.renderPdfKit=function(){var e=K(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,c,u,l,s,f=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt(this._element);case 2:return r=e.sent,e.next=5,At(r);case 5:o=e.sent,o.toString=function(){return"image".concat(f.id)},a="",i=1,c=this.clippingPath,this.clippingPath&&this.clippingPath instanceof St.fabric.Path&&(i=this.clippingPath.scaleX,u=[i,0,0,i,-c.pathOffset.x*i,-c.pathOffset.y*i],a=Nt(this.clippingPath.path,u)),t.save(),this.transformPdf(t),l=Object(Et.b)({backgroundImage:n}),s=new St.fabric.Color(this.stroke),!this.strokeNofill&&this.hasStroke()&&(t.save(),t.lineWidth(this.strokeWidth*l/this.scaleX),this.clippingPath&&this.clippingPath instanceof St.fabric.Path?t.path(a):t.rect(-this.width/2,-this.height/2,this.width,this.height),this.strokeDashArray&&0!==this.strokeDashArray[0]&&0!==this.strokeDashArray[1]&&t.dash(this.strokeDashArray[0]*l/this.scaleX*this.strokeWidth,{space:this.strokeDashArray[1]*this.strokeWidth*l/this.scaleX}),t.stroke(s._source.slice(0,3)),t.restore()),this.clippingPath&&this.clippingPath instanceof St.fabric.Path?(t.path(a),t.clip()):this.hasCrop()&&(t.rect(-this.width/2,-this.height/2,this.width,this.height),t.clip()),t.image(o,-(this.cropX+this.width/2),-(this.cropY+this.height/2),{width:this.getElementWidth(),height:this.getElementHeight()}),t.restore();case 19:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),St.fabric.Object.prototype.transformPdf=function(e){var t=this.calcTransformMatrix();e.transform.apply(e,B(t))},St.fabric.Group.prototype.renderPdfKit=function(){var e=K(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.save(),r=0;case 2:if(!(r<this._objects.length)){e.next=8;break}return e.next=5,this._objects[r].renderPdfKit(t,n);case 5:r++,e.next=2;break;case 8:t.restore();case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}();var e={};St.fabric.EditorTextBox.prototype.renderTextPdf=function(){var t=K(regeneratorRuntime.mark(function t(n,r,o,a,i,c,u){var l,s,f,d,p,h,b,m,g,v,y,O,S,w,j,T,E,C,k;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l=this._getStyleDeclaration(o,a),s=this.getCompleteStyleDeclaration(o,a),f=new St.fabric.Color(s.fill),d=new St.fabric.Color(s.stroke),p=f._source[3]>0&&s.fill&&!s.nofill,(h=d._source[3]>0&&s.stroke&&s.strokeWidth&&!s.strokeNofill)||p){t.next=8;break}return t.abrupt("return");case 8:if(n.save(),!St.fabric.charWidthsCache.emoji[i]){t.next=26;break}return b=.97*this.__charBounds[o][a].width*1e3/(1e3+this.charSpacing),m=.0625*b*.97,g=Object(kt.c)(i),t.next=15,Object(xt.a)(g);case 15:return v=t.sent,t.next=18,Mt(v);case 18:return y=t.sent,t.next=21,At(y);case 21:O=t.sent,O.toString=function(){return"image".concat(i)},n.image(O,c,u-b+m,{width:b,height:b}),t.next=52;break;case 26:if(S=It(s),t.t0=e[S],t.t0){t.next=32;break}return t.next=31,jt.a.load(S);case 31:t.t0=t.sent;case 32:if(w=t.t0,e[S]=w,l&&l.deltaY&&(u+=l.deltaY),j=w.stringToGlyphs(i),1!==j.length||0!==j[0].index){t.next=48;break}if(E=It(L(L({},s),{},{fontFamily:"Noto Sans"})),t.t1=e[E],t.t1){t.next=43;break}return t.next=42,jt.a.load(E);case 42:t.t1=t.sent;case 43:C=t.t1,e[E]=C,T=C.getPath(i,c,u,s.fontSize),t.next=49;break;case 48:T=w.getPath(i,c,u,s.fontSize);case 49:k=T.toPathData(4),h&&(n.path(k),n.lineWidth(this.strokeWidth*Object(Et.b)({backgroundImage:r})/this.scaleX),n.lineJoin("round"),n.stroke(d._source.slice(0,3))),p&&(n.path(k),n.fill(f._source.slice(0,3)));case 52:n.restore();case 53:case"end":return t.stop()}},t,this)}));return function(e,n,r,o,a,i,c){return t.apply(this,arguments)}}(),St.fabric.EditorTextBox.prototype.renderLineAndBullet=function(){var e=K(regeneratorRuntime.mark(function e(t,n,r,o,a,i){var c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.renderTextLinePdf(t,n,r,o,a,i);case 2:if(!(c=this.getBulletText(i))){e.next=8;break}return u=this.fontSize,a-=this.fontSize*this._fontSizeFraction,e.next=8,this.renderTextPdf(n,t,i,0,c,o-u,a);case 8:case"end":return e.stop()}},e,this)}));return function(t,n,r,o,a,i){return e.apply(this,arguments)}}(),St.fabric.EditorTextBox.prototype.renderTextLinePdf=function(){var e=K(regeneratorRuntime.mark(function e(t,n,r,o,a,i){var c,u,l,s,f,d,p,h,b,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=this.getHeightOfLine(i),u=-1!==this.textAlign.indexOf("justify"),f="",p=0,h=!1,a-=c*this._fontSizeFraction/this.lineHeight,b=0,m=r.length-1;case 7:if(!(b<=m)){e.next=25;break}if(h=b===m||this.charSpacing,f+=r[b],d=this.__charBounds[i][b],0===p?(o+=d.kernedWidth-d.width,p+=d.width):p+=d.kernedWidth,u&&!h&&this._reSpaceAndTab.test(r[b])&&(h=!0),(St.fabric.charWidthsCache.emoji[f]||b!==m&&St.fabric.charWidthsCache.emoji[r[b+1]])&&(h=!0),h||(l=l||this.getCompleteStyleDeclaration(i,b),s=this.getCompleteStyleDeclaration(i,b+1),h=this._hasStyleChanged(l,s)),!h){e.next=22;break}return e.next=18,this.renderTextPdf(n,t,i,b,f,o,a,c);case 18:f="",l=s,o+=p,p=0;case 22:b++,e.next=7;break;case 25:case"end":return e.stop()}},e,this)}));return function(t,n,r,o,a,i){return e.apply(this,arguments)}}(),St.fabric.EditorTextBox.prototype.renderTextDecorationPdf=function(e,t,n,r){if(this[n]||this.styleHas(n))for(var o=this._getWidthOfCharSpacing(),a=this._getLeftOffset(),i=this._getTopOffset(),c=0,u=this._textLines.length;c<u;c++){var l=this.getHeightOfLine(c);if(this[n]||this.styleHas(n,c)){for(var s=this._textLines[c],f=l/this.lineHeight,d=this._getLineLeftOffset(c),p=0,h=0,b=this.getValueOfPropertyAt(c,0,n),m=this.getValueOfPropertyAt(c,0,r),g=void 0,v=void 0,y=0,O=s.length;y<O;y++){var S=this.__charBounds[c][y];if(g=this.getValueOfPropertyAt(c,y,n),v=this.getValueOfPropertyAt(c,y,r),(g!==b||v!==m)&&h>0){b&&m&&e.rect(a+d+p,i+f*(1-this._fontSizeFraction)+this.offsets[n]*this.fontSize,h,this.fontSize/15);var w=new St.fabric.Color(m);e[r](w._source.slice(0,3)),p=S.left,h=S.width,b=g,m=v}else h+=S.kernedWidth}if(g&&v){e.rect(a+d+p,i+f*(1-this._fontSizeFraction)+this.offsets[n]*this.fontSize,h-o,this.fontSize/15);var j=new St.fabric.Color(v);e[r](j._source.slice(0,3))}i+=l}else i+=l}},St.fabric.EditorTextBox.prototype.renderPdfKit=function(){var e=K(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,c,u,l,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.save(),this.transformPdf(t),r=0,o=this._getLeftOffset(),a=this._getTopOffset(),this.renderPdfTextLinesBackground(t,o,a),i=0,c=this._textLines.length;case 7:if(!(i<c)){e.next=20;break}return u=this.getHeightOfLine(i),l=u/this.lineHeight,s=this._getLineLeftOffset(i),this.renderTextDecorationPdf(t,n,"underline","stroke"),this.renderTextDecorationPdf(t,n,"underline","fill"),e.next=15,this.renderLineAndBullet(n,t,this._textLines[i],o+s,a+r+l,i);case 15:this.renderTextDecorationPdf(t,n,"linethrough","fill"),r+=u;case 17:i++,e.next=7;break;case 20:t.restore();case 21:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}(),St.fabric.EditorTextBox.prototype.renderPdfTextLinesBackground=function(e,t,n){if(this.textBackgroundColor||this.styleHas("textBackgroundColor"))for(var r=0,o=0,a=this._textLines.length;o<a;o++){var i=this.getHeightOfLine(o);if(this.textBackgroundColor||this.styleHas("textBackgroundColor",o)){for(var c=this._textLines[o],u=this._getLineLeftOffset(o),l=0,s=0,f=void 0,d=void 0,p=this.getValueOfPropertyAt(o,0,"textBackgroundColor"),h=this.getValueOfPropertyAt(o,0,"textBackgroundColorNofill"),b=0,m=c.length;b<m;b++){var g=this.__charBounds[o][b];if(f=this.getValueOfPropertyAt(o,b,"textBackgroundColor"),d=this.getValueOfPropertyAt(o,b,"textBackgroundColorNofill"),f!==p||d!==h){if(p&&!h){e.rect(t+u+s,n+r,l,i/this.lineHeight);var v=new St.fabric.Color(p);e.fill(v._source.slice(0,3))}s=g.left,l=g.width,p=f,h=d}else l+=g.kernedWidth}if(f&&!d){e.rect(t+u+s,n+r,l,i/this.lineHeight);var y=new St.fabric.Color(f);e.fill(y._source.slice(0,3)),e.fill()}r+=i}else r+=i}},St.fabric.EditorPath.prototype.renderPdfKit=function(e,t){var n=new St.fabric.Color(this.fill),r=new St.fabric.Color(this.stroke);e.save();var o=this.calcTransformMatrix(),a=St.fabric.util.multiplyTransformMatrices(o,[1,0,0,1,-this.pathOffset.x,-this.pathOffset.y]),i=Nt(this.path,a),c=this.strokeUniform?Object(Et.b)({backgroundImage:t}):1;!this.strokeNofill&&this.hasStroke()&&(e.lineWidth(this.strokeWidth*c),e.path(i),this.strokeDashArray&&0!==this.strokeDashArray[0]&&0!==this.strokeDashArray[1]&&e.dash(this.strokeDashArray[0]*c*this.strokeWidth,{space:this.strokeDashArray[1]*this.strokeWidth*c}),e.stroke(r._source.slice(0,3))),!this.nofill&&this.hasFill()&&(e.path(i),e.fill(n._source.slice(0,3))),e.restore()},St.fabric.Path.prototype.renderPdfKit=function(e,t){var n=this,r=new St.fabric.Color(this.fill),o=new St.fabric.Color(this.stroke),a=_t(this.path);e.save(),this.transformPdf(e),e.translate(-this.pathOffset.x,-this.pathOffset.y);var i=function(){var r=n.strokeUniform?Object(Et.b)({backgroundImage:t}):1;!n.strokeNofill&&n.hasStroke()&&(e.lineWidth(n.strokeWidth*r),e.path(a),n.strokeDashArray&&0!==n.strokeDashArray[0]&&0!==n.strokeDashArray[1]&&e.dash(n.strokeDashArray[0]*r/n.scaleX*n.strokeWidth,{space:n.strokeDashArray[1]*n.strokeWidth*r}),e.stroke(o._source.slice(0,3)))},c=function(){!n.nofill&&n.hasFill()&&(e.path(a),e.fill(r._source.slice(0,3)))};"stroke"===this.paintFirst?(i(),c()):(c(),i()),e.restore()},St.fabric.Rect.prototype.renderPdfKit=function(e,t){var n=this,r=new St.fabric.Color(this.fill),o=new St.fabric.Color(this.stroke);e.save(),this.transformPdf(e);var a=function(){var r=n.strokeUniform?Object(Et.b)({backgroundImage:t}):1;!n.strokeNofill&&n.hasStroke()&&(e.lineWidth(n.strokeWidth*r),e.rect(-n.width/2,-n.height/2,n.width,n.height),n.strokeDashArray&&0!==n.strokeDashArray[0]&&0!==n.strokeDashArray[1]&&e.dash(n.strokeDashArray[0]*r/n.scaleX*n.strokeWidth,{space:n.strokeDashArray[1]*n.strokeWidth*r}),e.stroke(o._source.slice(0,3)))},i=function(){!n.nofill&&n.hasFill()&&(e.rect(-n.width/2,-n.height/2,n.width,n.height),e.fill(r._source.slice(0,3)))};"stroke"===this.paintFirst?(a(),i()):(i(),a()),e.restore()}},Dt=n(163),Lt=function(){return n.e(301).then(n.bind(null,2745))},Gt=function(){return Lt().then(function(e){return new e({autoFirstPage:!1})})},Bt=function(){var e=Y(regeneratorRuntime.mark(function e(t,n,r,o){var a,i,c,u,l,s,f,d,p,h,b,m,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=rt.default.evaluate(Dt.c),i=n.fabricObjects,c=n.id,u=72/a,l=rt.default.evaluate(it.k.pageById(c)).toJS(),s=l.width,f=l.height,d=Math.floor(s*u),p=Math.floor(f*u),r.scaleDownLargePages&&(d>14400||p>14400)&&(d/=10,p/=10,u/=10),t.addPage({margins:0,size:[d,p]}),t.save(),t.switchToPage(o),r.withBleedBox&&(h=72/25.4*3,b=72/25.4*10,t.page.dictionary.data.BleedBox=[h,h,d-h,p-h],t.page.dictionary.data.TrimBox=[b,b,d-b,p-b]),t.scale(u),m=i.pop(),e.next=15,m.renderPdfKit(t);case 15:g=0;case 16:if(!(g<i.length)){e.next=22;break}return e.next=19,i[g].renderPdfKit(t,m);case 19:g++,e.next=16;break;case 22:t.restore();case 23:case"end":return e.stop()}},e)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),Ft=function(e){return new Promise(function(t){var n=e.pipe(gt()());n.on("finish",function(){t(n.toBlob("application/pdf"))})})},zt=function(){var e=Y(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return St.fabric.Object.prototype.transformPdf||Rt(),e.next=3,Gt();case 3:n=e.sent,r=Ft(n),o=t.pages,a=0;case 7:if(!(a<o.length)){e.next=13;break}return e.next=10,Bt(n,o[a],t,a);case 10:a++,e.next=7;break;case 13:return n.end(),e.abrupt("return",r);case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ut=Object(st.c)(Ot.a),Ht={convert:{displayText:Ut("step.convert")}},Wt=Object(dt.e)(Ht,te),Vt=n(21),Kt=n.n(Vt),Xt=n(1909),Yt=n.n(Xt),qt=n(500),Zt=n.n(qt),Jt=n(1689),$t=n(30),Qt=n(1896),en=n(785),tn=1e3,nn={ROUTE:"/editor/image/api/v1/designStateDownload"},rn=n(44),on=n(391),an=Object(st.c)(Ot.a),cn={download:{displayText:an("step.download")}},un=Object(dt.e)(cn,be),ln=n(223),sn=Object(st.c)(Ot.a),fn={publish:{displayText:sn("step.publish")}},dn=Object(dt.e)(fn,Oe),pn=n(1615),hn=n(1597),bn=n(1616),mn=n(225),gn=Object(st.c)(Ot.a),vn={share:{displayText:gn("step.share")}},yn=Object(dt.e)(vn,Te),On=n(903),Sn=n(69),wn=n.n(Sn),jn=n(98),Tn=n(17),En={small:0,medium:1,huge:2},Cn=n(804),kn=n(271),xn=n(117),Pn=n(806),_n=n(7),In=n(499),Nn=n.n(In),Mn=n(49),An=Nn()(),Rn=function(e,t,n,r,o){var a=null;try{a=rt.default.evaluate(kn.b.selectedFilter)}catch(e){}var i=Ne(),c=rt.default.evaluate(it.k.pages),u=rt.default.evaluate(it.k.activePage),l=rt.default.evaluate(xn.c.activePresetId),s=rt.default.evaluate(xn.c.defaultPresetId),f=rt.default.evaluate(xn.c.activePresetLabel),d=l!==s?f:void 0,p=it.k.pageAsset(u),h=-1,b=-1;p&&(h=p.get("width"),b=p.get("height"));var m=rt.default.evaluate(Tn.B.flattenAllTextObjects),g=Ie(m),v=g>0,y=m.length>0,O=m[m.length-1],S=rt.default.evaluate(Tn.B.flattenAllShapeObjects),w=rt.default.evaluate(Tn.B.flattenAllImages),j=S.length>0,T=S.length,E=rt.default.evaluate(Tn.B.flattenAllUserImages),C=rt.default.evaluate(Tn.B.flattenAllEditorImages),k=Object(ot.a)(),x=k.getBackgroundImage(),P=!!x,_=rt.default.evaluate(Tn.B.selectedTemplate),I=rt.default.evaluate(Tn.B.selectedTextTemplate),N=1;P&&(N=x._element.width*x.scaleX/h);var M=S.map(function(e){return e.name}).join(),A=w.map(function(e){return e.imageId}).join(),R=0;C.forEach(function(e){R+=e.timeTaken});var D=parseInt(h,10)*N,L=parseInt(b,10)*N,G=i.fileFormat,B=i.dpi,F=Boolean(k.ruler&&k.ruler.enabled),z=c.size>1?"multipage download":"singlepage download",U=rt.default.evaluate(Tn.B.hasFilterApplied),H=w.some(function(e){return e.clipPathObject&&e.clipPathObject.name}),W={"subscription id":parseInt(e,10),"last preset size":d,"original included":!!t,"original width":parseInt(h,10),"original height":parseInt(b,10),"resized width":D,"resized height":L,"resized doc":"".concat(D,"x").concat(L),scaled:N>1,"scale multiple":N,"total count of undo button selected":Pn.a.undoButtonUseCount,"total count of redo button selected":Pn.a.redoButtonUseCount,"total count of undo keyboard selected":Pn.a.keyboardUndoUseCount,"total count of redo keyboard selected":Pn.a.keyboardRedoUseCount,"has text":y,"has text - # of text boxes":m.length,"has shapes":j,"has shapes - # of shapes":T,"has emoji":v,"has emoji - # of emoji":g,"has shape crop":H,"shape types":M,"has editor images":C.length>0,"has editor images - #":C.length>0?C.length:0,"has user images":E.length>0,"has user images - #":E.length>0?E.length:0,"image ids":A,"export process":n,"export target":r,"download time":R,"rasterization time (estimate)":o-R,"total time taken":o,"applied brightness":rt.default.evaluate(Tn.B.brightnessIsApplied),"applied contrast":rt.default.evaluate(Tn.B.contrastIsApplied),"applied saturation":rt.default.evaluate(Tn.B.saturationIsApplied),"background removed":rt.default.evaluate(Tn.B.imagesHaveBackgroundRemoved),"file format":G,dpi:B,"ruler enabled":F,downloadType:z,"number of pages":c.size,"has filter applied":U,"last template applied":_.templateId,"last text template applied":I.templateId};a&&(W["has filter"]=Object(xt.m)(a),W["filter name"]=Object(xt.m)(a)?a:void 0),y&&(W["Font Size"]=O.fontSize,W["Font Type"]=O.fontFamily,W["has dropshadow"]=!!O.shadow,W["has outline"]=!O.strokeNofill),P&&1===c.size&&(W["crop offset x"]=.5-x.left/D,W["crop offset y"]=.5-x.top/L),_n.b.track("initiated download",W),_n.b.people.increment("downloads")},Dn=Object(st.c)(Ot.a),Ln={license:{displayText:Dn("step.license")}},Gn=Object(dt.e)(Ln,Ke),Bn=n(801),Fn=n(181),zn={getAllImages:et("images"),getAllImageIds:et(["images","fabricObject.imageId"]),getRenderedCanvases:et("renderedCanvas"),getRenderedBlobs:et("renderedBlob")};n.d(t,"a",function(){return u}),n.d(t,"c",function(){return Wt}),n.d(t,"d",function(){return un}),n.d(t,"e",function(){return dn}),n.d(t,"f",function(){return pn.b}),n.d(t,"g",function(){return yn}),n.d(t,"b",function(){return On.b}),n.d(t,"h",function(){return Gn}),n.d(t,"i",function(){return tt});pn.b,On.b},function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){function i(e){r(u,o,a,i,c,"next",e)}function c(e){r(u,o,a,i,c,"throw",e)}var u=e.apply(t,n);i(void 0)})}}function a(e){var t=e.toLowerCase();if(-1!==t.indexOf("chrome")||-1===t.indexOf("apple")||-1===t.indexOf("safari"))return!1;var n=t.match(/version\/([0-9]+)\.([0-9]+)/);if(null!=n&&n.length>=3){var r=parseInt(n[1],10),o=parseInt(n[2],10);if(!isNaN(r)&&r>10)return!1;if(!isNaN(r)&&!isNaN(o)&&r>=10&&o>=1)return!1}return!0}function i(e,t){return c.apply(this,arguments)}function c(){return c=o(regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.a)(t,n);case 3:r=e.sent,o=window.onbeforeunload,window.onbeforeunload=null,window.location=r,setTimeout(function(){window.onbeforeunload=o},100),e.next=13;break;case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case"end":return e.stop()}},e,null,[[0,10]])})),c.apply(this,arguments)}t.b=a,t.a=i;var u=n(1613)},,,,function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){function i(e){r(u,o,a,i,c,"next",e)}function c(e){r(u,o,a,i,c,"throw",e)}var u=e.apply(t,n);i(void 0)})}}function a(e,t){return i.apply(this,arguments)}function i(){return i=o(regeneratorRuntime.mark(function e(t,n){var r,o,a,i,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=n instanceof Blob?n:c.a.convert(n),o=new FormData,o.append("file",r),a="".concat(s).concat(t),e.next=6,Object(l.a)({url:a,data:o,type:"POST",dataType:"json",contentType:!1,processData:!1});case 6:return i=e.sent,u=i.imageUrl,e.abrupt("return",u);case 9:case"end":return e.stop()}},e)})),i.apply(this,arguments)}t.a=a;var c=n(352),u=n(18),l=n(43),s=Object(u.e)("safariUpload")},,function(e,t,n){"use strict";function r(){for(var e=new Int32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)n=1&n?3988292384^n>>>1:n>>>1;e[t]=n}return e}function o(e){var t=-1;D||(D=r());for(var n=0;n<e.length;n++)t=D[255&(t^e[n])]^t>>>8;return-1^t}function a(e,t){var n=e.slice(0,33);return new Promise(function(r,o){var a=new FileReader;a.onload=function(){var n=new Uint8Array(a.result),o=e.slice(33),c=i(n,t,e.type);r(new Blob([c,o],{type:e.type}))},a.onerror=o,a.readAsArrayBuffer(n)})}function i(e,t,n){if(-1!==n.indexOf("image/jpeg"))return e[13]=1,e[14]=t>>8,e[15]=255&t,e[16]=t>>8,e[17]=255&t,e;if(-1!==n.indexOf("image/png")){var r=new Uint8Array(13),a=new Uint8Array(4);a[0]=0,a[1]=0,a[2]=0,a[3]=9,t*=39.3701,r[0]="p".charCodeAt(0),r[1]="H".charCodeAt(0),r[2]="Y".charCodeAt(0),r[3]="s".charCodeAt(0),r[4]=t>>>24,r[5]=t>>>16,r[6]=t>>>8,r[7]=255&t,r[8]=r[4],r[9]=r[5],r[10]=r[6],r[11]=r[7],r[12]=1;var i=o(r),c=new Uint8Array(4);c[0]=i>>>24,c[1]=i>>>16,c[2]=i>>>8,c[3]=255&i;var u=new Uint8Array(54);return u.set(e,0),u.set(a,33),u.set(r,37),u.set(c,50),u}}function c(e){return f(e)||s(e)||l(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=e.width,n=e.height,r=e.zoom,o=e.fabricObjects,a=void 0===o?[]:o,i=J.fabric.util.createCanvasElement();i.width=t,i.height=n;var u=new J.fabric.StaticCanvas(i,{enableRetinaScaling:!1,renderOnAddRemove:!1}),l=(u.backgroundImage=a.pop())||{};l.canvas=u,u.add.apply(u,c(a)),u.viewportTransform=[r,0,0,r,0,0];var s=Object($.a)();return u.vignetteAsset=s.vignetteAsset,l.renderCheckboard=!1,u.renderAllExport(),l.renderCheckboard=!0,u.lowerCanvasEl}function h(e,t){var n=e.fabricObjects,r=L.default.evaluate(Z.k.pageById(e.id)).toJS(),o=r.width,a=r.height,i=Object(Q.a)(o,a,t.dpi),c=i.zoom,u=i.width,l=i.height,s=i.dpi;return t.dpi=s,p({width:u,height:l,zoom:c,fabricObjects:n})}function b(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){b(c,r,o,a,i,"next",e)}function i(e){b(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function g(e,t,n,r){return v.apply(this,arguments)}function v(){return v=m(regeneratorRuntime.mark(function e(t,n,r,o){var i,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==X.c.tiff){e.next=2;break}return e.abrupt("return",new Promise(function(e,n){z.a.setErrorHandler(n),z.a.toBlob(t,e,{dpi:o})}).finally(function(){z.a.setErrorHandler(null)}));case 2:return i=n===X.c.pdf?X.c.jpg:n,e.next=5,Object(U.a)(t,i,r);case 5:return c=e.sent,e.abrupt("return",a(c,o));case 7:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function y(e){return O.apply(this,arguments)}function O(){return O=m(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.width,r=t.height,o=t.licensedImage,a=o.naturalWidth||o.width,i=o.naturalHeight||o.height,c=n<a||r<i,u=n>0&&r>0,!c||!u){e.next=10;break}return e.next=8,Object(G.a)(o,{width:n,height:r});case 8:return l=e.sent,e.abrupt("return",{resizedEl:l,resized:!0});case 10:return e.abrupt("return",{resizedEl:o,resized:!1});case 11:case"end":return e.stop()}},e)})),O.apply(this,arguments)}function S(e,t,n){return t.debug?function(r){return n(r).then(function(n){return n&&n.images&&n.images.forEach(function(n){var r=n.fabricObject;t.debug.sample(e,r.id,r._element)}),n})}:n}function w(e){var t=e.getObjectScaling(),n=e._element.naturalWidth||e._element.width,r=e._element.naturalHeight||e._element.height;return{width:Math.floor(n*t.scaleX),height:Math.floor(r*t.scaleY)}}function j(e){return e.reduce(function(e,t){var n=t.hiResImage,r=t.imageId,o=w(t),a=o.width,i=o.height,c=n||t._element,u=c.naturalWidth||c.width;return e[r]||(e[r]={originalAsset:c,sizes:[]}),e[r].sizes.push({ratio:u/a,width:a,height:i}),e},{})}function T(e){e.sort(function(e,t){return e.ratio-t.ratio});var t=ne[0],n=ne.slice(1).map(function(n){var r=e.find(function(e){return e.ratio>=t&&e.ratio<n});return t=n,r}).filter(function(e){return!!e});return n.sort(function(e,t){return e.finalSize-t.finalSize}),n}function E(e){return C.apply(this,arguments)}function C(){return C=m(regeneratorRuntime.mark(function e(t){var n,r,o,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.images,e.next=3,Promise.all(n.map(function(){var e=m(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u,l,s,f,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.fabricObject,r=t.licensedImage){e.next=3;break}throw new Error("Render error: Missing image ".concat(n.imageId));case 3:return o=n.imageId,a=n.getObjectScaling(),i=n._element.naturalWidth||n._element.width,c=n._element.naturalHeight||n._element.height,u=Math.floor(i*a.scaleX),l=Math.floor(c*a.scaleY),e.next=11,y({width:u,height:l,licensedImage:r});case 11:s=e.sent,f=s.resizedEl,d=s.resized,n._imageId=o,n.swapElement(f,d);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:return r=t.userImages,o=j(r),Object.keys(o).forEach(function(e){o[e].sizes=T(o[e].sizes)}),a=Object.keys(o).map(function(e){var t=o[e],n=Promise.resolve({resizedEl:t.originalAsset}),r=t.sizes;return 0===r.length?n:(r.forEach(function(e,o){n=n.then(function(n){var a=n.resizedEl;return o>0&&(r[o-1].resizedEl=a),y({width:e.width,height:e.height,licensedImage:t.originalAsset})})}),n.then(function(e){var t=e.resizedEl;r[r.length-1].resizedEl=t}))}),e.next=9,Promise.all(a);case 9:return r.forEach(function(e){var t=e.hiResImage,n=e.imageId,r=o[n].sizes,a=t||e._element,i=w(e),c=i.width,u=r.find(function(e){return e.width<c}),l=r.indexOf(u),s=l>0?r[l-1]:-1===l?r[r.length-1]:null;!s&&t?e.swapElement(a,!1):s&&e.swapElement(s.resizedEl,c===s.width),t&&(e._imageId=n,e._hasSwapped=!0)}),e.abrupt("return",t);case 11:case"end":return e.stop()}},e)})),C.apply(this,arguments)}function k(e){e.applyFilters(e.filters,!0)}function x(e){return e.images.forEach(function(e){return k(e.fabricObject)}),e.userImages.filter(function(e){return!0===e._hasSwapped}).forEach(k),e}function P(e){return _.apply(this,arguments)}function _(){return _=m(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(W.a)("page_".concat(Date.now()),t.renderedBlob);case 2:n=e.sent,t.imageUrl=n;case 4:case"end":return e.stop()}},e)})),_.apply(this,arguments)}function I(e){var t=e.images,n=e.userImages;t.forEach(function(e){var t=e.fabricObject,n=e.licensedImage;if(!n)throw new Error("Render error: Missing image ".concat(t.imageId));var r=t.imageId;t._imageId=r,t.swapElement(n,!1)}),n.forEach(function(e){var t=e.hiResImage,n=e.imageId;t&&(e.swapElement(t,!1),e._imageId=n,e._hasSwapped=!0)})}function N(e){return M.apply(this,arguments)}function M(){return M=m(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pages,n.forEach(I),n.forEach(x),e.abrupt("return",t);case 4:case"end":return e.stop()}},e)})),M.apply(this,arguments)}function A(e){return R.apply(this,arguments)}function R(){return R=m(regeneratorRuntime.mark(function e(t){var n,r,o,a,i,c,u;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.downloadId,r=t.pages,o=t.fileFormat,a=t.exportFormat,i=t.imageQuality||L.default.evaluate(B.a.imageQuality),Object(K.f)(n,te.render.displayText),c=S(H.a.RESIZE_IMAGE,t,E),u=S(H.a.FILTER_IMAGE,t,x),e.next=7,Promise.all(r.map(function(){var e=m(regeneratorRuntime.mark(function e(n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(n);case 2:return u(n),r=h(n,t),n.renderedCanvas=r,e.next=7,g(r,X.c[o],i,t.dpi);case 7:return n.renderedBlob=e.sent,e.abrupt("return","url"===a?P(n):n);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 7:return e.abrupt("return",t);case 8:case"end":return e.stop()}},e)})),R.apply(this,arguments)}var D,L=n(1),G=n(490),B=n(223),F=n(1910),z=n.n(F),U=n(896),H=n(903),W=n(1613),V=n(2),K=n(353),X=n(379),Y=n(491),q=n.n(Y),Z=n(14),J=n(8),$=n(6),Q=n(1735);n.d(t,"a",function(){return N});var ee=Object(V.c)(q.a),te={render:{displayText:ee("step.render")}},ne=[2,4,8,16,32,64,1e4];t.b=Object(K.e)(te,A)},function(e,t,n){"use strict";function r(e){for(var t=e.split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if("access_token"===decodeURIComponent(r[0]))return decodeURIComponent(r[1])}return""}function o(e){return new Promise(function(t,n){if(e)return t({accessToken:e});var o=new c.a({clientId:l.client.cloudStorage.dropbox.clientId}),a=Object(u.e)("publishVoidCallback"),i="https://".concat(window.location.host).concat(a),f=o.getAuthenticationUrl(i);s=window.open(f,"Dropbox Auth","width=800,height=600,status=yes,scrollbars=yes,resizable=yes");var d=0,p=window.setInterval(function(){try{if(s&&s.location.href.indexOf(i)>-1){var o=s.location.href.split("#")[1];e=r(o);var a={accessToken:e};window.clearInterval(p),t(a)}else s&&s.closed?(window.clearInterval(p),n("dropbox auth window closed")):(d+=1)>100&&(window.clearInterval(p),n("dropbox auth timeout"))}catch(e){}},300)})}function a(e,t,n){var r=new c.a({accessToken:t}),o={contents:e,path:"/".concat(n),autorename:!0,mute:!1,mode:{".tag":"add"}};return r.filesUpload(o)}t.a=o,t.b=a;var i=n(1911),c=n.n(i),u=n(18),l=n(29),s=(n.n(l),null)},,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e,t){if(e.colorEdges||(e.colorEdges={}),t.colorEdges||(t.colorEdges={}),void 0===e.colorEdges[t.id]||void 0===t.colorEdges[e.id]){var n=Math.abs(e.mp[0]-t.mp[0])+Math.abs(e.mp[1]-t.mp[1])+Math.abs(e.mp[2]-t.mp[2]);t.colorEdges[e.id]=n,e.colorEdges[t.id]=n}return e.colorEdges[t.id]}},,,function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){return l(e)||u(e,t)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function l(e){if(Array.isArray(e))return e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){d(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n(0),h=n.n(p),b=n(4),m=n.n(b),g=n(24),v=(n.n(g),Object(g.makeStyles)({overlayContainer:{position:"relative",display:"inline-flex",justifyContent:function(e){return e.align},alignItems:function(e){return e.align},"&:hover":{"& $overlay":{display:"flex"}}},isVisible:{},fullHeight:{},overlay:{bottom:function(e){var t=e.bottom;return void 0===t?"unset":t},right:function(e){var t=e.right;return void 0===t?"unset":t},left:function(e){var t=e.left;return void 0===t?"unset":t},top:function(e){var t=e.top;return void 0===t?"unset":t},position:"absolute",display:"none","&$isVisible":{display:"flex"},"&$fullHeight":{width:"100%",height:"100%"}}})),y=function(e,t){return function(n){var a,i=n.alwaysVisible,c=void 0!==i&&i,u=n.fullHeight,l=void 0!==u&&u,s=n.componentProps,b=n.overlayProps,g=n.position,y=void 0===g?{}:g,O=n.align,S=void 0===O?"flex-end":O,w=v(f(f({},y),{},{align:S})),j=Object(p.useState)(!1),T=o(j,2),E=T[0],C=T[1];return h.a.createElement("div",{className:w.overlayContainer},h.a.createElement(t,s),h.a.createElement("div",{className:m()(w.overlay,(a={},d(a,w.isVisible,c||E),d(a,w.fullHeight,l),a))},h.a.createElement(e,r({setVisible:C},b))))}};t.a=y},,,,,,,function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}var l=n(0),s=n.n(l),f=n(1677),d=n(24),p=n(224),h=n(289),b=n.n(h),m=n(960),g=n.n(m),v=n(189),y=Object(d.makeStyles)(function(e){var t=e.palette,n=e.spacing,r=e.sizes;return{button:{padding:0,borderRadius:"50%",minWidth:n(r.m),height:n(r.m),display:"flex",background:t.primary.main,"&:hover":{background:Object(p.fade)(t.primary.main,.6)},"& svg":{fill:t.primary.contrastText}}}}),O=function(e){var t=e.onClick,n=y();return s.a.createElement(b.a,{size:"small",onClick:t,className:n.button},s.a.createElement(v.a,{size:16,icon:g.a}))},S=O,w=function(){var e=Object(l.useState)(null),t=r(e,2),n=t[0],o=t[1];return{open:Boolean(n),anchorEl:n,handleOnClose:function(e){e&&e.stopPropagation(),o(null)},handleOnClick:function(e){e.stopPropagation(),o(e.currentTarget)}}},j=w,T=function(e){var t=e.optionOnClickArgs,n=e.options,r=e.setVisible,o=j(),a=o.open,i=o.anchorEl,c=o.handleOnClose,u=o.handleOnClick;return s.a.createElement(s.a.Fragment,null,s.a.createElement(S,{onClick:function(e){r(!0),u(e)}}),s.a.createElement(f.a,{open:a,options:n,anchorEl:i,onClose:function(e){r(!1),c(e)},optionOnClickArgs:t}))};t.a=T},,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(0),a=n.n(o),i=n(4),c=n.n(i),u=n(24),l=n(266),s=n.n(l),f=n(908),d=n.n(f),p=n(351),h=n.n(p),b=n(373),m=n.n(b),g=n(486),v=Object(u.makeStyles)(function(e){var t=e.palette,n=e.spacing,r=e.dimension,o=e.sizes;return{slidingRightPanelWithOverlay:{position:"absolute",right:0,left:0,top:0,zIndex:1100,opacity:0,pointerEvents:"none",width:"100vw",height:"100vh",overflow:"hidden"},preview:{marginRight:300,position:"absolute",top:0,bottom:0,left:0,minHeight:"100vh",width:"calc(100% - ".concat(300,"px)"),display:"flex",justifyContent:"center",alignItems:"center"},popoverPaper:{height:"100vh",overflowY:"auto",overflowX:"hidden",boxSizing:"border-box",position:"absolute",top:0,bottom:0,right:0,margin:0,width:300,borderRadius:0,zIndex:1},rootBox:{position:"relative"},closeButton:{top:n(o.m),right:n(o.m),position:"absolute",width:r(o.m),height:r(o.m)},darkLayer:{top:0,bottom:0,width:"100vw",minHeight:"100vh",position:"absolute",backgroundColor:t.background.scrim,transition:"opacity linear 0.5s"},visible:{opacity:1,pointerEvents:"auto"}}}),y=function(e){var t=e.a11yCloseTitle,n=void 0===t?"Close panel":t,o=e.panel,i=e.isOpen,u=e.onClose,l=e.preview,f=v();return a.a.createElement("div",{className:c()(f.slidingRightPanelWithOverlay,r({},f.visible,i))},i&&l&&a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:f.darkLayer}),a.a.createElement("div",{className:f.preview},l)),a.a.createElement(d.a,{direction:"left",in:i,mountOnEnter:!0,unmountOnExit:!0},a.a.createElement(h.a,{className:f.popoverPaper},a.a.createElement(s.a,{p:1.5,pt:4.5,className:f.rootBox},o,a.a.createElement(m.a,{title:n,className:f.closeButton,onClick:u},a.a.createElement(g.a,{icon:"close",size:24,color:"secondary"}))))))};n.d(t,!1,function(){return y});t.a=y},,,function(e,t,n){"use strict";t.a={sizes:{xxs:.125,xs:.25,s:.5,base:1,m:1.5,xm:2,l:2.25,xl:3,xxl:4.5,xxxl:6,xxxxl:8.5},typography:{button:{textTransform:"none"},fontFamily:"Roboto, sans-serif",fontSize:16,h1:{lineHeight:1.5,fontSize:"1.875rem"},h2:{lineHeight:1.5,fontSize:"1.25rem"},h3:{lineHeight:1.5,fontSize:"1.125rem"},h4:{lineHeight:1.5,fontSize:"1rem"},h5:{lineHeight:1.5,fontSize:"0.875rem"},h6:{lineHeight:1.5,fontSize:"0.75rem"}},editor:{border:{default:"1px solid rgba(12, 18, 28, 0.12)"},shadow:{default:"0px 2px 4px 0px rgba(12, 18, 28, 0.12)",top:"0px -2px 4px 0px rgba(12, 18, 28, 0.12)"}},spacing:function(e){return"".concat(e,"rem")},dimension:function(e){return"".concat(e,"rem")},props:{MuiButton:{disableElevation:!0},MuiButtonBase:{disableRipple:!0}},overrides:{MuiPaper:{elevation8:{boxShadow:"0px 2px 4px 0px rgba(12, 18, 28, 0.13)"}},MuiOutlinedInput:{input:{padding:"11.5px 8.5px"}},MuiSelect:{select:{"&:focus":{backgroundColor:"inherit"}}},MuiMenuItem:{dense:{lineHeight:1.5,fontSize:"0.875rem",minHeight:"auto","& a":{width:"100%",color:"currentColor",textDecoration:"none"}}}}}},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(5),i=n.n(a),c=n(4),u=n.n(c),l=n(373),s=n.n(l),f=n(486),d=n(24),p=(n.n(d),Object(d.makeStyles)(function(e){var t=e.spacing,n=e.sizes;return{closeButton:{position:"absolute"},"size-l":{right:t(n.l),top:t(n.l)},"size-m":{right:t(n.m),top:t(n.m)}}})),h={l:"l",m:"m"},b={l:24,m:20},m=function(e){var t=e.onClick,n=e.className,r=e.closeButtonA11y,a=e.color,i=void 0===a?"secondary":a,c=e.size,l=void 0===c?"l":c,d=p();return o.a.createElement(s.a,{onClick:t,title:r,className:u()(d.closeButton,d["size-".concat(h[l])],n)},o.a.createElement(f.a,{icon:"close",size:b[l],color:i}))};m.propTypes={size:i.a.oneOf(Object.keys(h))},t.a=m},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(47),i=(n.n(a),n(24)),c=(n.n(i),n(771)),u=n.n(c),l=n(152),s=n(81),f=Object(i.makeStyles)({textInput:{marginBottom:12,fontSize:12}}),d=function(e){var t=e.label,n=e.setLabel,r=e.onConfirm,i=e.error,c=e.placeholder,d=Object(a.useTranslation)(),p=d.t,h=f(),b=function(e){e.keyCode===l.e&&r()};return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{value:t,onKeyDown:b,className:h.textInput,placeholder:p(c),onChange:function(e){return n(e.target.value)}}),i&&o.a.createElement(s.a,{size:"s",color:"error"},p(i)))};t.a=d},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){i(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,o=u(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function u(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}var l=n(0),s=n.n(l),f=n(2267),d=n.n(f),p=n(47),h=n(24),b=n(266),m=n.n(b),g=n(81),v=n(763),y=n(765),O=n(1636),S=n(559),w=Object(h.makeStyles)(function(e){var t=e.palette,n=e.sizes,r=e.spacing;return{tooltip:{padding:r(n.m),background:t.accent.main,width:324,borderRadius:r(n.s)},tooltipFooter:{marginTop:r(n.s),display:"flex",alignItems:"center",justifyContent:"space-between"},close:{right:14,top:r(n.m)}}}),j=function(e){var t=e.size,n=e.step,o=e.index,a=e.closeProps,i=e.continuous,c=e.isLastStep,u=e.tooltipProps,l=e.primaryProps,f=Object(p.useTranslation)(),d=f.t,h=w(),b=Object(y.a)(),j=o+1;return s.a.createElement(v.a,{theme:b},s.a.createElement("aside",r({},u,{className:h.tooltip}),s.a.createElement(m.a,{mb:.5},s.a.createElement(g.a,{weight:"bold"},n.title)),s.a.createElement(g.a,null,n.content),i&&s.a.createElement("footer",{className:h.tooltipFooter},s.a.createElement(g.a,null,d("onboarding.step-count",{STEP:j,TOTAL_STEPS:t})),s.a.createElement(S.a,l,d(c?"action.done":"onboarding.next"))),s.a.createElement(O.a,r({},a,{color:"primary",className:h.close}))))},T=j,E={offset:20,disableBeacon:!0},C=function(e){var t=e.steps,n=e.isTourActive,r=e.continuous,o=void 0===r||r,i=e.endTourOnCloseEvent,u=Object(h.useTheme)(),l=Object(p.useTranslation)(),f=l.t,b=t.reduce(function(e,t){var n=t.title,r=t.content,o=c(t,["title","content"]);return e.push(a(a({title:f(n),content:f(r)},E),o)),e},[]);return s.a.createElement(d.a,{continuous:o,run:n,tooltipComponent:T,callback:i,steps:b,styles:{options:{overlayColor:"transparent",arrowColor:u.palette.accent.main,zIndex:2e3}},floaterProps:{disableAnimation:!0,styles:{arrow:{length:8,spread:20}}}})};t.a=C},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(1635),o=n(285),a=n.n(o),i=a()({palette:{type:"light",primary:{main:"#0c121cde"},accent:{main:"#0070f0",secondary:"#ffb300",contrastText:"#FFFFFF",secondaryContrastText:"#000000"},contextBar:{main:"#ffffff",textPalette:{primary:"rgba(12, 18, 28, 0.87)",secondary:"rgba(12, 18, 28, 0.60)",disabled:"rgba(12, 18, 28, 0.38)",dividers:"rgba(12, 18, 28, 0.12)"}},header:{main:"#292F38",contrastText:"rgba(255, 255, 255, 0.5)"},text:{primary:"rgba(12, 18, 28, 0.87)",secondary:"rgba(12, 18, 28, 0.60)",disabled:"rgba(12, 18, 28, 0.38)",dividers:"rgba(12, 18, 28, 0.12)",link:"#0070f0",error:"#F8422D"},overlay:{main:"#F5F4F3"},border:{main:"rgba(12, 18, 28, 0.12)"},background:{paper:"#ffffff",main:"rgba(255, 255, 255, 0.7)",secondary:"rgba(12, 18, 28, 0.6)",disabled:"rgba(12, 18, 28, 0.12)",scrim:"rgba(22,25,30,0.7)"},doneButton:{main:"#F54336",contrastText:"#ffffff"},ruler:{rulerColor:"transparent",tickColor:"rgba(12, 18, 28, 0.12)",labelColor:"rgba(12, 18, 28, 0.6)",cornerSquareColor:"rgba(12, 18, 28, 0.12)"},primaryActionButton:{main:"#F54336",contrastText:"#ffffff"},navButton:{main:"#33363e",contrastText:"#ffffff"},pageLoading:{color:"#fff",scrim:"rgba(12, 18, 28, 0.6)"},paperLoading:{color:"rgba(12, 18, 28, 0.87)"}}},r.a)},,,,,,,,,,function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(47),i=(n.n(a),n(24)),c=(n.n(i),n(1959)),u=n.n(c),l=n(773),s=n.n(l),f=n(189),d=Object(i.makeStyles)(function(e){return{menuItem:{fontSize:14},paper:{borderRadius:(0,e.spacing)(e.sizes.base)}}}),p={vertical:"top",horizontal:"right"},h={vertical:"bottom",horizontal:"right"},b=function(e){return e.preventDefault()},m=function(e){var t=e.open,n=e.onClose,r=e.options,i=e.anchorEl,c=e.optionOnClickArgs,l=e.anchorOrigin,m=void 0===l?p:l,g=e.transformOrigin,v=void 0===g?h:g,y=d(),O=Object(a.useTranslation)(),S=O.t;return o.a.createElement(u.a,{PaperProps:{classes:{rounded:y.paper}},anchorOrigin:m,transformOrigin:v,anchorEl:i,open:t,onClose:n,onMouseDown:function(e){2===e.button&&n(e)},onContextMenu:b},r.map(function(e){var t=e.disabled,r=e.onClick,a=e.label,i=e.icon;return o.a.createElement(s.a,{classes:{root:y.menuItem},key:a,disabled:t,onClick:function(e){e.preventDefault(),e.stopPropagation(),r(c),n(e)}},!!i&&o.a.createElement(f.a,{icon:i}),S(a))}))};t.a=m},function(e,t,n){"use strict";var r=n(7),o=n(0),a=(n.n(o),function(){}),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object(o.useCallback)(function(){return t&&r.a.click(t,n),e.apply(void 0,arguments)},[e,t,n])};t.a=i},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"f",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"a",function(){return l}),n.d(t,"g",function(){return s}),n.d(t,"h",function(){return f});var r=function(e){return e.get("theming")},o=function(e){return r(e).headerColor},a=function(e){return r(e).navButtonColor},i=function(e){return r(e).doneButtonColor},c=function(e){return r(e).primaryActionColor},u=function(e){return r(e).primaryActionButtonColor},l=function(e){return r(e).accentColor},s=function(e){return r(e).toolbarColor},f=function(e){return r(e).type}},function(e,t,n){"use strict";var r=n(37),o=(n.n(r),n(231)),a=n(1592),i=function(){var e=Object(r.useSelector)(o.u),t=Object(r.useSelector)(o.p),n=Object(r.useSelector)(o.f),i=Object(r.useSelector)(o.k),c=Object(r.useSelector)(o.l);return t?a.b:e?a.c:0===n?a.d:c?a.f:i?a.a:a.e};t.a=i},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(37),i=n(47),c=n(4),u=n.n(c),l=n(24),s=n(266),f=n.n(s),d=n(189),p=n(14),h=n(81),b=n(1682),m=n(1683),g=n(955),v=n.n(g),y=n(290),O=function(e){var t=e.children,n=e.href,r=e.target,a=e.onClick,i=e.disabled;return o.a.createElement(y.a,{disabled:i,size:"m",blockLevel:!0,href:n,target:r,onClick:a},t)},S=O,w=Object(l.makeStyles)(function(e){var t=e.sizes,n=e.spacing;return{alertText:{fontSize:"0.75rem"},alertTitle:{marginBottom:n(t.xxs),display:"flex",alignItems:"center"},icon:{marginRight:n(t.s),marginBottom:n(t.s),color:"#FFB300"}}}),j=function(){var e=Object(i.useTranslation)(),t=e.t,n=Object(a.useSelector)(p.r),r=w();return o.a.createElement(o.a.Fragment,null,o.a.createElement(b.a,{suggested:"png",betaFeatures:["pdfv"]}),o.a.createElement(f.a,{mb:1},o.a.createElement(h.a,{className:u()(r.alertText,r.alertTitle),color:"primary",component:"p"},o.a.createElement(d.a,{component:"span",className:r.icon,size:16,icon:v.a}),t("download.alert-not-enough-credit-title")),o.a.createElement(h.a,{className:r.alertText,component:"p",color:"secondary"},t("download.alert-not-enough-credit-copy"))),n>1&&o.a.createElement(m.a,null),o.a.createElement(S,{href:"/pricing",target:"_blank"},t("download.view-plans-pricing")))};t.a=j},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(37),i=n(47),c=n(24),u=n(81),l=n(861),s=n(859),f=n(293),d=n(1627),p=n.n(d),h=n(1993),b=n.n(h),m=n(373),g=n.n(m),v=n(189),y=n(958),O=n.n(y),S=function(e){return e.iconSize},w=Object(c.makeStyles)(function(e){var t=e.sizes,n=e.spacing;return{buttonBase:{width:S,height:S},tooltip:{padding:n(t.base),backgroundColor:"rgb(41, 47, 56)",borderRadius:8}}}),j=function(e){var t=e.content,n=void 0===t?"":t,r=e.ariaLabel,a=e.iconSize,i=void 0===a?12:a,c=e.icon,l=void 0===c?O.a:c,s=w({iconSize:i});return o.a.createElement(b.a,{classes:{tooltip:s.tooltip},title:o.a.createElement(u.a,{component:"div",color:p.a,size:"xs"},n)},o.a.createElement(g.a,{className:s.buttonBase,"aria-label":r},o.a.createElement(v.a,{size:i,icon:l})))},T=j,E=Object(c.makeStyles)({tooltipContent:{padding:0,margin:0,listStyle:"none",width:210}}),C=["jpg","png","pdf","tiff","pdfv"],k=function(){var e=Object(i.useTranslation)(),t=e.t,n=E(),r=o.a.createElement("ul",{className:n.tooltipContent},C.map(function(e){return o.a.createElement("li",{key:e},o.a.createElement("strong",null,t("imagetype.".concat(e,"-caps")),": "),o.a.createElement("span",null,t("imagetype-information.".concat(e))))}));return o.a.createElement(T,{content:r})},x=k,P=n(17),_=n(22),I=n(231),N=Object(c.makeStyles)(function(e){var t=e.spacing,n=e.sizes;return{fileTypeDropdown:{marginBottom:t(n.base)},fileType:{marginBottom:t(n.s)},fileFormatDropdown:{width:"100%"},parentheses:{marginLeft:t(n.xs)},fileTypeTooltip:{display:"inline-block",paddingLeft:t(n.xs)}}}),M=function(e){var t=e.target;return Object(f.d)(t.value)},A=function(e){var t=e.suggested,n=void 0===t?null:t,r=e.betaFeatures,c=void 0===r?[]:r,f=N(),d=Object(i.useTranslation)(),p=d.t,h=Object(a.useSelector)(I.j),b=Object(a.useSelector)(_.C),m=Object(a.useSelector)(P.Q),g="pdfv"===h&&m?n:h;return o.a.createElement("section",{className:f.fileTypeDropdown},o.a.createElement(u.a,{size:"xs",color:"secondary",className:f.fileType},p("download.file-type")," ",o.a.createElement("span",{className:f.fileTypeTooltip},o.a.createElement(x,null))),o.a.createElement(l.a,{variant:"outlined",selected:g,onChange:M,className:f.fileFormatDropdown},b.map(function(e){return o.a.createElement(s.a,{disabled:"pdfv"===e&&m,key:e,value:e},o.a.createElement("span",null,p("imagetype.".concat(e,"-caps"))),e===n&&o.a.createElement("span",{className:f.parentheses},p("download.suggested")),c.includes(e)&&o.a.createElement("span",{className:f.parentheses},p("download.beta-feature")))})))};t.a=A},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(37),i=(n.n(a),n(47)),c=(n.n(i),n(1633)),u=n.n(c),l=n(24),s=(n.n(l),n(81)),f=n(14),d=n(231),p=n(293),h=Object(l.makeStyles)(function(e){var t=e.palette,n=e.spacing,r=e.sizes;return{checkbox:{marginBottom:n(r.base),display:"flex",alignItems:"center"},root:{padding:0},checked:{"&&":{color:t.accent.main}},checkboxLabel:{marginLeft:n(r.s)}}}),b=function(e){var t=e.target;return Object(p.g)(!t.checked)},m=function(){var e=h(),t=Object(i.useTranslation)(),n=t.t,r=Object(a.useSelector)(f.r),c=Object(a.useSelector)(d.r),l=Object(a.useSelector)(f.e);return o.a.createElement("section",{className:e.checkbox},o.a.createElement(u.a,{onChange:b,checked:!c,classes:{root:e.root,checked:e.checked}}),o.a.createElement(s.a,{size:"xs",color:"secondary",className:e.checkboxLabel},n("download.only-download-current-page",{TOTAL_PAGES:r,ACTIVE_PAGE_NUMBER:l})))};t.a=m},function(e,t,n){"use strict";function r(e){return c(e)||i(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function i(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function c(e){if(Array.isArray(e))return u(e)}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=n(0),s=n.n(l),f=n(37),d=n(47),p=n(24),h=n(5),b=n.n(h),m=n(4),g=n.n(m),v=n(1633),y=n.n(v),O=n(907),S=n.n(O),w=n(189),j=n(918),T=n.n(j),E=Object(p.makeStyles)(function(e){var t=e.spacing,n=e.sizes,r=e.palette,o=e.typography;return{labelRoot:{margin:"0 0 ".concat(t(n.base))},"checkbox-align-top":{alignItems:"flex-start"},label:{fontFamily:o.fontFamily,color:r.text.secondary,fontSize:"0.75rem",lineHeight:"1.125rem"},checkboxRoot:{padding:0,height:22,width:22,border:"solid 2px ".concat(r.text.secondary),borderRadius:4,boxSizing:"border-box",margin:"\n      ".concat(t(n.xxs),"\n      ").concat(t(n.s),"\n      ").concat(t(n.xxs),"\n      ").concat(t(n.xxs),"\n    "),"&&:hover":{backgroundColor:"transparent"}},checkmark:{height:20,width:20,color:r.accent.main,opacity:0,transition:"opacity 200ms","& svg":{verticalAlign:"top"}},checked:{"&:not($disabled)":{color:r.accent.main,border:"solid 2px ".concat(r.accent.main),"& $checkmark":{opacity:1}}},disabled:{color:r.text.disabled,"& $checkmark":{color:r.text.disabled},"& $checkboxRoot":{border:"solid 2px ".concat(r.text.disabled)}}}}),C=function(e){var t=e.checked,n=e.checkboxAlign,r=e.onChange,o=e.label,a=e.name,i=e.disabled,c=E(),u=Object(l.useMemo)(function(){return s.a.createElement(w.a,{className:c.checkmark,icon:T.a})},[]);return s.a.createElement(S.a,{classes:{root:g()(c.labelRoot,c["checkbox-align-".concat(n)]),disabled:c.disabled,label:c.label},control:s.a.createElement(y.a,{classes:{root:c.checkboxRoot,checked:c.checked},checked:t,checkedIcon:u,disableRipple:!0,icon:u,name:a,onChange:r}),disabled:i,label:o})};C.propTypes={checked:b.a.bool,label:b.a.node,name:b.a.string.isRequired,onChange:b.a.func};var k=C,x=n(1634),P=n.n(x),_=n(231),I=n(768),N=Object(p.makeStyles)(function(e){return{linkRoot:{color:e.palette.text.link}}}),M=function(e){var t=e.name,n=void 0===t?"EditorTOS":t,r=e.onChange,o=Object(d.useTranslation)(),a=o.t,i=N(),c=i.linkRoot,u=Object(f.useDispatch)(),p=Object(f.useSelector)(_.b),h=Object(f.useSelector)(_.a),b=Object(l.useCallback)(function(e){r&&r(e),u({type:I.k,payload:e.target.checked})},[u,r]);return p?null:s.a.createElement(k,{checked:h||!1,onChange:b,name:n,label:s.a.createElement(d.Trans,{t:a,i18nKey:"download.agree-tos"},"I agree to the"," ",s.a.createElement(P.a,{href:"/license",target:"_blank",underline:"none",classes:{root:c}},"Terms of Service"))})},A=M,R=A,D=n(81),L=n(33),G=function(e){return e.get("assets")},B=Object(L.a)(G,function(e){return e.reduce(function(e,t){return[].concat(r(e),[t&&t.get("contributorInfo")?t.get("contributorInfo").contributorName:[]])},[])}),F=Object(p.makeStyles)(function(e){var t=e.palette,n=e.spacing,r=e.sizes;return{linkRoot:{color:t.text.link},meta:{marginBottom:n(r.s)}}}),z=function(e){var t=e.name,n=void 0===t?"EditorialUseOnly":t,r=e.onChange,o=Object(d.useTranslation)(),a=o.t,i=F(),c=i.linkRoot,u=i.meta,p=Object(f.useDispatch)(),h=Object(f.useSelector)(_.c),b=Object(f.useSelector)(_.i),m=Object(f.useSelector)(B),g=Object(l.useCallback)(function(e){r&&r(e),p({type:I.d,payload:e.target.checked})},[p,r]),v={component:"p",size:"xs",color:"secondary"};return h?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:u},s.a.createElement(D.a,v,s.a.createElement(d.Trans,{t:a,i18nKey:"download.editorial-use-only"},"Editorial use only."," ",s.a.createElement(P.a,{href:"/support/article/How-can-I-use-editorial-content?l=en_US",target:"_blank",classes:{root:c},underline:"none"},"Learn more"))),m.length?s.a.createElement(D.a,v,a("download.editorial-credit")," ",m.join(", ")):null),s.a.createElement(k,{checked:b||!1,onChange:g,name:n,label:a("download.agree-editorial-use-only"),checkboxAlign:"top"})):null},U=z,H=U,W=n(1682),V=n(861),K=n(859),X=n(293),Y=Object(p.makeStyles)(function(e){var t=e.spacing,n=e.sizes;return{licenseImageFrom:{marginBottom:t(n.s)},licenseDropdown:{marginBottom:t(n.base)},subscriptionsDropdown:{width:"100%"},menuItem:{display:"block"},subscription:{padding:0,margin:0,display:"block",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"}}}),q=function(e){return e.get("remaining",0).toString().padStart(3,0)},Z=function(e){return e.get("total",0).toString().padStart(3,0)},J=function(e){return e.get("id")},$=function(e){return e.get("name")},Q=function(e){var t=e.target;return Object(X.c)(t.value)},ee=function(){var e=Y(),t=Object(d.useTranslation)(),n=t.t,r=Object(f.useSelector)(_.s),o=Object(f.useSelector)(_.f),a=Object(f.useSelector)(_.t);return s.a.createElement("section",{className:e.licenseDropdown},s.a.createElement(D.a,{size:"xs",color:"secondary",className:e.licenseImageFrom},n("download.license-image-from",{CREDITS:o})),s.a.createElement(V.a,{variant:"outlined",selected:J(r),onChange:Q,className:e.subscriptionsDropdown},a.map(function(t){var r=n("product-names:".concat($(t))),o=Z(t),a=q(t),i=J(t),c=n("download.remaining",{REMAINING:a,TOTAL:o});return s.a.createElement(K.a,{key:i,value:i,className:e.menuItem},s.a.createElement("p",{className:e.subscription},r),s.a.createElement("p",{className:e.subscription},c))})))},te=ee,ne=n(1683),re=n(266),oe=n.n(re),ae=function(){var e=Object(d.useTranslation)(),t=e.t;return s.a.createElement(oe.a,{mb:1},s.a.createElement(D.a,{size:"xs",color:"error"},t("errors.download")))},ie=ae,ce=n(14),ue=n(290),le=function(e){var t=e.withFileFormat,n=void 0!==t&&t,r=e.withMultipage,o=void 0!==r&&r,a=e.usesCredits,i=void 0===a||a,c=e.onDownloadStart,u=e.label,l=Object(f.useSelector)(ce.r),p=Object(f.useSelector)(_.o),h=Object(f.useSelector)(_.q),b=Object(d.useTranslation)(),m=b.t,g=Object(f.useSelector)(_.h);return s.a.createElement(s.a.Fragment,null,n&&s.a.createElement(W.a,{suggested:"png",betaFeatures:["pdfv"]}),i&&s.a.createElement(te,null),o&&l>1&&s.a.createElement(ne.a,null),h&&s.a.createElement(R,null),s.a.createElement(H,null),g&&s.a.createElement(ie,null),s.a.createElement(ue.a,{blockLevel:!0,disabled:!p,onClick:c},g?m("error.primary-button"):u))};t.a=le},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(266),i=n.n(a),c=n(24),u=(n.n(c),n(929)),l=Object(c.makeStyles)({root:{marginBottom:16,width:"100%",display:"flex",alignItems:"center",flexFlow:"column"}}),s=function(e){var t=e.belowLoader,n=void 0===t?"":t,r=l();return o.a.createElement("div",{mb:1,className:r.root},o.a.createElement(i.a,{mb:1},o.a.createElement(u.a,null)),n)};t.a=s},,,,function(e,t,n){"use strict";var r=n(33),o=Object(r.a)(["SocialPublish","processStep"]),a=Object(r.a)(["SocialPublish","platform"]),i=Object(r.a)(["SocialPublish","pinterestBoards"]),c=Object(r.a)(["SocialPublish","selectedPinterestBoard"]),u=Object(r.a)(["SocialPublish","description"]),l=Object(r.a)(["SocialPublish","twitterRequestCredentials"]),s=Object(r.a)(["SocialPublish","twitterAccessCredentials"]),f=Object(r.a)(["SocialPublish","facebookCredentials"]),d=Object(r.a)(["SocialPublish","pinterestCredentials"]),p=Object(r.a)(["SocialPublish","publishError"]),h=Object(r.a)(["SocialPublish","sharePanelOpen"]),b=Object(r.a)(["SocialPublish","currentScreen"]),m=Object(r.a)(["SocialPublish","publishLink"]);t.a={processStep:o,platform:a,pinterestBoards:i,selectedPinterestBoard:c,description:u,twitterRequestCredentials:l,twitterAccessCredentials:s,facebookCredentials:f,pinterestCredentials:d,publishError:p,sharePanelOpen:h,currentScreen:b,publishLink:m}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u});var r=function(e){return function(t){return t.get("backgroundRemove").get(e)}},o=r("image"),a=r("brushStrokes"),i=function(e){var t=o(e),n=a(e),r=n.get(t.id);return r?r.toJS():[]},c=r("brushSize"),u=(r("brushType"),r("panelActive"))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(87),o=n(380),a=n(1),i=n(163),c=n(22),u=n(116);t.a=function(e,t,n){var l=a.default.evaluate(c.q),s=l?o.a:Object(o.b)(),f=Object(r.c)({width:e,height:t},{width:s,height:s});if("auto"!==a.default.evaluate(i.d)||a.default.evaluate(i.e)===u.c||f>=1)return{width:e,height:t,zoom:1,dpi:n};var d=e/n,p=t/n,h=Math.floor(n*f),b=Math.round(d*h),m=Math.round(p*h);return{width:b,height:m,zoom:Object(r.c)({width:e,height:t},{width:b,height:m}),dpi:h}}},,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){f(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=n(0),p=n.n(d),h=n(4),b=n.n(h),m=n(6),g=n(517),v=n(391),y=function(e){var t=e.onCanvasDrop,n=e.dragClass,o=Object(d.useState)(!1),a=r(o,2),i=a[0],c=a[1],u=Object(d.useCallback)(function(e){n&&c(!0),e.dataTransfer.setData("text",""),e.dataTransfer.effectAllowed="copy",Object(v.a)()?e.dataTransfer.setData("text","dragfromapp"):e.dataTransfer.setData("dragfromapp","");var r=Object(m.a)();Object(g.c)(e.target),Object(g.d)(t),r.renderPageHighlight(r.contextTop)},[t,n]),l=Object(d.useCallback)(function(){n&&c(!1)},[n]);return{dragProps:{onDragStart:u,onDragEnd:Object(d.useCallback)(function(){var e=Object(m.a)();e.clearContext(e.contextTop),e.draggedElement=void 0},[]),onDrag:l,draggable:!0},isDragging:i}},O=y,S=function(e){var t=e.children,n=e.onCanvasDrop,r=e.dragClass,o=O({onCanvasDrop:n,dragClass:r}),a=o.dragProps,i=o.isDragging;return p.a.Children.map(t,function(e){var t=e.props.className;if(r){var n;t=b()((n={},f(n,t,t),f(n,r,i),n))}var o=s(s(s({},e.props),a),{},{className:t});return p.a.cloneElement(e,o)})};t.a=S},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){if(e){var t=e.get("id"),n=e.get("share_code");return o(window.location.host,t,n)}}t.a=r;var o=function(e,t,n){return"https://".concat(e,"/editor/design/").concat(t,"?share_code=").concat(n)}},,function(e,t,n){"use strict";function r(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){function i(e){r(u,o,a,i,c,"next",e)}function c(e){r(u,o,a,i,c,"throw",e)}var u=e.apply(t,n);i(void 0)})}}function a(e,t){return s(e)||l(e,t)||c(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function s(e){if(Array.isArray(e))return e}var f=n(0),d=n.n(f),p=n(4),h=n.n(p),b=n(24),m=(n.n(b),Object(b.makeStyles)({root:{position:"absolute",left:0,bottom:0,width:"100%",height:10}})),g=function(e){var t=e.className,n=e.onTrigger,r=Object(f.useState)(),i=a(r,2),c=i[0],u=i[1],l=m();return Object(f.useEffect)(function(){var e=new IntersectionObserver(function(){var t=o(regeneratorRuntime.mark(function t(r){var o,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(o=a(r,1),i=o[0],!(i.intersectionRatio>0)){t.next=5;break}return e.disconnect(),t.next=5,n();case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),{threshold:0});return c&&e.observe(c),function(){return e.disconnect()}},[n,c]),d.a.createElement("div",{ref:u,className:h()(l.root,t)})};t.a=g},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){return s(e)||l(e,t)||c(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(e){if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(e,t):void 0}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function s(e){if(Array.isArray(e))return e}var f=n(0),d=n.n(f),p=n(4),h=n.n(p),b=n(24),m=n(1756),g=Object(b.makeStyles)(function(e){var t=e.palette,n=e.spacing,r=e.sizes,o=e.transitions;return{background:{},box:{opacity:0,position:"relative",boxSizing:"border-box",marginBottom:n(r.s),display:"flex",alignContent:"center",justifyContent:"center","&$background":{background:"light"===t.type?"".concat(t.background.secondary):"transparent"},"&$loaded":{opacity:1}},loaded:{},preview:{objectFit:"contain",border:"1px solid ".concat(t.text.dividers),transition:"".concat(o.duration.shortest,"ms opacity"),maxWidth:"100%","&:hover":{borderColor:"".concat(t.accent.main),boxShadow:"0 0 0 1px ".concat(t.accent.main),cursor:"pointer"}}}}),v=function(e){var t=e.children;return d.a.createElement(d.a.Fragment,null,t)},y=function(e){var t=e.children,n=e.onCanvasDrop;return d.a.createElement(m.a,{onCanvasDrop:n},t)},O=function(){},S=function(e){var t,n=e.width,i=void 0===n?112:n,c=e.height,u=void 0===c?112:c,l=e.title,s=void 0===l?"":l,p=e.src,b=e.className,m=e.draggable,S=void 0!==m&&m,w=e.background,j=void 0!==w&&w,T=e.onClick,E=void 0===T?O:T,C=e.onCanvasDrop,k=void 0===C?E:C,x=e.dataAutomation,P=e.isCrossOriginRequest,_=void 0===P||P,I=g(),N=S?y:v,M=Object(f.useState)(!1),A=a(M,2),R=A[0],D=A[1],L=function(){return D(!0)};return d.a.createElement("div",{style:{width:i,height:u},className:h()(I.box,(t={},o(t,I.background,j),o(t,I.loaded,R),t)),onClick:E,"data-automation":x},d.a.createElement(N,{onCanvasDrop:k},d.a.createElement("img",r({onLoad:L,className:h()(I.preview,b),alt:s},_?{crossOrigin:"anonymous"}:{},{src:p}))))},w=S;t.a=w},,function(e,t,n){"use strict";function r(e){return e.replace(a,"")}function o(e){return"number"==typeof e?e:e.replace(i,"")}t.a=r,t.b=o;var a=/[&<>"']/g,i=/[^\d]+/g},,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},function(e,t,n){"use strict";var r=n(18),o=n(43),a=function(e){var t=e.emailTo,n=e.message,a=e.designId,i={type:"auto_api_editor",email:t,language:"en",message:n,designId:a};return Object(o.a)({type:"POST",url:Object(r.e)("emailing"),contentType:"application/json",dataType:"json",data:JSON.stringify(i)})};t.a=a},,function(e,t,n){"use strict";function r(e,t){return t?e.set("eligibilityInfo",Object(l.fromJS)(t)):e}function o(e,t){var n=t.id;return e.get("eligibilityInfo")?e.updateIn(["eligibilityInfo","subscriptions"],function(e){return e.map(function(e){return e.set("selected",e.get("id")===n)})}):e}function a(e,t){var n=t.id,r=t.totalSteps,o=t.type;return e.setIn(["downloadProgress",n],Object(l.fromJS)({current:0,total:r,type:o}))}function i(e,t){var n=t.id,r=t.label,o=t.step,a=e.getIn(["downloadProgress",n,"current"]),i=e.getIn(["downloadProgress",n,"total"]),c=e.getIn(["downloadProgress",n,"type"]);return e.setIn(["downloadProgress",n],Object(l.fromJS)({current:o||a+1,total:i,label:r,type:c}))}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,c=t.payload;switch(n){case f.c:return o(e,c);case f.e:return e.set("error",c.error);case s.c:return e.set("editorialUseOnlyArr",Object(l.fromJS)(c));case s.d:return e.set("editorialUseOnlyChecked",c);case s.e:return e.set("eligibilityFinished",c);case f.n:return e.set("srcId",c);case s.f:return r(e,c);case s.j:return e.set("TOSagree",c);case s.k:return e.set("TOSCheckBoxChecked",c);case s.i:return e.set("licensingDone",c);case f.j:return e.set("checkGoogleDriveAuth",c);case f.g:return e.set("DropboxAuthToken",c);case f.l:return e.set("includeOriginal",c);case s.h:return e.set("imageQuality",c);case s.a:return e.set("eligibilityInfo",null);case f.i:return e.set("fileFormat",c);case f.f:return e.set("dpi",c);case f.o:return e.set("multipageDownload",c);case f.b:return a(e,c);case f.p:return i(e,c);case f.a:return e.deleteIn(["downloadProgress",c.id]);case f.m:return e.set("pollingSubscriptionStatus",c);case f.h:return e.set("embedExportFunction",c);case f.d:return e.set("downloadCompleted",c);case s.b:return e.set("selectedReelImageId",c);case s.g:return e.set("imagesToLicense",c);default:return e}}var u=n(41),l=n(12),s=n(768),f=n(225),d=Object(l.fromJS)({error:null,editorialUseOnlyArr:[],editorialUseOnlyChecked:!1,eligibilityFinished:!1,eligibilityInfo:null,totalSessionDownloads:0,licensingDone:!1,checkGoogleDriveAuth:!1,includeOriginal:!1,imageQuality:1,fileFormat:"jpg",dpi:300,multipageDownload:!1,downloadProgress:{},pollingSubscriptionStatus:!1,selectedReelImageId:0});Object(u.a)({Download:c})},function(e,t,n){"use strict";function r(e,t){return e.set("processStep",t)}function o(e,t){return e.set("platform",t)}function a(e,t){return e.set("pinterestBoards",Object(y.fromJS)(t))}function i(e,t){return e.set("selectedPinterestBoard",t)}function c(e,t){return e.update("pinterestBoards",function(e){return e.map(function(e){return e.set("selected",e.get("id")===t)})})}function u(e,t){return e.set("description",t)}function l(e,t){return e.set("twitterRequestCredentials",t)}function s(e,t){return e.set("twitterAccessCredentials",Object(y.fromJS)(t))}function f(e,t){return e.set("facebookCredentials",Object(y.fromJS)(t))}function d(e,t){return e.set("pinterestCredentials",Object(y.fromJS)(t))}function p(e,t){return e.set("publishError",Object(y.fromJS)(t))}function h(e,t){return e.set("currentScreen",t)}function b(e,t){return e.set("publishLink",t)}function m(e,t){return e.set("showSuccessModal",t)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,g=t.payload;switch(n){case O.j:return r(e,g);case O.i:return o(e,g);case O.g:return a(e,g);case O.c:return u(e,g);case O.k:return i(e,g);case O.b:return c(e,g);case O.m:return l(e,g);case O.l:return s(e,g);case O.e:return f(e,g);case O.h:return d(e,g);case O.d:return p(e,g);case O.n:return h(e,g);case O.f:return b(e,g);case O.a:return e.set("publishLink",null);case O.o:return m(e,g);default:return e}}var v=n(41),y=n(12),O=n(526),S=Object(y.fromJS)({processStep:"",platform:null,pinterestBoards:[],selectedPinterestBoard:null,description:"",twitterRequestCredentials:null,twitterAccessCredentials:null,facebookCredentials:Object(y.fromJS)({token:null}),pinterestCredentials:Object(y.fromJS)({token:null}),publishError:null,sharePanelOpen:!1,currentScreen:"start",publishLink:null,showSuccessModal:!1});Object(v.a)({SocialPublish:g})},function(e,t,n){"use strict";function r(e,t){return i(e)||a(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function i(e){if(Array.isArray(e))return e}function c(e){return f(e)||s(e)||l(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function s(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function f(e){if(Array.isArray(e))return d(e)}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){return e.reduce(function(e,t){return e.find(function(e){return e.id===t.id})?e:e.concat([t])},[])}function h(e){var t=Object.values(e),n=t.filter(function(e){return 0===e.min_y}).sort(function(e,t){return e.min_x-t.min_x}),r=t.filter(function(e){return e.max_x===n[n.length-1].max_x}).sort(function(e,t){return e.min_y-t.min_y}),o=t.filter(function(e){return e.max_y===r[r.length-1].max_y}).sort(function(e,t){return e.min_x-t.min_x}),a=t.filter(function(e){return 0===e.min_x}).sort(function(e,t){return e.min_y-t.min_y});return[n,r,o,a]}function b(e){var t,n=e.segments,r=e.backgroundColor,o=e.backgroundSegment,a=e.segmentsToCollect,i=e.colorDistance;if(!r)return[];var u=[],l=[],s=h(n),f=s.map(function(e){return m(e,o)}),d=p((t=[]).concat.apply(t,c(f)));return s.forEach(function(e){e.forEach(function(e){d.map(function(t){return Object(w.a)(t,e)}).filter(function(e){return e<i}).length>0?l.push(e):(l.length>=a&&u.push(l),l=[])}),l.length>=a&&(u.push(l),l=[])}),u}function m(e,t){var n=e.map(function(e){return{id:e.id,color:e.commonColors[0][0]}}),r=n.reduce(function(e,t){return e[t.color]||(e[t.color]=0),e[t.color]+=1,e},{}),o=Object.keys(r).map(function(e){return[parseInt(e,10),r[e]]}).sort(function(e,t){return t[1]-e[1]}),a=[t];return 2===o.length&&(a=[e.find(function(e){return e.commonColors[0][0]===o[0][0]}),e.find(function(e){return e.commonColors[0][0]===o[1][0]})]),a}function g(e){var t={},n=0;Object.keys(e).forEach(function(o){var a=e[o],i=r(a.commonColors[0],2),c=i[0],u=i[1];t[c]||(t[c]=0),t[c]+=u,n+=u});var o=Object.values(t).reduce(function(e,t){return e>t?e:t}),a=parseInt(Object.keys(t).find(function(e){return t[e]===o}),10),i=Object.keys(e).find(function(t){return e[t].commonColors[0][0]===a}),c=e[i];return{isIsolated:t[a]>n/4,backgroundColor:a,backgroundSegmentId:i,backgroundSegment:c}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.segmentsToCollect,r=void 0===n?3:n,o=t.colorDistance,a=void 0===o?50:o,i=g(e);return b({segments:e,backgroundColor:i.backgroundColor,backgroundSegment:i.backgroundSegment,segmentsToCollect:r,colorDistance:a})}function y(e){return v(e.segments).forEach(function(e){return e.forEach(function(e){e.guessedAsBackground=!0})})}function O(e){e.addEventListener("message",function(t){var n=t.data.imageData,r=Object(S.b)(n);y(r),e.postMessage(r)})}Object.defineProperty(t,"__esModule",{value:!0});var S=(n(779),n(780),n(781),n(529)),w=n(1619);t.default=O},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return b}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return g});var r=n(523),o=n(735),a=n(736),i=n(7),c=n(808),u=n(9),l=n(6),s=n(166),f=n.n(s),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.I;return Object(r.a)(e)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.I;return Object(r.b)(e)},h=f()(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.I;i.a.click("toolbar.duplicate",{source:e}),Object(o.a)()},100),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.I,t=Object(l.a)(),n=t.getActiveObject();n&&n.isCropping&&(n.isCropping=!1,t.fire("setData",{target:n})),a.a.remove(!0,e)},m=function(){return Object(c.b)()},g=function(){return Object(c.d)()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="SET_THEME"},function(e,t,n){"use strict";function r(e){if(!e.target){var t=this.getActiveObject();if(t&&t.isCropping)return;Object(O.b)()}}n.d(t,"i",function(){return N}),n.d(t,"a",function(){return M}),n.d(t,"j",function(){return A}),n.d(t,"h",function(){return R}),n.d(t,"g",function(){return D}),n.d(t,"b",function(){return L}),n.d(t,"c",function(){return G}),n.d(t,"e",function(){return B}),n.d(t,"d",function(){return F}),n.d(t,"f",function(){return z});var o=n(1),a=n(6),i=n(1506),c=n(65),u=n(57),l=n(39),s=n(19),f=n(17),d=n(230),p=n(517),h=n(18),b=n(176),m=n(9),g=n(71),v=n.n(g),y=n(80),O=n(267),S=function(e){var t=e.e,n=e.target,r=Object(h.r)(t),o=Object(a.a)();if(r){if(!o.isZooming)if(t.preventDefault(),o.ruler.containsPoint(t.offsetX,t.offsetY))b.e(t,"",m._78);else{var i;n?(o.setActiveObject(n),n.hasControls=!0,o.requestRenderAll(),i=n.type):i="canvas",b.e(t,"",m._75,i)}}else;},w=function(){var e=Object(a.a)(),t=e.getActiveObjects(),n=t.map(function(e){return e.id});c.default.setFabricDataSelected(n)},j=function(e,t,n){var r=Object(a.a)(),o=r.getBackgroundImage(),i=e.target,u=r.getObjects().indexOf(i),l={isBackground:o===e.target,fabricObject:i.toObject(),updateTimeStamp:t,objectIndex:u,selected:e.selected};return e.textSelection&&(l.textSelection={selectionStart:i.selectionStart,selectionEnd:i.selectionEnd}),c.default.setFabricObject(l,n)},T=function(e,t,n){var r=e.artboard,o={fabricObject:r.toObject(),updateTimeStamp:t};return c.default.setFabricArtboard(o,n)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=Object(a.a)();if(e.target){var i=r.getObjects().indexOf(e.target),u=o.default.evaluate(f.E)[i];if(!u||u.id===e.target.id)return j(e,t,n)}if(e.artboard)return T(e,t,n);var l=r.getBackgroundImage(),s=r.getActiveObjects().map(function(e){return e.id}),d=r.toObject(),p={backgroundImageId:null!==l?l.id:null,data:d,selected:s};c.default.setFabricData(p,t,n)},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.autoSave;e.skipThumbnail||u.b.setThumbnail(),E(e,!0,t),l.a.takeSnapshot()},k=function(e){if(!e.target){Object(a.a)()._objects.some(function(e){return e.isCropping})?d.d("DOUBLE_CLICK"):Object(y.b)()}},x=function(e){Object(y.b)();var t=Object(a.a)(),n=t.getBackgroundImage();if(e&&e.selected){var r=e.selected[0];n&&r!==n&&n.fire("deselected"),n&&r===n&&t.requestRenderAll()}w()},P=function(e){var t=Object(a.a)(),n=t.getActiveObject();n&&"activeSelection"===n.type?(u.b.bindEventsToDuplicatedActiveGroup(n),w()):x(e)},_=function(e){var t=Object(a.a)(),n=t.getActiveObject();n&&"activeSelection"===n.type&&!n.bound&&u.b.bindEventsToDuplicatedActiveGroup(n),w()},I=function(){Object(a.a)().forEachObject(function(e){"editorTextBox"===e.type&&1!==e.scaleX&&e.fire("modified")}),w()},N=function(){var e=Object(a.a)();Object(i.a)(),P(),e.requestRenderAll()},M=function(){var e=Object(a.a)();e.on("mouse:strictdblclick",k),e.on("selection:created",P),e.on("selection:updated",_),e.on("save",C),e.on("setData",E),e.on("selection:cleared",I),e.on("dragover",p.a),e.on("mouse:down",r),e.on("mouse:down",S),e.on("drop",p.b),o.default.dispatch(s.p)},A=function(){Object(a.a)().off()},R=function(){Object(a.a)().off("mouse:down",E)},D=function(){Object(a.a)().on("mouse:down",E)},L=function(){return u.b.copyToLocalStorage(m._32)},G=function(){return u.b.cutToLocalStorage(m._32)},B=function(e,t){var n=document.querySelector(e);if(n){var r=n.getBoundingClientRect();t.setDimensions({width:r.width,height:r.height}),"auto"===t.zoomHelpers.zoomMode&&t.zoomHelpers.fitToPage(),t.zoomHelpers.handleZoomAndPanChangeDebounced()}},F=function(){var e=Object(a.a)();B("#mainCanvasContainer",e);var t=document.defaultView.innerHeight,n=document.defaultView.innerWidth;o.default.dispatch(s.A,{windowWidth:n,windowHeight:t})},z=v()(F,250)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return l(e)||u(e,t)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function l(e){if(Array.isArray(e))return e}var s=n(0),f=n.n(s),d=n(291),p=n(24),h=n(47),b=n(4),m=n.n(b),g=n(189),v=n(81),y=n(486),O=Object(p.makeStyles)(function(e){var t=e.palette.common,n=e.editor;return{category:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer"},categoryLabel:{flexGrow:1},roundIcon:function(e){return{backgroundColor:"white",padding:e.iconSize>18?8:12,marginRight:"11px",borderRadius:"50%",boxShadow:n.shadow.default}},fillBlack:{"& svg":{fill:t.black}}}}),S=["shapes","upload","saved"],w=function(e){var t=e.icon,n=e.label,o=e.endIcon,a=e.onClick,i=e.iconSize,c=e.category,u=e.className,l=e.dataAutomation,s=O({iconSize:i}),d=Object(h.useTranslation)(),p=d.t;return f.a.createElement("div",{className:m()(s.category,u),onClick:a,"data-automation":l},f.a.createElement(g.a,{icon:t,size:i,className:m()(s.roundIcon,r({},s.fillBlack,S.includes(c)))}),f.a.createElement(v.a,{className:s.categoryLabel,size:"m"},p(n)),f.a.createElement(y.a,{size:18,icon:o}))},j=w,T=Object(p.makeStyles)(function(e){return{categoryOpen:{padding:"16px 24px 0"},categoryList:{padding:"12px 24px",cursor:"pointer","&:hover":{backgroundColor:e.palette.text.dividers},"&:first-child":{marginTop:"4px"},"&:last-child":{marginBottom:"18px"}}}}),E=function(e){var t=e.title,n=e.iconSize,r=void 0===n?24:n,a=e.categories,i=e.dataAutomation,c=T(),u=Object(s.useState)(!1),l=o(u,2),p=l[0],h=l[1],b=a.find(function(e){return e.category===p});return f.a.createElement(d.a,{label:t,fullHeight:!0},!b&&a.map(function(e){var t=e.icon,n=e.label,o=e.category;return f.a.createElement(j,{key:n,icon:t,label:n,category:o,iconSize:r,endIcon:"chevron-right",dataAutomation:i?"".concat(i,"-").concat(n):"",className:c.categoryList,onClick:function(){return h(o)}})}),b&&f.a.createElement(f.a.Fragment,null,f.a.createElement(j,{endIcon:"close",iconSize:r,icon:b.icon,label:b.label,category:b.category,className:c.categoryOpen,onClick:function(){return h(!1)}}),f.a.createElement(b.Component,{category:b.category})))},C=E;t.a=C},function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(289),i=n.n(a),c=n(24),u=(n.n(c),n(486)),l=n(1),s=n(30),f=n(65),d=n(375),p=n(833),h=n(102),b=function(e){e(d.c),l.default.evaluate(s.g)&&f.default.autoSave()},m=Object(c.makeStyles)({timeTravelButton:{lineHeight:0,fontSize:"20px",minWidth:"36px",width:"36px",height:"36px","& .MuiButton-startIcon":{margin:0}}}),g=function(e){var t=e.undo,n=e.redo,r=e.sharedHistory,a=e.color,c=void 0===a?"primary":a,l=e.bindKeyboardShortcut,s=e.disableKeyboardShortcut,f=m(),d=Object(p.a)({redo:n,undo:t,sharedHistory:r,bindKeyboardShortcut:l,disableKeyboardShortcut:s}),h=d.undoAvailability,g=d.redoAvailability;return o.a.createElement(o.a.Fragment,null,o.a.createElement(i.a,{onClick:function(){return b(t)},className:f.timeTravelButton,style:{visibility:h?"visible":"hidden"}},o.a.createElement(u.a,{color:c,icon:"undo",size:20})),o.a.createElement(i.a,{onClick:function(){return b(n)},className:f.timeTravelButton,style:{visibility:g?"visible":"hidden"}},o.a.createElement(u.a,{color:c,icon:"redo",size:20})))};t.a=Object(h.a)(g)},,function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var o=n(0),a=n.n(o),i=n(47),c=n(1003),u=n(857),l=n(561),s=n(1680),f=n(1681),d=n(1684),p=n(1685),h=n(1592),b=function(e){var t=e.withMultipage,n=e.withFileFormat,o=e.onDownloadStart,c=e.downloadLabel,u=void 0===c?"download.license-and-download":c,l=e.freeDownloadLabel,b=void 0===l?"download.panel.button-download":l,m=e.redownloadLabel,g=void 0===m?"download.panel.button-download-free":m,v={withMultipage:t,withFileFormat:n,onDownloadStart:o},y=Object(s.a)(),O=Object(i.useTranslation)(),S=O.t;switch(y){case h.b:case h.c:return a.a.createElement(p.a,null);case h.e:case h.f:return a.a.createElement(f.a,null);case h.g:return a.a.createElement(d.a,r({},v,{usesCredits:!1,label:S(g)}));case h.a:return a.a.createElement(d.a,r({},v,{label:S(u)}));case h.d:return a.a.createElement(d.a,r({},v,{usesCredits:!1,label:S(b)}));default:return null}},m=b,g=function(e){var t=e.icon,n=e.title,r=e.subtitle,o=e.linkLabel,s=e.onLinkClick,f=e.downloadLabel,d=e.withMultipage,p=e.withFileFormat,h=e.onDownloadStart,b=e.redownloadLabel,g=e.freeDownloadLabel,v=Object(i.useTranslation)(),y=v.t;return a.a.createElement(a.a.Fragment,null,n&&a.a.createElement(l.a,{title:y(n)}),r&&a.a.createElement(u.a,{title:y(r),icon:t}),a.a.createElement(m,{downloadLabel:f,withMultipage:d,withFileFormat:p,onDownloadStart:h,redownloadLabel:b,freeDownloadLabel:g}),o&&a.a.createElement(c.a,{onClick:s,label:y(o)}))};t.a=g},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return s});var r=n(37),o=(n.n(r),n(9)),a=n(6),i=n(853),c=n(63),u=n(17),l=function(){var e=Object(r.useSelector)(u.z),t=Object(r.useSelector)(u.H),n=Object(r.useSelector)(u.i),o=Object(r.useSelector)(u.j),a=Object(r.useSelector)(u.F),i=Object(r.useSelector)(c.e),l=-1===n||n===a-1&&o+i===a,s=-1===n||t?o<2&&n-i<=0:o<1&&n-i==-1;return{addAsBackgroundDisabled:e,forwardDisabled:e||l,backwardDisabled:s}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.I,n=Object(a.a)();i.a[e](n.getActiveObject(),t)}},function(e,t,n){"use strict";function r(e,t){return u(e)||c(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function u(e){if(Array.isArray(e))return e}var l=n(0),s=n.n(l),f=n(1997),d=n.n(f),p=n(1699),h=n.n(p),b=n(908),m=n.n(b),g=n(24),v=(n.n(g),n(47)),y=(n.n(v),n(78)),O=n.n(y),S=n(81),w=Object(g.makeStyles)(function(e){var t=e.palette,n=e.spacing,r=e.sizes;return{root:{height:"auto",position:"relative",marginTop:12,padding:0,bottom:n(r.xl)},content:function(e){return{width:"444px",justifyContent:"center",backgroundColor:e.isSecondaryColor?t.accent.secondary:t.accent.main,padding:n(r.m),borderRadius:n(r.base),textAlign:"center"}},text:function(e){return{"&&":{color:e.isSecondaryColor?t.accent.secondaryContrastText:t.accent.contrastText,fontWeight:"bold"}}}}}),j=function(e,t){return e.open===t.open},T=function(e){var t=e.id,n=e.open,o=e.message,a=void 0===o?{}:o,i=e.autoHideDuration,c=e.handleOnClose,u=void 0===c?O.a:c,f=e.isSecondaryColor,p=void 0!==f&&f,b=Object(l.useRef)(),g=Object(l.useState)(!0),y=r(g,2),j=y[0],T=y[1];Object(l.useEffect)(function(){return function(){b.current&&clearTimeout(b.current)}},[]);var E=function(){b.current=setTimeout(function(){T(!j)},125)},C=w({isSecondaryColor:p}),k=Object(v.useTranslation)(),x=k.t;return s.a.createElement(h.a,{timeout:175,in:j},s.a.createElement(d.a,{disableWindowBlurListener:!0,TransitionComponent:m.a,TransitionProps:{onExited:E},key:t,onClose:function(e,n){return u(e,n,t)},open:n,className:C.root,autoHideDuration:i,ContentProps:{className:C.content},message:s.a.createElement(S.a,{size:"s",className:C.text,dangerouslySetInnerHTML:{__html:x(a.key,a.variables)}})}))};t.a=Object(l.memo)(T,j)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fn(),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload;switch(n){case Dn.a:return o(o({},e),r);case Ln.g:return o(o({},e),{},{type:r?"dark":"light"});default:return e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){m(c,r,o,a,i,"next",e)}function i(e){m(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function v(e,t){return j(e)||w(e,t)||O(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function w(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function j(e){if(Array.isArray(e))return e}function T(){return T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T.apply(this,arguments)}function E(e,t){return _(e)||P(e,t)||k(e,t)||C()}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(e){if("string"==typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function _(e){if(Array.isArray(e))return e}function I(){return I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I.apply(this,arguments)}function N(e,t){return L(e)||D(e,t)||A(e,t)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(e){if("string"==typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?R(e,t):void 0}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function L(e){if(Array.isArray(e))return e}function G(e,t,n,r,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}function B(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){G(c,r,o,a,i,"next",e)}function i(e){G(c,r,o,a,i,"throw",e)}var c=e.apply(t,n);a(void 0)})}}function F(e,t){return V(e)||W(e,t)||U(e,t)||z()}function z(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(e,t){if(e){if("string"==typeof e)return H(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function V(e){if(Array.isArray(e))return e}function K(e,t){return J(e)||Z(e,t)||Y(e,t)||X()}function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Y(e,t){if(e){if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?q(e,t):void 0}}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Z(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function J(e){if(Array.isArray(e))return e}function $(e,t,n,r){return e?"design.status.saving":t?"design.status.failed":n?r?"design.status.unsaved-new":"design.status.unsaved":"design.status.saved"}function Q(e){var t=e.activeDesign,n=e.activeDesignId,r=e.error,o=e.hasUnsavedChanges,a=e.onSave,i=e.pending,c=Object(Kn.useTranslation)(),u=c.t,l=Ei(),s="string"==typeof i?i===(t&&t.get("id")):i,f=-1===n,d=$(s,r,o,f),p=Un.a.createElement(Nr.a,{color:"disabled",size:"xs",className:l.text},u(d));return o?Un.a.createElement(Ti.a,{onClick:a},p):p}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach(function(t){ne(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){return ue(e)||ce(e,t)||ae(e,t)||oe()}function oe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ae(e,t){if(e){if("string"==typeof e)return ie(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ie(e,t):void 0}}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ce(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function ue(e){if(Array.isArray(e))return e}function le(e,t){return he(e)||pe(e,t)||fe(e,t)||se()}function se(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function fe(e,t){if(e){if("string"==typeof e)return de(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?de(e,t):void 0}}function de(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pe(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function he(e){if(Array.isArray(e))return e}function be(e){var t=e.activeDesign,n=e.untitledDesignText,r=e.onChange,o=e.onSave,a=e.measureRef,i=Object(zn.useState)(n),c=le(i,2),u=c[0],l=c[1],s=Object(zn.useState)(u),f=le(s,2),d=f[0],p=f[1],h=Object(Wn.useSelector)(wi.I),b=Ni({measureRef:a,value:d,maxDefaultValueWidth:Ri}),m=b.size,g=b.styles,v=b.setInputElementSize,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target;if(!t)return!1;var n=Object(Mi.a)(t.value);p(n),v(n),r&&r(n)},O=function(){p(u),v(u)},S=xi()(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.target,r=Object(Mi.a)(n.value).trim();t&&!h&&r===t.get("title")||(p(r),l(r),v(r),o&&o(r))},Ai,{trailing:!1}),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=e.key;if(!t||!n)return!1;"Enter"===n&&""!==t.value&&S({target:t}),"Escape"===n&&O()},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?"":t;""!==n.value&&n.value!==u?S({target:n}):O()};return Object(zn.useEffect)(function(){if(t&&-1!==t.get("id")){var e=Object(Mi.a)(t.get("title"));p(e),l(e),v(e)}},[t]),{handleOnBlur:j,handleOnClick:Di,handleOnChange:y,handleKeyDown:w,size:m,inputWidthStyles:g,value:d}}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach(function(t){ve(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ye(e,t){return Te(e)||je(e,t)||Se(e,t)||Oe()}function Oe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Se(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function je(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Te(e){if(Array.isArray(e))return e}function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ee.apply(this,arguments)}function Ce(e,t){return Ie(e)||_e(e,t)||xe(e,t)||ke()}function ke(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function xe(e,t){if(e){if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(e,t):void 0}}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Ie(e){if(Array.isArray(e))return e}function Ne(e,t){return Le(e)||De(e,t)||Ae(e,t)||Me()}function Me(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ae(e,t){if(e){if("string"==typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function De(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Le(e){if(Array.isArray(e))return e}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach(function(t){Fe(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(e){Vn.default.dispatch(Dc.o,e)}function Ue(e,t){return Xe(e)||Ke(e,t)||We(e,t)||He()}function He(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function We(e,t){if(e){if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ve(e,t):void 0}}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ke(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Xe(e){if(Array.isArray(e))return e}function Ye(e){if(e){var t=e.get("share_code");return au(t)}}function qe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qe(Object(n),!0).forEach(function(t){Je(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qe(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $e(e,t){return rt(e)||nt(e,t)||et(e,t)||Qe()}function Qe(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function et(e,t){if(e){if("string"==typeof e)return tt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?tt(e,t):void 0}}function tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nt(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function rt(e){if(Array.isArray(e))return e}function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function at(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach(function(t){it(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){return dt(e)||ft(e,t)||lt(e,t)||ut()}function ut(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function lt(e,t){if(e){if("string"==typeof e)return st(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?st(e,t):void 0}}function st(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ft(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function dt(e){if(Array.isArray(e))return e}function pt(e,t){return vt(e)||gt(e,t)||bt(e,t)||ht()}function ht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bt(e,t){if(e){if("string"==typeof e)return mt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mt(e,t):void 0}}function mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gt(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function vt(e){if(Array.isArray(e))return e}function yt(){n.e(273).then(n.bind(null,2752)).then(function(e){return e.downloadActions.getSubscriptions()})}function Ot(e,t){return Et(e)||Tt(e,t)||wt(e,t)||St()}function St(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function wt(e,t){if(e){if("string"==typeof e)return jt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jt(e,t):void 0}}function jt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tt(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Et(e){if(Array.isArray(e))return e}function Ct(){Hi.b.publish("primaryaction")}function kt(e,t){return Nt(e)||It(e,t)||Pt(e,t)||xt()}function xt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pt(e,t){if(e){if("string"==typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_t(e,t):void 0}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function It(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Nt(e){if(Array.isArray(e))return e}function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function At(e,t){return Bt(e)||Gt(e,t)||Dt(e,t)||Rt()}function Rt(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Dt(e,t){if(e){if("string"==typeof e)return Lt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lt(e,t):void 0}}function Lt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gt(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Bt(e){if(Array.isArray(e))return e}function Ft(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zt(){return zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zt.apply(this,arguments)}function Ut(e,t){return Xt(e)||Kt(e,t)||Wt(e,t)||Ht()}function Ht(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Wt(e,t){if(e){if("string"==typeof e)return Vt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vt(e,t):void 0}}function Vt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kt(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Xt(e){if(Array.isArray(e))return e}function Yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yt(Object(n),!0).forEach(function(t){Zt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e){return en(e)||Qt(e)||rn(e)||$t()}function $t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qt(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function en(e){if(Array.isArray(e))return on(e)}function tn(e,t){return cn(e)||an(e,t)||rn(e,t)||nn()}function nn(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function rn(e,t){if(e){if("string"==typeof e)return on(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?on(e,t):void 0}}function on(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function an(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function cn(e){if(Array.isArray(e))return e}function un(e,t){return pn(e)||dn(e,t)||sn(e,t)||ln()}function ln(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function sn(e,t){if(e){if("string"==typeof e)return fn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fn(e,t):void 0}}function fn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dn(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function pn(e){if(Array.isArray(e))return e}function hn(e){return mn(e)||vn(e)||Sn(e)||bn()}function bn(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function mn(e){if(Array.isArray(e))return wn(e)}function gn(e){return Tn(e)||vn(e)||Sn(e)||On()}function vn(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function yn(e,t){return Tn(e)||jn(e,t)||Sn(e,t)||On()}function On(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Sn(e,t){if(e){if("string"==typeof e)return wn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wn(e,t):void 0}}function wn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function jn(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}function Tn(e){if(Array.isArray(e))return e}function En(){var e=document.getElementById("app-container");if(!e)return setTimeout(En,10);Object(Hn.render)(xf,e)}function Cn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function kn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cn(Object(n),!0).forEach(function(t){xn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e,t,n){return t&&_n(e.prototype,t),n&&_n(e,n),e}function Nn(){var e=window.location.href,t=Object(Mn.a)(e),r=t.query;if(Ff(),Object(Af.a)(),Object(Rf.b)(),Object(If.a)(),Object(Cl.a)(Nf.a.loadFonts),r.embed&&!Object(An.a)(document.referrer))return void Object(Pf.a)();Df.a.init(!0),Object(Yr.e)(function(){return So()}),"undefined"!=typeof window&&window.isAppImpersonated?_a.a.setFlag("autoSave",!1):_a.a.setFlag("autoSave",!0),_a.a.setFlag("disableBackgroundResizeOnCrop",!0),_a.a.setFlag("disablePreviewMode",!0),Object(_f.a)(),En(),vo.a.getLilSis().page({pageType:"editor-app"}),Object(_a.c)("embed")||Object(_a.c)("sstkApiContract")?(Object(Mf.a)(),n.e(309).then(n.bind(null,2759)).then(function(e){return(0,e.init)()})):Object(Cl.a)(function(){return Object(vo.d)({withListener:!1})})}Object.defineProperty(t,"__esModule",{value:!0});var Mn=(n(1004),n(101)),An=n(614),Rn=(n(969),n(651),n(1352),n(1353),n(814),n(1927),n(954),n(653),n(1375),n(1377),n(1378),n(820),n(1477),n(1478),n(1480),n(1928),n(1481),n(1482),n(1483),n(1484),n(1485),n(41)),Dn=n(2064),Ln=n(121),Gn=n(88),Bn=n(812),Fn=function(){return{headerColor:void 0,navButtonColor:void 0,toolbarColor:void 0,doneButtonColor:void 0,primaryActionButtonColor:void 0,primaryActionColor:void 0,accentColor:void 0,type:Object(Bn.a)(window).embed||"true"!==Gn.a.getItem("darkmode")?"light":"dark"}};Object(Rn.a)({theming:i});var zn=n(0),Un=n.n(zn),Hn=n(59),Wn=n(37),Vn=n(1),Kn=n(47),Xn=n(372),Yn=n(1505),qn=n(740),Zn=n(1567),Jn=n(1508),$n=n(1509),Qn=n(192),er=n(14),tr=n(165),nr=n(790),rr=n(116),or=[.001,.002,.005,.01,.02,.05,.1,.2,.5,1,2,5,10,20,50,100,200,500,1e3,2e3],ar=3,ir=11,cr='"Roboto", sans-serif',ur=10,lr=1,sr=24,fr=0,dr="editorRuler",pr=function(){function e(t){c(this,e),s(this,"labelOffsetX",ar),s(this,"labelOffsetY",ir),s(this,"fontFamily",cr),s(this,"fontSize",ur),s(this,"units",rr.c),s(this,"pixelsPerUnit",lr),this.ruler=t}return l(e,[{key:"setThickness",value:function(e){this.thickness=e,this.tickDividerLength=this.thickness,this.tickLargeLength=Math.floor(this.thickness/3),this.tickSmallLength=Math.floor(this.thickness/5)}},{key:"setDimensions",value:function(e,t){this.width=e,this.height=t}},{key:"setTheme",value:function(e){var t=e.tickColor,n=e.labelColor;this.tickColor=t,this.labelColor=n}},{key:"chooseIntervalLength",value:function(){var e=this;return or.find(function(t,n,r){var o=r[n+1],a=t*e.pixelsPerUnit*e.pixelZoomRatio;return t>=e.pixelZoomRatio&&a>60||null==o||o*e.pixelsPerUnit*e.pixelZoomRatio>200})*this.pixelsPerUnit}},{key:"setPageViewport",value:function(e,t){var n=t.br.x-t.tl.x;this.startX=t.tl.x,this.startY=t.tl.y,this.pageWidth=e.width,this.pageHeight=e.height,this.pixelZoomRatio=this.width/n,this.pagePixelsPerInterval=this.chooseIntervalLength(),this.screenPixelsPerInterval=this.pagePixelsPerInterval*this.pixelZoomRatio}},{key:"draw",value:function(e){e.save(),e.transform(1,0,0,1,0,this.ruler.topRulerOffset),this._draw(e,this.startX,this.pageWidth),e.restore(),e.save(),e.transform(1,0,0,1,this.width,0),e.rotate(90*Math.PI/180),this._draw(e,this.startY,this.pageHeight),e.restore()}},{key:"_draw",value:function(e,t,n){var r=this.createTicks(),o=r.ticks,a=r.gapSize;e.fillStyle=this.tickColor,e.strokeStyle=this.tickColor,e.font="normal normal ".concat(this.fontSize,"px ").concat(this.fontFamily);for(var i=0;i<=n;i+=this.pagePixelsPerInterval){var c=Math.ceil(this.pixelZoomRatio*(-t+i))+.5;e.save(),e.transform(1,0,0,1,c,0),e.beginPath();for(var u=0;u<o.length;u++)this.drawTick(e,u*a,o[u]);e.stroke(),e.restore(),e.fillStyle=this.labelColor;var l=this.labelOffsetX,s=this.labelOffsetY,f=rr.e(this.units,i/this.pixelsPerUnit);e.fillText("".concat(f),c+l,s)}}},{key:"createTicks",value:function(){var e,t;this.screenPixelsPerInterval<=40?(e=this.screenPixelsPerInterval/5,t=4):(e=this.screenPixelsPerInterval/10,t=9);for(var n=[this.tickDividerLength],r=1;r<=t;r++)r%2!=0?n.push(this.tickLargeLength):n.push(this.tickSmallLength);return{gapSize:e,ticks:n}}},{key:"drawTick",value:function(e,t,n){var r=Math.floor(t);e.moveTo(r,this.thickness-n),e.lineTo(r,this.thickness)}}]),e}(),hr=function(){function e(t){f(this,e),h(this,"type",dr),h(this,"thickness",sr),h(this,"topRulerOffset",fr),h(this,"enabled",!1),h(this,"render",this.render.bind(this)),this.canvas=t,this.scale=new pr(this),this.scale.setThickness(this.thickness),this.canvas.on("after:render",this.render)}return p(e,[{key:"dispose",value:function(){this.canvas.off("after:render",this.render)}},{key:"enable",value:function(){this.enabled||(this.enabled=!0)}},{key:"setTheme",value:function(e){var t=e.rulerColor,n=e.cornerSquareColor,r=e.tickColor,o=e.labelColor;this.rulerColor=t,this.cornerSquareColor=n,this.scale.setTheme({tickColor:r,labelColor:o})}},{key:"disable",value:function(){this.enabled&&(this.enabled=!1)}},{key:"containsPoint",value:function(e,t){var n=this.width,r=this.height,o=this.topRulerOffset,a=this.thickness;return!!this.enabled&&(e>=0&&e<=n&&t>=o&&t<=o+a||e>=n&&e<=n-a&&t>=0&&t<=r)}},{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.ctx,n=this.canvas.contextContainer;t&&t===n&&this.enabled&&(this.pageSize=this.canvas.getArtboard(),this.pageSize&&null!==this.canvas.vptCoords.tl&&(this.drawBackground(n),this.scale.setDimensions(this.canvas.width,this.canvas.height),this.scale.setPageViewport(this.pageSize,this.canvas.vptCoords),this.scale.draw(n),this.drawCornerSquare(n)))}},{key:"drawBackground",value:function(e){var t=this.canvas,n=t.width,r=t.height,o=this.topRulerOffset,a=this.thickness,i=n-a+.5,c=o+a+.5;e.fillStyle=this.rulerColor,e.strokeStyle=this.scale.tickColor,e.fillRect(0,o,n,a),e.fillRect(i,0,a,r),e.beginPath(),e.moveTo(0,c),e.lineTo(i,c),e.lineTo(i,r),e.stroke()}},{key:"drawCornerSquare",value:function(e){var t=this.canvas.width,n=this.thickness;e.save(),e.transform(1,0,0,1,t-n,this.topRulerOffset),e.fillStyle=this.cornerSquareColor,e.fillRect(0,0,this.thickness,this.thickness+.5),e.restore()}},{key:"setUnits",value:function(e,t,n){this.scale.pixelsPerUnit=n(1),this.scale.units=e,this.render()}}]),e}(),br=n(786),mr=n(2065),gr=n(6),vr=n(57),yr=function(e){var t=e.className,n=e.theme,r=Object(Wn.useSelector)(er.k.activePageWidth),o=Object(Wn.useSelector)(er.k.activePageHeight),a=Object(zn.useRef)(Object(tr.e)("editorCanvas")),i=Object(Wn.useSelector)(Qn.g),c=Object(gr.a)();return Object(br.a)("mod+x",mr.c),Object(br.a)("mod+a",mr.i),Object(br.a)(vr.c,vr.d),Object(zn.useEffect)(function(){a.current.fabricCanvas=c,c.zoomHelpers=a.current;var e={zoomMode:i,withDispatches:!0,withInfinitePan:!1,zoomChangeCallback:function(){}};Object(tr.c)(a.current,e)},[i]),Object(zn.useEffect)(function(){var e=a.current;c.backgroundImage.width=r,c.backgroundImage.height=o,"auto"===e.zoomMode&&(e.fitToPage(),e.handleZoomAndPanChangeDebounced())},[r,o]),Object(zn.useEffect)(function(){c.borderColor=n.palette.border.main,c.clipColor=n.palette.overlay.main,c.requestRenderAll()},[n.palette.border.main,n.palette.overlay.main]),Object(zn.useEffect)(function(){return c.ruler=new hr(c),c.clipPage=!0,c.borderExtraSize=0,window.addEventListener("resize",mr.f),Object(mr.a)(),Object(mr.d)(),document.addEventListener("copy",mr.b),function(){window.removeEventListener("resize",mr.f),document.removeEventListener("copy",mr.b),Object(mr.j)()}},[]),Un.a.createElement("div",{id:"mainCanvasContainer",className:t},Un.a.createElement(nr.a,{fabricCanvas:c,onStartDrag:mr.h,onEndDrag:mr.g,zoomHelpers:a.current}))},Or=yr,Sr=n(266),wr=n.n(Sr),jr=n(24),Tr=n(763),Er=n(1610),Cr=n.n(Er),kr=n(4),xr=n.n(kr),Pr=n(289),_r=n.n(Pr),Ir=n(189),Nr=n(81),Mr=n(530),Ar=Object(jr.makeStyles)(function(e){var t=e.palette,n=e.editor;return{selected:{},root:{"& svg":{fill:"currentColor"},pointerEvents:"auto",width:"64px",height:"64px",marginBottom:"20px",borderRadius:"50%",color:t.navButton.contrastText,backgroundColor:t.navButton.main,boxShadow:n.shadow.default,"&:hover":{backgroundColor:t.navButton.main,boxShadow:n.shadow.default,"& $icon":{transform:"translateY(-8px)"},"& $text":{opacity:1}},"&$selected":{color:t.text.primary,backgroundColor:t.background.paper}},buttonLabel:{flexDirection:"column"},icon:{height:24,width:24,transition:"transform 0.15s"},text:{opacity:0,transition:"opacity 0.15s",marginTop:-6,marginBottom:"calc(-1em + 8px)",lineHeight:"1em",fontSize:"9px"},panel:{position:"absolute",width:280,top:48,bottom:48,left:84}}}),Rr=function(e){var t=e.name,n=e.label,r=e.icon,o=e.panel,a=e.dataTourStop,i=e.activePanelId,c=e.setActivePanelId,u=Ar(),l=i===t,s=Object(zn.useCallback)(function(){c(l?null:t)},[l,t]);return Un.a.createElement(Mr.a,{feature:t},Un.a.createElement(_r.a,{classes:{root:u.root,label:u.buttonLabel},className:xr()(b({},u.selected,l)),onClick:s,"data-automation":"panel-button-".concat(t)},Un.a.createElement(Ir.a,{icon:r,className:u.icon,dataTourStop:a}),Un.a.createElement(Nr.a,{className:u.text,color:"inherit"},n)),l&&o)},Dr=Rr,Lr=n(291),Gr=Object(zn.lazy)(function(){return Object(Lr.b)("Elements")}),Br=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Gr,null))},Fr=n(1899),zr=n(1629),Ur=n(1898),Hr=n(1622),Wr=n(976),Vr=n(90),Kr=n(210),Xr=n(18),Yr=n(43),qr=function(e){var t=Object(Mn.b)(document.location.href),n=t.parts;n[3]=e,n[2]="design";var r=n.join("/");return n[0]&&(r="/".concat(r)),r},Zr=function(e){var t=e.id,n=qr(t);history.replaceState(null,"",n)},Jr=function(){return Vr.j.apply(void 0,arguments).then(Zr)},$r=function(){var e=g(regeneratorRuntime.mark(function e(t){var n,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",e.abrupt("return",t?Object(Vr.k)(t.get("id"),t.get("title")):Object(Vr.i)(t?t.get("title"):n).then(Zr));case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Qr=function(e){var t=e.id;return window.open(qr(t),"_blank")},eo=function(e){Vn.default.dispatch(Kr.b);var t="".concat(Object(Xr.e)("design"),"/").concat(e);return Vn.default.dispatch(Kr.e,e),Object(Yr.a)({url:t,type:"DELETE"}).catch(function(e){throw e})},to=n(19),no=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.type,n=void 0===t?"error":t,r=e.message,o=void 0===r?"":r,a=e.dismissAfter,i=void 0===a?null:a,c=e.dismissable,u=void 0===c||c;return Vn.default.dispatch(to.C,{type:n,message:o,dismissAfter:i,dismissable:u})},ro=function(e){var t=e.setIsOpen,n=e.id,r=Object(Kn.useTranslation)(),o=r.t,a=function(){return t({open:!1}),eo(n).then(function(){return no({type:"message",dismissAfter:1e3,message:o("flash-message.design-deleted")})}).catch(function(e){throw no({type:"message",dismissAfter:1e3,message:o("errors.generic")}),e})};return Un.a.createElement(Wr.a,{isOpen:!0,onConfirm:a,title:"design.delete-confirm",handleOnClose:function(){return t({open:!1})},confirmButtonText:"action.delete"})},oo=ro,ao=n(161),io=n(30),co=Object(jr.makeStyles)(function(e){return{lazyTrigger:{position:"relative"},grid:{display:"flex",flexWrap:"wrap",justifyContent:"space-between",overflow:"auto",padding:(0,e.spacing)(e.sizes.m)}}}),uo=Object(Hr.a)(zr.a,Fr.a),lo=function(){var e=co(),t=Object(zn.useState)({open:!1}),n=v(t,2),r=n[0],o=n[1],a=Object(Wn.useSelector)(io.q),i=Object(Wn.useSelector)(io.r),c=Object(Wn.useSelector)(io.t),u=Object(Wn.useSelector)(io.a),l=Object(Wn.useSelector)(io.j),s=l>=c,f=Object(Wn.useSelector)(io.m);Object(zn.useEffect)(function(){Object(Vr.e)()},[]);var d=[{label:"design.open",onClick:Qr},{label:"design.paste",onClick:function(e){var t=e.id;return Object(ao.b)({id:t,activeDesign:u,hasUnsavedChanges:!1,applyPartial:!0})}},{label:"action.delete",onClick:function(e){var t=e.id;return o({open:!0,id:t})}}];return Un.a.createElement("div",{className:e.grid},f.map(function(e){var t=e.id,n=e.title,r=e.thumbnail;return Un.a.createElement(uo,{key:t,position:{bottom:16,right:8},overlayProps:{options:d,optionOnClickArgs:{id:t}},componentProps:{title:n,src:r,draggable:!0,onCanvasDrop:function(){return Object(ao.b)({id:t,activeDesign:u,hasUnsavedChanges:!1,applyPartial:!0})},onClick:function(){return Qr({id:t})}}})}),!i&&!s&&Un.a.createElement(Ur.a,{className:e.lazyTrigger,onTrigger:function(){return Object(Vr.e)(a+1)}}),r.open&&Un.a.createElement(oo,{setIsOpen:o,id:r.id}))},so=lo,fo=n(290),po=n(559),ho=n(560),bo=n(56),mo=n(98),go=n(732),vo=n(7),yo=function(){return Object(Yr.a)({type:"GET",url:"/editor/analyticsData",contentType:"application/json",dataType:"json"}).then(function(e){vo.a.getLilSis().identify(e.user)})},Oo=function(e){var t=e.open,n=e.type,r=void 0===n?"login":n;Vn.default.dispatch(go.b,{open:t,type:r})},So=function(){delete window.identity.guid,Vn.default.dispatch(go.a,!1)},wo=function(e){Object.assign(window.identity,e.identity),Vn.default.dispatch(go.a,!0),Vn.default.dispatch(go.c,e.identity),yo()},jo=function(){return Object(ho.b)()?Promise.all([bo.b.loadSettings(),Object(mo.d)()]):Promise.resolve()},To=Object(jr.makeStyles)(function(e){var t=e.sizes;return{withPadding:{padding:(0,e.spacing)(t.m)}}}),Eo=function(){return Oo({open:!0})},Co=function(){return Oo({open:!0,type:"signup"})},ko=function(){var e=Object(Kn.useTranslation)(),t=e.t,n=e.i18n;n=void 0===n?{}:n;var r=n.language,o=To(),a=r&&"ja"===r?{whiteSpace:"pre-line"}:{};return Un.a.createElement(Lr.a,{label:t("paneltitle.my-files"),fullHeight:!0},Un.a.createElement("div",{className:o.withPadding},Un.a.createElement(wr.a,{mb:2.25},Un.a.createElement(Nr.a,{size:"s",style:a},t("upload.loggedout"))),Un.a.createElement(wr.a,{mb:.5},Un.a.createElement(fo.a,{"data-automation":"myfiles-signup",onClick:Co,blockLevel:!0},t("action.createaccount"))),Un.a.createElement(po.a,{"data-automation":"myfiles-login",onClick:Eo,blockLevel:!0},t("action.signin"))))},xo=ko,Po=Object(zn.lazy)(function(){return Object(Lr.b)("Uploads")}),_o=Object(zn.lazy)(function(){return Object(Lr.b)("SdkUploadsPanel")}),Io=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(_o,null))},No=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Po,null))},Mo=n(2066),Ao=n(764),Ro=n(963),Do=n.n(Ro),Lo=n(962),Go=n.n(Lo),Bo=[{category:"upload",icon:Do.a,Component:No,label:"paneltitle.my-uploads"},{icon:Go.a,category:"saved",Component:so,label:"paneltitle.saved"}],Fo=function(){var e=Object(Kn.useTranslation)(),t=e.t;return Object(Wn.useSelector)(Ao.a)?Un.a.createElement(Mo.a,{iconSize:18,categories:Bo,dataAutomation:"my-files-panel",title:t("paneltitle.my-files")}):Un.a.createElement(xo,null)},zo=Fo,Uo=zo,Ho=Object(zn.lazy)(function(){return Object(Lr.b)("Search")}),Wo=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Ho,null))},Vo=Object(zn.lazy)(function(){return Object(Lr.b)("Templates")}),Ko=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Vo,null))},Xo=Object(zn.lazy)(function(){return Object(Lr.b)("SdkTemplates")}),Yo=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Xo,null))},qo=Object(zn.lazy)(function(){return Object(Lr.b)("Text")}),Zo=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(qo,null))},Jo=Object(zn.lazy)(function(){return Object(Lr.b)("SdkText")}),$o=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Jo,null))},Qo=n(267),ea=n(910),ta=n.n(ea),na=n(900),ra=n.n(na),oa=n(911),aa=n.n(oa),ia=n(909),ca=n.n(ia),ua=n(957),la=n.n(ua),sa=n(912),fa=n.n(sa),da=n(9),pa=Object(jr.makeStyles)({root:{pointerEvents:"none",position:"absolute",left:"24px",padding:0,display:"flex",flexDirection:"column",height:"100%",justifyContent:"center"}}),ha=function(){var e=Object(Kn.useTranslation)(),t=e.t,n=pa(),r=Object(Qo.c)(null,null),o=E(r,2),a=o[0],i=o[1],c={activePanelId:a,setActivePanelId:i};return Un.a.createElement(Cr.a,{color:"transparent",className:n.root},Un.a.createElement(Dr,T({name:"search",icon:ta.a,label:t("paneltitle.search"),panel:Un.a.createElement(Wo,null),tracking:da._92},c)),Un.a.createElement(Dr,T({name:"text",icon:ra.a,label:t("paneltitle.text"),panel:Un.a.createElement(Zo,null),tracking:da._128},c)),Un.a.createElement(Dr,T({name:"custom_text_templates",icon:ra.a,label:t("paneltitle.text"),panel:Un.a.createElement($o,null),tracking:da._128},c)),Un.a.createElement(Dr,T({name:"templates",icon:aa.a,dataTourStop:"templates",label:t("paneltitle.templates"),panel:Un.a.createElement(Ko,null),tracking:da._120},c)),Un.a.createElement(Dr,T({name:"custom_templates",icon:aa.a,label:t("paneltitle.templates"),panel:Un.a.createElement(Yo,null),tracking:da._120},c)),Un.a.createElement(Dr,T({name:"elements",icon:ca.a,label:t("paneltitle.elements"),panel:Un.a.createElement(Br,null),tracking:da._3},c)),Un.a.createElement(Dr,T({name:"assets",icon:la.a,label:t("paneltitle.my-files"),panel:Un.a.createElement(Uo,null),tracking:da._42},c)),Un.a.createElement(Dr,T({name:"uploads",icon:fa.a,label:t("paneltitle.my-uploads"),panel:Un.a.createElement(Io,null),tracking:da._42},c)))},ba=ha,ma=n(1962),ga=n.n(ma),va=n(907),ya=n.n(va),Oa=n(224),Sa=n(1900),wa=n.n(Sa),ja=n(773),Ta=n.n(ja),Ea=n(22),Ca=n(134),ka=n(818),xa=function(e){return Vn.default.dispatch(ka.a,e)},Pa=n(515),_a=n(15),Ia=n(959),Na=n.n(Ia),Ma=n(956),Aa=n.n(Ma),Ra=n(852),Da=n(39),La=n(2067),Ga=n(351),Ba=n.n(Ga),Fa=n(1623),za=n.n(Fa),Ua=n(787),Ha=n.n(Ua),Wa=n(1612),Va=n.n(Wa),Ka=n(1621),Xa=n.n(Ka),Ya=Object(jr.makeStyles)(function(e){var t=e.spacing,n=e.sizes,r=e.palette;return{paper:{minWidth:"189px",backgroundColor:r.header.main,borderRadius:t(n.s),fontSize:"14px",scrollbarColor:"".concat(r.header.contrastText," transparent"),"&::-webkit-scrollbar-thumb":{background:r.header.contrastText}}}}),qa=function(e){var t=e.className,n=e.menuItems,r=void 0===n?[]:n,o=e.children,a=e.buttonRef,i=e.open,c=e.popperPlacement,u=void 0===c?"bottom-start":c,l=e.popperOffset,s=void 0===l?"0,0":l,f=e.handleClose,d=e.handleListKeyDown,p=Ya();return Un.a.createElement(Va.a,{open:i,anchorEl:a.current,placement:u,modifiers:{offset:{offset:s}},role:void 0,transition:!0,disablePortal:!0},function(e){var n=e.TransitionProps,a=e.placement;return Un.a.createElement(Ha.a,I({},n,{style:{transformOrigin:"bottom-start"===a?"center top":"start bottom"}}),Un.a.createElement(Ba.a,{className:xr()(p.paper,t)},Un.a.createElement(za.a,{onClickAway:f},Un.a.createElement(Xa.a,{autoFocusItem:i,id:"menu-list-grow",onKeyDown:d,dense:!0},r.map(function(e,t){return Un.a.createElement(Ta.a,{key:"menu".concat(t),onClick:f},e)}),o))))})},Za=qa,Ja=function(e){var t=e.children,n=e.label,r=e.color,o=e.menuItems,a=e.buttonRef,i=e.handleToggle,c=e.open,u=e.className,l=e.handleClose,s=e.handleListKeyDown,f=e.dataAutomation,d=e.size;return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(_r.a,{size:d,color:r,ref:a,"aria-controls":c?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:i,className:u,"data-automation":f},n),Un.a.createElement(Za,{menuItems:o,buttonRef:a,popperOffset:"0,13",open:c,handleClose:l,handleListKeyDown:s},t))},$a=Ja,Qa=n(1963),ei=n.n(Qa),ti=Object(jr.makeStyles)(function(e){var t=e.palette;return{toggle:{height:"auto",width:40,padding:0,alignItems:"center"},switchBase:{transition:"transform 250ms",top:"auto",left:"auto",padding:(0,e.spacing)(e.sizes.xs),"&$checked":{transform:"translateX(16px)",color:t.common.white,"& + $track":{border:"2.5px solid ".concat(t.accent.main),backgroundColor:t.accent.main,opacity:1}},"&$checked $thumb":{background:t.common.white}},thumb:{boxShadow:"none",width:14,height:14,background:t.background.secondary},track:{width:35,height:17,borderRadius:100,border:"2.5px solid ".concat(t.background.secondary),backgroundColor:"transparent",opacity:1},checked:{},focusVisible:{}}}),ni=function(e){var t=e.checked,n=e.onChange,r=e.className,o=ti();return Un.a.createElement(ei.a,{focusVisibleClassName:o.focusVisible,disableRipple:!0,classes:{root:xr()(o.toggle,r),switchBase:o.switchBase,thumb:o.thumb,track:o.track,checked:o.checked},checked:t,onChange:n})},ri=ni,oi=n(1679),ai=n(1637),ii=function(e){var t=e.setIsOpen,n=Object(zn.useState)(null),r=N(n,2),o=r[0],a=r[1],i=Object(zn.useState)(""),c=N(i,2),u=c[0],l=c[1],s=function(){u.length?(t(!1),Jr(!1,u)):a("errors.enter-design-name")};return Un.a.createElement(Wr.a,{isOpen:!0,onConfirm:s,title:"design.status.save-title",handleOnClose:function(){return t(!1)}},Un.a.createElement(ai.a,{error:o,onConfirm:s,label:u,setLabel:l,placeholder:"template-modal.save-placeholder"}))},ci=ii,ui=function(e){var t=e.setIsOpen,n=Object(Kn.useTranslation)(),r=n.t,o=Object(zn.useState)(null),a=F(o,2),i=a[0],c=a[1],u=Object(Wn.useSelector)(io.d),l=Object(zn.useState)(r("design.active-design-copy",{ACTIVE_DESIGN_TITLE:u})),s=F(l,2),f=s[0],d=s[1],p=function(){var e=B(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(f.length){e.next=4;break}c("errors.enter-design-name"),e.next=9;break;case 4:return t(!1),e.next=7,Object(Vr.i)(f,!1);case 7:n=e.sent,Qr(n);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Un.a.createElement(Wr.a,{isOpen:!0,onConfirm:p,title:"action.duplicate-design",handleOnClose:function(){return t(!1)},confirmButtonText:"filemenu.makecopy"},Un.a.createElement(ai.a,{error:i,onConfirm:p,label:f,setLabel:d,placeholder:"template-modal.save-placeholder"}))},li=ui,si=n(765),fi=n(977),di=Object(jr.makeStyles)(function(e){var t=e.spacing,n=e.sizes,r=e.palette;return{divider:{backgroundColor:Object(Oa.fade)(r.primary.main,.2),height:"40px",alignSelf:"center"},logoLink:{display:"flex",alignItems:"center",minHeight:40},logo:{marginRight:t(n.m),maxHeight:32,maxWidth:170},root:{marginLeft:t(n.base),marginRight:"9px"},toolbarSection:{display:"flex",alignItems:"center","&:nth-of-type(2)":{flex:2,justifyContent:"flex-end"}},languageMenu:{maxHeight:285,overflowY:"auto"},itemIcon:{marginRight:t(n.s)},switch:{margin:"0 ".concat(t(n.s))}}}),pi=function(e,t,r){var o=e.target.getAttribute("data-lang");t(e),window.__reqLanguage=o,n(2255)("./".concat(o)).then(function(){r.changeLanguage(o),xa(o),history.replaceState(void 0,"",Object(Pa.b)(o))})},hi=function(e){return function(){return Object(ho.a)().then(e).catch(function(){})}},bi=function(e){return function(t){t.preventDefault(),t.stopPropagation(),e()}},mi=function(e){var t=e.children,n=e.className,r=e.language;return e.embedded?Un.a.createElement("div",{className:n},t):Un.a.createElement("a",{className:n,href:"/".concat(r,"/editor/home")},t)},gi=_a.b.isEnabled("embed"),vi=function(){var e=di(),t=Object(Kn.useTranslation)(),n=t.t,r=t.i18n,o=Object(Qo.c)(!1),a=K(o,2),i=a[0],c=a[1],u=Object(zn.useState)(!1),l=K(u,2),s=l[0],f=l[1],d=Object(si.b)(),p=Object(zn.useState)(!1),h=K(p,2),b=h[0],m=h[1],g=Object(zn.useState)(!1),v=K(g,2),y=v[0],O=v[1],S=Object(zn.useRef)(null),w=Object(zn.useRef)(null),j=Object(Wn.useSelector)(Ea.t),T=Object(Wn.useSelector)(Ea.s),E=Object(Wn.useSelector)(Ca.a),C="dark"===Object(Wn.useSelector)(oi.h),k=Object(Wn.useSelector)(io.a),x=function(){return c(function(e){return!e})},P=function(){return f(function(e){return!e})},_=function(e){S.current&&S.current.contains(e.target)||(c(!1),f(!1))},I=function(e){"Tab"===e.key&&(e.preventDefault(),c(!1))},N=function(e){return Object(fi.b)(e.target.checked)},M=hi(function(){return c(!1),k?Object(Vr.k)(k.get("id"),k.get("title")):m(!0)}),A=hi(function(){c(!1),O(!0)});return Object(br.a)("mod+s",bi(M)),Un.a.createElement("section",{className:e.toolbarSection},T&&Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(mi,{language:E,embedded:gi,className:e.logoLink},Un.a.createElement("img",{src:j,alt:"",className:e.logo})),Un.a.createElement(wa.a,{orientation:"vertical",flexItem:!0,className:e.divider,light:!0})),!gi&&Un.a.createElement(Un.a.Fragment,null,Un.a.createElement($a,{label:n("filemenu.menutitle"),color:"primary",buttonRef:S,handleToggle:x,className:e.root,open:i||s,handleClose:_,handleListKeyDown:I},Un.a.createElement(Ta.a,{onClick:_},Un.a.createElement("a",{target:"_blank",href:"/".concat(E,"/editor/image/")},n("filemenu.new"))),Un.a.createElement(Ta.a,{onClick:M},n("filemenu.save")),Un.a.createElement(Ta.a,{onClick:A},n("filemenu.makecopy")),Un.a.createElement(Ta.a,{onClick:_},Un.a.createElement("a",{target:"_blank",href:"/contactus?inquiry=0"},n("help.contactcustomersupport"))),Un.a.createElement(Ta.a,{onClick:_},Un.a.createElement("a",{target:"_blank",href:"https://www.shutterstock.com/".concat(E,"/support/pkb_sstk_core_customerkb_home?c=CustomerKB%3AEditor")},n("help.visitsupportcenter"))),Un.a.createElement(Ta.a,{onClick:_},Un.a.createElement("a",{target:"_blank",href:"https://airtable.com/shrUrTut2jggn1EZR?prefill_Page%20impacted=Editor%20App"},Un.a.createElement(Ir.a,{className:e.itemIcon,icon:Aa.a,size:"0.75rem"}),n("help.feedback"))),Un.a.createElement(Ta.a,{ref:w,"aria-controls":s?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:P,selected:s},Un.a.createElement(Ir.a,{className:e.itemIcon,icon:Na.a,size:"0.75rem"}),Pa.c[E]),Un.a.createElement(Ta.a,null,Un.a.createElement(ya.a,{labelPlacement:"end",label:Un.a.createElement(Nr.a,{size:"s"},n("filemenu.darkmode")),control:Un.a.createElement(ri,{checked:C,onChange:N,className:e.switch})}))),Un.a.createElement(Za,{className:e.languageMenu,buttonRef:w,open:s,popperPlacement:"right-start",popperOffset:"0,8",handleClose:_,handleListKeyDown:I},Object.entries(Pa.c).map(function(e){var t=K(e,2),n=t[0],o=t[1];return Un.a.createElement(Ta.a,{key:n,"data-lang":n,onClick:function(e){return pi(e,_,r)}},o)}))),Un.a.createElement(Tr.a,{theme:d},b&&Un.a.createElement(ci,{setIsOpen:m}),y&&Un.a.createElement(li,{setIsOpen:O})),Un.a.createElement(La.a,{undo:Ra.c,redo:Ra.b,sharedHistory:Da.a}))},yi=vi,Oi=n(533),Si=n.n(Oi),wi=n(17),ji=n(373),Ti=n.n(ji),Ei=Object(jr.makeStyles)(function(e){var t=e.sizes;return{text:{marginRight:(0,e.spacing)(t.s),whiteSpace:"nowrap"}}}),Ci=Q,ki=n(166),xi=n.n(ki),Pi=n(232),_i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Math.max(e.length,2)},Ii=function(e){var t=e.measureRef,n=e.value,r=void 0===n?"":n,o=e.maxDefaultValueWidth,a=void 0===o?300:o,i=Object(zn.useState)(_i(r)),c=re(i,2),u=c[0],l=c[1],s=Object(zn.useState)(null),f=re(s,2),d=f[0],p=f[1],h=Object(zn.useState)(null),b=re(h,2),m=b[0],g=b[1],v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return l(_i(e))},y=function(e){null!==t&&void 0!==t&&t.current&&e&&e(t.current.getBoundingClientRect().width)},O=function(){y(p),g(null)};return Object(zn.useLayoutEffect)(function(){Object(Pi.a)("Roboto").then(function(){O(),y(g)})},[]),Object(zn.useEffect)(function(){O()},[r]),{size:u,styles:te(te({width:"100%",boxSizing:"border-box"},m?{minWidth:Math.min(a,m)}:{}),d?{maxWidth:"".concat(d,"px")}:{}),setInputElementSize:v}},Ni=Ii,Mi=n(1901),Ai=2e3,Ri=400,Di=function(e){return e.target.select()},Li=be,Gi=Object(jr.makeStyles)(function(e){var t=e.sizes;return{root:{marginRight:(0,e.spacing)(t.base)},input:{minWidth:24,textOverflow:"ellipsis",transition:"all 50ms"},measureMe:{position:"absolute",pointerEvents:"none",top:20,right:0,fontSize:"18.2857px",opacity:0,fontFamily:"Roboto",fontWeight:400,padding:"0 2px"}}}),Bi=function(e){return Object(ho.a)().then(function(){return Jr(!1,e)}).catch(function(){})},Fi=function(e){var t=e.untitledDesignText,n=Gi(),r=Object(zn.useRef)(null),o=Object(Wn.useSelector)(io.s),a=Object(Wn.useSelector)(io.l),i=Object(Wn.useSelector)(io.a),c=Object(Wn.useSelector)(io.b),u=Object(Wn.useSelector)(wi.I),l=Li({activeDesign:i,untitledDesignText:t,onSave:Bi,measureRef:r}),s=l.handleKeyDown,f=l.handleOnBlur,d=l.handleOnChange,p=l.handleOnClick,h=l.size,b=l.inputWidthStyles,m=l.value;return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement("div",{className:n.measureMe,ref:r},m),Un.a.createElement(Ci,{activeDesign:i,activeDesignId:c,error:a,hasUnsavedChanges:u,onSave:function(){return Bi(m)},pending:o}),Un.a.createElement(Si.a,{color:"primary",classes:{root:n.root,input:n.input},value:m,onBlur:f,onClick:p,onChange:d,onKeyDown:s,inputProps:{size:h,maxLength:200,style:ge({},b)}}))},zi=Fi,Ui=n(486),Hi=n(180),Wi=n(1632),Vi=n(231),Ki=n(5),Xi=n.n(Ki),Yi=function(e){var t=e.onActionClick,n=e.onClose,r=Object(Qo.c)(!0),o=ye(r,4),a=o[0],i=o[3],c=function(e){i(),n&&n(e)};return{isOpen:a,handleOnClose:c,handleOnActionClick:function(e){c(),t&&t(e)}}},qi=Yi,Zi=n(794),Ji={left:"flex-start",right:"flex-end",center:"center"},$i=function(e){var t=e.backgroundSize,n=e.contentAlign,r=e.contentWidth,o=e.imageUrl,a=e.imageAlign;return Object(jr.makeStyles)(function(e){var i=e.spacing,c=e.sizes;return{modal:{minHeight:420,minWidth:638,position:"relative",overflow:"hidden"},closeButton:{position:"absolute",right:i(c.l),top:i(c.l)},inner:{display:"flex",flex:"1 1 auto",flexDirection:"column",justifyContent:"center",minHeight:420,backgroundImage:"url(".concat(o,")"),backgroundPosition:"top ".concat(a),backgroundRepeat:"no-repeat",backgroundSize:t,alignItems:Ji[n]},content:{width:r,padding:i(c.xl)}}})},Qi=function(e){var t=e.actionLabel,n=e.backgroundSize,r=e.children,o=e.closeButtonA11y,a=e.contentAlign,i=void 0===a?"right":a,c=e.contentWidth,u=void 0===c?300:c,l=e.copy,s=e.imageAlign,f=void 0===s?"left":s,d=e.imageUrl,p=void 0===d?"/editor/image/assets/images/nails.png":d,h=e.onActionClick,b=e.onClose,m=e.title,g=void 0===m?"Success!":m,v=$i({backgroundSize:n,contentAlign:i,contentWidth:u,imageAlign:f,imageUrl:p})(),y=qi({onClose:b,onActionClick:h}),O=y.isOpen,S=y.handleOnClose,w=y.handleOnActionClick;return Un.a.createElement(Zi.a,{isOpen:O,className:v.modal,handleOnClose:S,closeButtonA11y:o},Un.a.createElement("div",{className:v.inner},Un.a.createElement("div",{className:v.content},g&&Un.a.createElement(wr.a,{mb:1},Un.a.createElement(Nr.a,{color:"primary",weight:"bold",size:"xxl"},g)),l&&Un.a.createElement(wr.a,{mb:1.5},Un.a.createElement(Nr.a,{color:"secondary"},l)),t&&Un.a.createElement(fo.a,{onClick:w,size:"m",blockLevel:!0},t),r)))};Qi.propTypes={actionLabel:Xi.a.string,children:Xi.a.node,closeButtonA11y:Xi.a.string.isRequired,copy:Xi.a.string,backgroundSize:Xi.a.oneOf(["auto","contain","cover"]),imageAlign:Xi.a.oneOf(["left","right"]),imageUrl:Xi.a.string,onActionClick:Xi.a.func,onClose:Xi.a.func,title:Xi.a.string,contentAlign:Xi.a.oneOf(Object.keys(Ji)),contentWidth:Xi.a.number};var ec=Qi,tc=ec,nc=n(293),rc=function(e){var t=e.onClose,n=Object(Kn.useTranslation)(),r=n.t,o=Object(Wn.useSelector)(Ca.a),a=function(){return window.open("/".concat(o,"/editor/image/"),"_blank")},i=function(){t(),Object(nc.a)()};return Un.a.createElement(tc,{actionLabel:r("download.success-modal.start-next-project.action-label"),copy:r("download.success-modal.start-next-project.copy"),title:r("download.success-modal.title"),closeButtonA11y:r("download.success-modal.close-button-a1ly"),onActionClick:a,onClose:i})},oc=rc,ac=n(109),ic=n(153),cc=window.devicePixelRatio,uc=function(){var e=Object(Wn.useSelector)(er.n),t=Object(Wn.useSelector)(er.a),n=e.indexOf(t),r=Object(zn.useRef)(new Array(e.size)),o=Object(zn.useRef)(),a=n<e.size-1,i=n>0;return Object(zn.useEffect)(function(){var t=o.current.getBoundingClientRect(),n=t.width,a=t.height,i=Math.floor(n)*cc,c=Math.floor(a)*cc;e.forEach(function(e,t){r.current[t]={element:ac.a.getElementCopyToFit(e,{width:i,height:c},!0)}})},[]),Object(zn.useEffect)(function(){var e=o.current;if(e&&e.firstChild){var t=r.current[n].element;1!==cc&&(t.style.width="".concat(t.width/cc,"px"),t.style.height="".concat(t.height/cc,"px")),t!==e.firstChild&&e.replaceChild(t,e.firstChild)}},[n,o.current]),{containerRef:o,onNext:function(){return ic.a.selectPage(e.getIn([n+1,"id"]))},onPrev:function(){return ic.a.selectPage(e.getIn([n-1,"id"]))},canNext:a,canPrev:i}},lc=uc,sc=Object(jr.makeStyles)(function(e){var t=e.palette;return{downloadPreview:{display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:"100vh",minWidth:"100%"},previewContainer:{flexGrow:1,height:"calc(100vh - 280px)",margin:"0 84px",display:"flex",alignItems:"center",justifyContent:"center"},caret:{height:40,borderRadius:"50%",margin:8,minWidth:40,backgroundColor:t.navButton.main,"& .sstk-icons-before":{color:t.navButton.contrastText},"&:hover":{backgroundColor:t.navButton.main}}}}),fc=function(){var e=sc(),t=lc(),n=t.containerRef,r=t.canNext,o=t.canPrev,a=t.onNext,i=t.onPrev;return Un.a.createElement("div",{className:e.downloadPreview},Un.a.createElement("div",null,o&&Un.a.createElement(_r.a,{className:e.caret,onClick:i},Un.a.createElement(Ui.a,{icon:"chevron-left",size:24}))),Un.a.createElement("div",{ref:n,className:e.previewContainer},Un.a.createElement("div",null)),Un.a.createElement("div",null,r&&Un.a.createElement(_r.a,{className:e.caret,onClick:a},Un.a.createElement(Ui.a,{icon:"chevron-right",size:24}))))},dc=fc,pc=n(1680),hc=n(1681),bc=n(1684),mc=n(1685),gc=n(29),vc=Object(jr.makeStyles)(function(){return{cartModal:{width:"90vw",height:"90vh",maxWidth:"90vw"},cartIframe:{marginTop:"80px",border:"none",height:"100%",overflowY:"scroll",overflowX:"hidden"}}}),yc=function(e){var t=e.isOpen,n=e.onClose,r=vc(),o=Object(Wn.useSelector)(Vi.s),a=Object(Wn.useSelector)(Vi.d);return Object(zn.useEffect)(function(){var e=function(e){"cart-success"===e.data&&n()};return window.addEventListener("message",e),function(){window.removeEventListener("message",e)}},[]),Un.a.createElement(Zi.a,{className:r.cartModal,isOpen:t,handleOnClose:n},Un.a.createElement("iframe",{className:r.cartIframe,title:"cart",src:"".concat(gc.client.services.enterpriseCart,"?subId=").concat(o.get("license"),"&items=").concat(a.join(","))}))},Oc=yc,Sc=n(1592),wc=_a.b.isEnabled("enterprise"),jc=function(){var e,t=Object(pc.a)(),n=Object(Kn.useTranslation)(),r=n.t,o=Object(Wn.useSelector)(Ao.b),a=Object(zn.useState)(!1),i=Ce(a,2),c=i[0],u=i[1],l={withMultipage:!0,withFileFormat:!0};switch(o&&wc?(e=r("download.add-to-cart"),l.onDownloadStart=function(){return u(!0)}):(e=r("download.license-and-download"),l.onDownloadStart=nc.e),t){case Sc.b:return Un.a.createElement(mc.a,{belowLoader:Un.a.createElement(Nr.a,{color:"secondary"},r("download.licensing"))});case Sc.c:return Un.a.createElement(mc.a,null);case Sc.e:case Sc.f:return Un.a.createElement(hc.a,null);case Sc.g:return Un.a.createElement(bc.a,Ee({},l,{usesCredits:!1,label:r("download.panel.button-download-free")}));case Sc.a:return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(bc.a,Ee({},l,{label:e})),o&&Un.a.createElement(Oc,{isOpen:c,onClose:function(){return u(!1)}}));case Sc.d:return Un.a.createElement(bc.a,Ee({},l,{usesCredits:!1,label:r("download.panel.button-download")}));default:return null}},Tc=jc,Ec=n(857),Cc=n(561),kc=function(e){var t=e.title,n=e.subtitle,r=e.icon,o=Object(Kn.useTranslation)(),a=o.t;return Un.a.createElement(Un.a.Fragment,null,t&&Un.a.createElement(Cc.a,{title:a(t)}),n&&Un.a.createElement(Ec.a,{title:a(n),icon:r}),Un.a.createElement(Tc,null))},xc=function(e){var t=e.className,n=e.textColor,r=e.backgroundColor,o=e.label,a=Object(Kn.useTranslation)(),i=a.t,c=Object(si.b)(),u=Object(Wn.useSelector)(Vi.g),l=Object(Qo.c)(!1),s=Ne(l,4),f=s[0],d=s[2],p=s[3],h=f&&!u,b=u,m=function(){return Object(ho.a)().then(function(){vo.a.click("header.download-logged"),Object(nc.b)(),d()}).catch(function(){})};return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(fo.a,{className:t,textColor:n,dataTourStop:"download",dataAutomation:"download",backgroundColor:r,onClickTrack:"header.download",onClick:m},o),Un.a.createElement(Tr.a,{theme:c},Un.a.createElement(Wi.a,{a11yCloseTitle:i("download.close-panel"),preview:Un.a.createElement(dc,null),onClose:p,isOpen:h,panel:Un.a.createElement(kc,{title:"download.panel-title-generic"})}),b&&Un.a.createElement(oc,{onClose:p})))},Pc=xc,_c=function(){var e=Object(Kn.useTranslation)(),t=e.t,n=Object(Wn.useSelector)(wi.I),r=Object(Wn.useSelector)(io.a);return function(){return n?$r(r,t("design.status.untitled-design")):Promise.resolve()}},Ic=_c,Nc=n(1597),Mc=n(1616),Ac=n(44),Rc=n(1925),Dc=n(526),Lc=n(1598),Gc=n(379),Bc=function(e,t){var n=Vn.default.evaluate(io.a),r=n.get("id");return Object(Rc.a)({emailTo:e,message:t,designId:r}).then(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).success&&vo.b.track("Email share success"),vo.a.getLilSis().designShared({sharedTo:"Email"})}).catch(function(e){e&&e.target&&429===e.target.status&&vo.b.track("Email share metered 429"),Ac.a.noticeError(e),vo.b.track("Email share failed")})},Fc={downloadMetric:"share",flow:Lc.defaultShareFlow},zc=Object(nc.h)(function(){return Object(Nc.b)(!1).then(function(e){var t=e.accessToken;return Object(nc.f)(Be(Be({},Fc),{},{platform:Gc.b,authToken:t}))}).then(function(){return ze(!0)})}),Uc=Object(nc.h)(function(){return Object(Mc.a)().then(function(e){var t=e.accessToken;return Object(nc.f)(Be(Be({},Fc),{},{platform:"dropbox",authToken:t}))}).then(function(){return ze(!0)})}),Hc=n(798),Wc=n.n(Hc),Vc=n(800),Kc=n.n(Vc),Xc=n(797),Yc=n.n(Xc),qc=n(799),Zc=n.n(qc),Jc=Object(jr.makeStyles)({withMarginBottom:{marginBottom:16},withMarginRight:{marginRight:6}}),$c=function(e,t){Object(nc.b)(),e(t)},Qc=function(e){var t=e.onClick,n=Object(Kn.useTranslation)(),r=n.t,o=Jc();return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(Cc.a,{title:r("share.panel-title-generic")}),Un.a.createElement(po.a,{className:o.withMarginBottom,blockLevel:!0,size:"m","data-automation":"share-email",onClick:function(){return t("email")}},Un.a.createElement(Ir.a,{icon:Wc.a,className:o.withMarginRight}),r("share.email")),Un.a.createElement(po.a,{className:o.withMarginBottom,blockLevel:!0,size:"m","data-automation":"share-link",onClick:function(){return t("link")}},Un.a.createElement(Ir.a,{icon:Kc.a,className:o.withMarginRight}),r("share.link")),Un.a.createElement(po.a,{size:"m",blockLevel:!0,"data-automation":"share-drive",className:o.withMarginBottom,onClick:function(){return $c(t,"gdrive")}},Un.a.createElement(Ir.a,{icon:Zc.a,className:o.withMarginRight}),r("share.gdrive")),Un.a.createElement(po.a,{size:"m",blockLevel:!0,"data-automation":"share-dropbox",className:o.withMarginBottom,onClick:function(){return $c(t,"dropbox")}},Un.a.createElement(Ir.a,{icon:Yc.a,className:o.withMarginRight}),r("share.dropbox")))},eu=Qc,tu=n(771),nu=n.n(tu),ru=n(1003),ou=n(784),au=function(e){return"".concat(window.location.href,"?share_code=").concat(e)},iu=function(e){var t=Object(zn.useState)(!1),n=Ue(t,2),r=n[0],o=n[1],a=Object(Wn.useSelector)(io.a),i=Ye(a),c=function(){e&&e.current&&(u(),e.current.select(),e.current.focus())},u=function(){o(!0),ou.a.copy(i)};return{isLinkCopied:r,handleInputClick:c,handleCopyToClipboard:u,value:i}},cu=iu,uu=Object(jr.makeStyles)(function(e){var t=e.spacing,n=e.sizes,r=e.typography;return{input:Ze({minHeight:40,padding:t(n.s),boxSizing:"border-box"},r.h5),inputRoot:{marginBottom:t(n.base)},doneButton:{marginBottom:t(n.s)}}}),lu=function(e){var t=e.chooseAnotherWay,n=Object(Kn.useTranslation)(),r=n.t,o=Object(zn.useRef)(),a=uu(),i=cu(o),c=i.isLinkCopied,u=i.handleInputClick,l=i.handleCopyToClipboard,s=i.value;return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(Cc.a,{title:r("share.panel-title-generic")}),Un.a.createElement(Ec.a,{title:r("share.link"),icon:Kc.a}),Un.a.createElement(nu.a,{classes:{root:a.inputRoot,input:a.input},fullWidth:!0,readOnly:!0,value:s,onClick:u,inputProps:{ref:o}}),Un.a.createElement(fo.a,{className:a.doneButton,blockLevel:!0,size:"m",onClick:l},r(c?"share.button.link-copied":"share.button.share-link")),Un.a.createElement(ru.a,{onClick:t,label:r("share.button.other-ways")}))},su=lu,fu=n(1924),du=function(e){var t=e.target,n=t.value,r=n.split(",");return r.length>20?"social-sharing.email.error-new-email-number":!r.every(function(e){return fu.a.test(e.trim())})&&"social-sharing.email.error-new"},pu=function(){var e=Object(zn.useRef)(),t=Object(zn.useRef)(),n=Object(zn.useState)(""),r=$e(n,2),o=r[0],a=r[1],i=Object(zn.useState)(!1),c=$e(i,2),u=c[0],l=c[1],s=Object(zn.useState)("share.button.email-send"),f=$e(s,2),d=f[0],p=f[1],h=function(e){var t=du(e);return a(t),t};return{cooldown:u,sendHandler:function(){var n=h({target:e.current}),r=e.current.value,o=t.current.value;if(!n&&r)return l(!0),Bc(r,o).then(function(){p("share.button.email-sent")}).finally(function(){setTimeout(function(){l(!1),p("share.button.email-send")},3e3)})},verifyEmailInput:h,error:o,emailRef:e,messageRef:t,buttonLabel:d}},hu=pu,bu=Object(jr.makeStyles)(function(e){var t=e.spacing,n=e.sizes;return{input:at({minHeight:40,boxSizing:"border-box"},e.typography.h5),inputRoot:{padding:t(n.s),marginBottom:t(n.base)},doneButton:{marginBottom:t(n.s)}}}),mu=function(e){var t=e.chooseAnotherWay,n=Object(Kn.useTranslation)(),r=n.t,o=bu(),a=hu(),i=a.messageRef,c=a.emailRef,u=a.verifyEmailInput,l=a.error,s=a.buttonLabel,f=a.sendHandler,d=a.cooldown;return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(Cc.a,{title:r("share.panel-title-generic")}),Un.a.createElement(Ec.a,{title:r("share.email"),icon:Wc.a}),Un.a.createElement(nu.a,{classes:{root:o.doneButton,input:o.input},fullWidth:!0,onChange:u,placeholder:r("share.email-address"),inputProps:{ref:c}}),l&&Un.a.createElement(Nr.a,{size:"s",color:"error"},r(l)),Un.a.createElement(nu.a,{defaultValue:"#madewitheditor",classes:{root:o.inputRoot,inputMultiline:o.input},fullWidth:!0,multiline:!0,rows:4,inputProps:{ref:i}}),Un.a.createElement(fo.a,{disabled:!!l||d,onClick:f,onClickTrack:"sharePanel.sendEmail",className:o.doneButton,blockLevel:!0,size:"m"},r(s)),Un.a.createElement(ru.a,{onClick:t,label:r("share.button.other-ways")}))},gu=mu,vu=n(2069),yu=function(){var e=Object(zn.useState)("none"),t=ct(e,2),n=t[0],r=t[1],o=function(){return r("none")};switch(n){case"none":return Un.a.createElement(eu,{onClick:r});case"link":return Un.a.createElement(su,{chooseAnotherWay:o});case"email":return Un.a.createElement(gu,{chooseAnotherWay:o});case"gdrive":return Un.a.createElement(vu.a,{icon:Zc.a,subtitle:"share.gdrive",redownloadLabel:"action.share",freeDownloadLabel:"action.share",onDownloadStart:zc,onLinkClick:o,title:"share.panel-title-generic",linkLabel:"share.button.other-ways",downloadLabel:"social-sharing.panel.facebook-action-license"});case"dropbox":return Un.a.createElement(vu.a,{icon:Yc.a,subtitle:"share.dropbox",redownloadLabel:"action.share",freeDownloadLabel:"action.share",onDownloadStart:Uc,title:"share.panel-title-generic",onLinkClick:o,linkLabel:"share.button.other-ways",downloadLabel:"social-sharing.panel.facebook-action-license"});default:return null}},Ou=yu,Su=function(e){return function(t){return t.get("SocialPublish").get(e)}}("showSuccessModal"),wu=function(e){var t=e.onClose,n=Object(Kn.useTranslation)(),r=n.t,o=function(){t&&t(),ze(!1)};return Un.a.createElement(tc,{onClose:o,actionLabel:r("share.success-modal.action-label"),copy:r("share.success-modal.copy"),title:r("share.success-modal.title"),closeButtonA11y:r("share.success-modal.close-button-a11y")})},ju=wu,Tu=function(e){var t=e.className,n=e.label,r=Object(Kn.useTranslation)(),o=r.t,a=Object(si.b)(),i=Object(Qo.c)(!1),c=pt(i,4),u=c[0],l=c[2],s=c[3],f=Ic(),d=Object(Wn.useSelector)(Su),p=u&&!d,h=function(){return Object(ho.a)().then(function(){vo.b.track("Share flow started"),f(),yt(),l()}).catch(function(){})};return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(po.a,{"data-automation":"share",className:t,onClickTrack:"header.share",onClick:h},n),Un.a.createElement(Tr.a,{theme:a},Un.a.createElement(Wi.a,{a11yCloseTitle:o("share.close-panel"),panel:Un.a.createElement(Ou,null),preview:Un.a.createElement(dc,null),onClose:s,isOpen:p}),d&&Un.a.createElement(ju,{onClose:s})))},Eu=Tu,Cu=Object(jr.makeStyles)(function(e){var t=e.sizes,n=e.spacing;return{toolbarSection:{display:"flex",alignItems:"center","&:nth-of-type(2)":{flex:2,justifyContent:"flex-end"}},root:{lineHeight:0,fontSize:"20px",minWidth:n(t.l),width:n(t.l),height:n(t.l)},shareButton:{marginRight:n(t.s)},doneButton:{marginRight:"9px"},close:{minWidth:"38px",width:"38px"}}}),ku=function(){parent&&parent.postMessage&&Hi.b.callApi("iframe:close")},xu=function(){var e=Object(Kn.useTranslation)(),t=e.t,n=Cu(),r=Object(zn.useRef)(null),o=Object(Qo.c)(!1),a=Ot(o,2),i=a[0],c=a[1],u=Object(Qo.d)(),l=u.container,s=u.closeTools,f=Object(Wn.useSelector)(Ao.a),d=function(){f?c(function(e){return!e}):Oo({open:!0})},p=Object(jr.useTheme)(),h=p.palette.primaryActionButton,b=function(e){r.current&&r.current.contains(e.target)||c(!1)},m=function(e){"Tab"===e.key&&(e.preventDefault(),c(!1))},g=_a.b.isEnabled("embed"),v=Object(Wn.useSelector)(Ea.m),y=Object(Wn.useSelector)(Ea.y),O=Object(Wn.useSelector)(Ea.B);return Un.a.createElement("section",{className:n.toolbarSection,ref:l,onClick:s},!g&&Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(zi,{untitledDesignText:t("design.status.untitled-design")}),Un.a.createElement(Eu,{label:t("action.share"),className:n.shareButton}),Un.a.createElement(Pc,{dataTourStop:"download",label:t("action.download"),className:n.doneButton,textColor:h.contrastText,backgroundColor:h.main})),g&&O&&Un.a.createElement(fo.a,{className:n.doneButton,textColor:h.contrastText,backgroundColor:h.main,onClick:Ct},y),g&&!v&&Un.a.createElement(_r.a,{onClick:ku,className:n.close},Un.a.createElement(Ui.a,{icon:"close",size:24})),!g&&Un.a.createElement($a,{size:"medium",dataAutomation:"account",label:Un.a.createElement(Ui.a,{icon:"user",size:24}),buttonRef:r,handleToggle:d,className:n.root,handleClose:b,handleListKeyDown:m,open:i,menuItems:[Un.a.createElement("a",{target:"_blank",key:"account",href:"/account/profile"},t("help.accountsettings")),Un.a.createElement("a",{key:"logout",href:"/sstk/logout?next=/"},t("help.logout"))]}))},Pu=xu,_u=Object(jr.makeStyles)(function(e){return{appBar:{backgroundColor:e.palette.header.main,minHeight:56,flexDirection:"row",alignItems:"center",boxShadow:"none"},toolbar:{padding:"0 11px 0 17px",flexBasis:"100%",justifyContent:"space-between",height:"100%"}}}),Iu=function(){var e=_u();return Un.a.createElement(ga.a,{position:"static",className:e.appBar},Un.a.createElement(Cr.a,{variant:"dense",disableGutters:!0,className:e.toolbar},Un.a.createElement(yi,null),Un.a.createElement(Pu,null)))},Nu=Iu,Mu=Nu,Au=n(1994),Ru=n.n(Au),Du=Object(jr.makeStyles)(function(e){var t=e.palette,n=e.sizes,r=e.spacing;return{drawerButton:{display:"flex",borderRadius:8,padding:8,border:"1px solid ".concat(t.border.main),margin:"8px 24px"},open:{backgroundColor:t.background.paper},closed:{backgroundColor:t.overlay.main},svgIcon:{marginRight:r(n.s)},buttonContent:{justifyContent:"center",alignItems:"center",display:"flex"},label:{display:"flex",alignItems:"center"}}}),Lu=function(e){var t=e.icon,n=e.label,r=e.onClick,o=e.className,a=e.open,i=e.dataTourStop,c=Du();return Un.a.createElement(_r.a,{disableElevation:!0,className:xr()(o,c.drawerButton,a?c.open:c.closed),onClick:r},Un.a.createElement("div",{className:c.buttonContent},Un.a.createElement(Ir.a,{icon:t,className:c.svgIcon,dataTourStop:i}),Un.a.createElement(Nr.a,{className:c.label},n)))},Gu=Lu,Bu=function(e){var t=e.ref,n=e.move,r=e.index,o=e.type,a=e.horizontal,i=void 0===a||a,c=Object(qn.useDrop)({accept:o,hover:function(e,o){if(t.current){var a=e.index,c=r;if(a!==c){var u,l,s=t.current&&t.current.getBoundingClientRect(),f=o.getClientOffset();i?(u=(s.right-s.left)/2,l=f.x-s.left):(u=(s.bottom-s.top)/2,l=f.y-s.top),a<c&&l<u||a>c&&l>u||(n(a,c),e.index=c)}}}}),u=kt(c,2),l=u[1];(0,kt(Object(qn.useDrag)({item:{type:o,index:r}}),2)[1])(l(t))},Fu=Bu,zu=Object(jr.makeStyles)(function(e){var t=e.palette;return{selected:{},page:{marginRight:24,boxSizing:"border-box",width:208,height:140,display:"flex",justifyContent:"center",alignItems:"center",position:"relative",border:"2px solid ".concat(t.background.disabled),backgroundColor:t.background.disabled,"&$selected":{border:"2px solid ".concat(t.accent.main)}},canvasContainer:{maxWidth:204,maxHeight:136,"& canvas":{maxWidth:"inherit",maxHeight:"inherit"}}}}),Uu=function(e){var t=e.id,n=e.dragRef,r=e.selected,o=e.thumbnailRef,a=e.index,i=zu();return Un.a.createElement("div",null,Un.a.createElement("div",{ref:n,"data-automation":"page-".concat(t),onClick:function(){return ic.a.selectPage(t)},className:xr()(i.page,Mt({},i.selected,r))},Un.a.createElement("div",{ref:o,className:i.canvasContainer})),Un.a.createElement(Nr.a,{size:"s"},a+1))},Hu=Uu,Wu=Object(Hr.a)(zr.a,Hu),Vu=function(e){var t=e.id,n=e.selected,r=e.page,o=e.index,a=e.move,i=Object(zn.useRef)(null),c=Object(zn.useRef)(null),u=Object(Wn.useSelector)(Object(er.j)(o)),l=[{label:"action.page.add",onClick:function(){return ic.a.addPage()},disabled:!u.get("canAddPage")},{label:"action.page.duplicate",onClick:function(){return ic.a.duplicatePage(r.get("id"))},disabled:!u.get("canAddPage")},{label:"action.page.movetop",onClick:function(){return ic.a.movePageBeginning(r.get("id"))},disabled:!u.get("canMovePageUp")},{label:"action.page.movebottom",onClick:function(){return ic.a.movePageEnd(r.get("id"))},disabled:!u.get("canMovePageDown")},{label:"action.page.delete",onClick:function(){return ic.a.deletePage(r.get("id"))},disabled:!u.get("canRemovePage")}];return Fu({ref:i,index:o,move:a,type:"thumbnail"}),Object(zn.useEffect)(function(){if(c.current){var e=ac.a.getThumb(r);c.current.appendChild(e.element)}},[]),Object(zn.useEffect)(function(){n&&Object(gr.a)().requestRenderAll()},[n]),Un.a.createElement(Wu,{position:{bottom:32,right:32},componentProps:{id:t,index:o,dragRef:i,selected:n,thumbnailRef:c},overlayProps:{options:l}})},Ku=Object(zn.memo)(Vu),Xu=n(783),Yu=n.n(Xu),qu=n(961),Zu=n.n(qu),Ju=Object(jr.makeStyles)(function(e){var t=e.palette,n=e.spacing,r=e.sizes;return{pages:{margin:"0 24px 24px",display:"inline-flex"},plus:{},addPage:{cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",minWidth:208,height:140,backgroundColor:t.background.disabled,"&:hover":{backgroundColor:t.text.disabled,"& $plus":{color:t.text.primary,fill:t.text.primary}}},label:{justifyContent:"center",alignItems:"center",display:"flex"},close:{marginLeft:n(r.xs)}}}),$u=function(e){var t=e.toggleDrawer,n=Object(Kn.useTranslation)(),r=n.t,o=Object(Wn.useSelector)(er.n),a=Ju();return Un.a.createElement("main",null,Un.a.createElement(Gu,{open:!0,onClick:t,icon:Yu.a,label:Un.a.createElement("div",{className:a.label},r("tools.pages"),Un.a.createElement(Ui.a,{className:a.close,size:18,icon:"close"}))}),Un.a.createElement("section",{className:a.pages},o.map(function(e,t){return Un.a.createElement(Ku,{selected:e.get("selected"),move:ic.a.moveByIndex,id:e.get("id"),key:e.get("id"),page:e,index:t})}),Un.a.createElement("div",{onClick:function(){return ic.a.addPage()},className:a.addPage},Un.a.createElement(Ir.a,{className:a.plus,color:"secondary",size:18,icon:Zu.a}))))},Qu=$u,el=Object(jr.makeStyles)(function(e){var t=e.editor,n=e.palette;return{button:{margin:24,position:"absolute",bottom:0,left:0},drawerPaper:{boxShadow:t.shadow.top},pageCount:{marginLeft:4,fontSize:12,color:n.text.secondary}}}),tl=function(){var e=el(),t=Object(Kn.useTranslation)(),n=t.t,r=Object(Qo.c)(!1),o=At(r,2),a=o[0],i=o[1],c=function(){return i(!a)},u=Object(Wn.useSelector)(er.r),l=Object(Wn.useSelector)(er.e);return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement(Gu,{dataTourStop:"pages",onClick:c,className:e.button,label:Un.a.createElement(Un.a.Fragment,null,n("tools.pages"),u>1&&Un.a.createElement("span",{className:e.pageCount},n("pages.page-count",{ACTIVE_PAGE_NUMBER:l,TOTAL_PAGES:u}))),icon:Yu.a}),Un.a.createElement(Ru.a,{variant:"persistent",anchor:"bottom",open:a,classes:{paper:e.drawerPaper}},Un.a.createElement(Qu,{toggleDrawer:c})))},nl=tl,rl=nl,ol=n(929),al=Object(jr.makeStyles)(function(e){var t=e.palette;return{box:{position:"fixed",height:"100vh",width:"100vw",display:"flex",alignItems:"center",justifyContent:"center",zIndex:0,opacity:0,pointerEvents:"none"},isLoading:{zIndex:2e3,opacity:1,transitionDelay:100,transitionProperty:"opacity",transitionDuration:"".concat(e.transitions.duration.shortest,"ms"),background:t.pageLoading.scrim,pointerEvents:"auto",display:"flex"}}}),il=function(){var e=al(),t=Object(Wn.useSelector)(wi.B.spinnerComponent);return Un.a.createElement(wr.a,{className:xr()(e.box,Ft({},e.isLoading,t))},t&&Un.a.createElement(ol.a,{variant:"page"}))},cl=il,ul=cl,ll=Object(jr.makeStyles)(function(e){return{root:{zIndex:e.zIndex.appBar-1},wrapper:{minHeight:e.spacing(e.sizes.xl),backgroundColor:e.palette.contextBar.main,height:"100%",boxShadow:e.editor.shadow.default,padding:0,paddingLeft:e.spacing(e.sizes.base),display:"flex",flexDirection:"row",alignItems:"center"},label:{marginRight:e.spacing(e.sizes.m),whiteSpace:"nowrap"}}}),sl=function(e){var t=e.label,n=void 0===t?"Object options":t,r=e.children,o=ll(),a=Object(jr.useTheme)(),i=a.palette,c=Object(Qo.d)(),u=c.container,l=c.closeTools;return Un.a.createElement("div",{className:o.root},Un.a.createElement("div",{className:o.wrapper,ref:u,onClick:l},Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Nr.a,{className:o.label,palette:i.contextBar.textPalette,size:"m",color:"secondary"},n),r)))},fl=sl,dl=n(63),pl=function(e){return n.e(302).then(n.bind(null,2753)).then(function(t){return{__esModule:!0,default:t[e]}})},hl=Object(zn.lazy)(function(){return pl("ArtboardBar")}),bl=Object(zn.lazy)(function(){return pl("EditorPathBar")}),ml=Object(zn.lazy)(function(){return pl("EditorTextBar")}),gl=Object(zn.lazy)(function(){return pl("EditorImageBar")}),vl=Object(zn.lazy)(function(){return pl("MultiSelectionBar")}),yl={canvas:"toolbars.canvas-label",editorTextBox:"toolbars.text-label",multiSelection:"toolbars.multiselection-label",bgImage:"toolbars.image-label",dataImage:"toolbars.image-label",editorImage:"toolbars.image-label",image:"toolbars.image-label",userImage:"toolbars.image-label",circle:"toolbars.shape-label",default:"toolbars.shape-label",editorPath:"toolbars.shape-label",ellipse:"toolbars.shape-label",line:"toolbars.shape-label",path:"toolbars.shape-label",polygon:"toolbars.shape-label",polyline:"toolbars.shape-label",rect:"toolbars.shape-label",triangle:"toolbars.shape-label"},Ol=function(e){var t=e.flattenedLength,n=e.objectType,r=e.multiSelectType;return 1===t?n:0===t?"canvas":r||"multiSelection"},Sl=function(e){switch(e){case"editorImage":case"userImage":case"image":return gl;case"editorTextBox":return ml;case"editorPath":return bl;case"group":case"multiSelection":return vl;case"canvas":return hl;default:return bl}},wl=function(){var e=Object(Kn.useTranslation)(),t=e.t,n=Object(Wn.useSelector)(dl.I),r=Object(Wn.useSelector)(dl.e),o=Object(Wn.useSelector)(dl.J),a=Object(Wn.useSelector)(dl.G),i=Object(Wn.useSelector)(dl.V),c=Object(Wn.useSelector)(dl.N),u=Object(Wn.useSelector)(dl.O),l=Ol({flattenedLength:n,objectType:o,multiSelectType:i}),s=Sl(i?"multiSelection":l);return Un.a.createElement(fl,{label:t(yl[l])},Un.a.createElement(s,{multiSelection:r>1,hasImage:u,hasText:a,hasGroup:c}))},jl=n(183),Tl=n(118),El=n(65),Cl=n(284),kl=function(){var e=Object(Mn.b)(window.location.href),t=e.id,n=e.directive,r=e.query,o=Promise.resolve(),a=function(){var e=Object(gr.a)();e.zoomHelpers.fitToPage(),e.fire("save"),Object(Cl.b)()};if("image"===n&&t&&(Object(El.setEntryPoint)("image"),o=Object(Tl.c)("editorImage",{forBackground:!0,changeDims:!0,id:t})),"design"===n&&t){Object(El.setEntryPoint)("design");var i=r.share_code;o=Object(Vr.h)(t,i)}return"template"===n&&t&&(Object(El.setEntryPoint)("template"),o=Object(jl.a)(t,{blockLoader:!0,ignoreWarning:!0})),t||Object(El.setEntryPoint)("blank"),o.then(a)},xl=kl,Pl=n(49),_l=n(163),Il=n(1697),Nl=n.n(Il),Ml=Object(jr.makeStyles)(function(e){var t=e.spacing,n=e.sizes;return{labelPlacementStart:{marginRight:t(n.m)},toggle:{margin:t(n.s)}}}),Al=function(e){return bo.b.setRulerEnabled(!e)},Rl=function(){var e=Object(Kn.useTranslation)(),t=e.t,n=Object(jr.useTheme)(),r=n.palette.ruler,o=r.rulerColor,a=r.tickColor,i=r.labelColor,c=r.cornerSquareColor,u=Ml(),l=Object(Wn.useSelector)(Pl.c.rulerEnabled);Object(br.a)("shift+r",function(){return Al(l)});var s=Object(Wn.useSelector)(_l.b.printResolutionUnits),f=Object(Wn.useSelector)(_l.b.printResolutionDPI),d=Object(Wn.useSelector)(_l.b.rulerUnitsToPx),p=Object(gr.a)();return Object(zn.useEffect)(function(){p.ruler.setTheme({rulerColor:o,tickColor:a,labelColor:i,cornerSquareColor:c}),p.requestRenderAll()},[o,a,i,c]),Object(zn.useEffect)(function(){p.ruler.setUnits(s,f,d),p.requestRenderAll()},[s,d,f]),Object(zn.useEffect)(function(){l?p.ruler.enable():p.ruler.disable(),p.requestRenderAll()},[l]),Un.a.createElement(Nl.a,null,Un.a.createElement(ya.a,{classes:{labelPlacementStart:u.labelPlacementStart},labelPlacement:"start",label:Un.a.createElement(Nr.a,null,t("footer.ruler")),control:Un.a.createElement(ri,{className:u.toggle,checked:l,onChange:function(e){return bo.b.setRulerEnabled(e.target.checked)}})}))},Dl=Rl,Ll=Dl,Gl=n(1596),Bl=n.n(Gl),Fl=Object(jr.makeStyles)({iconButton:{width:40,height:40,padding:0,fontSize:"initial","&:hover":{background:"transparent"}}}),zl=function(e){var t=e["aria-label"],n=e.buttonProps,r=e.className,o=e.disabled,a=e.icon,i=e.onClick,c=Fl();return Un.a.createElement(Bl.a,zt({"aria-label":t,className:xr()(c.iconButton,r),disabled:o,onClick:i},n),Un.a.createElement(Ir.a,{color:o?"disabled":"primary",icon:a,size:18}))};zl.propTypes={buttonProps:Xi.a.shape({}),className:Xi.a.string,disabled:Xi.a.bool,icon:Xi.a.string,onClick:Xi.a.func},zl.defaultProps={buttonProps:{},className:void 0,disabled:void 0,icon:"",onClick:void 0};var Ul=zl,Hl=n(861),Wl=n(859),Vl=n(916),Kl=[2,1,.75,.5,.25],Xl={anchorOrigin:{vertical:"top",horizontal:"center"},transformOrigin:{vertical:"bottom",horizontal:"center"},getContentAnchorEl:null},Yl=Object(jr.makeStyles)(function(e){var t=e.editor,n=e.spacing,r=e.sizes,o=e.palette,a=e.shape,i=e.typography;return{formControl:{verticalAlign:"middle"},selectIcon:{fontSize:i.h3.fontSize,padding:n(r.xs),top:"initial"},menuPaper:{marginTop:"-".concat(n(r.s)),boxShadow:t.shadow.default},input:{border:"1px solid ".concat(o.text.dividers),borderRadius:a.borderRadius,padding:"".concat(n(r.xxs)," 0"),top:0,fontSize:i.h5.fontSize,paddingLeft:n(r.s),minHeight:"initial",height:30,boxSizing:"border-box",display:"flex",alignItems:"center","&:focus":{borderRadius:a.borderRadius,background:o.action.focus}}}}),ql=function(e){var t=e.menuPosition,n=e.items,r=e.selected,o=e.onChange,a=e.fitCanvasLabel,i=Yl(),c=Object(Kn.useTranslation)(),u=c.i18n;u=void 0===u?{}:u;var l=u.language;return Un.a.createElement(Hl.a,{className:i.formControl,selected:r,input:Un.a.createElement(Si.a,{classes:{input:i.input},value:r}),iconClassName:i.selectIcon,menuClassName:i.menuPaper,menuPosition:t,id:"ZoomControl-select",onChange:o,maxHeight:"".concat(216,"px")},Un.a.createElement(Wl.a,{key:"fit-canvas",value:"fit-canvas",selected:r},a),n.concat(n.includes(r)?[]:r).sort().map(function(e){return Un.a.createElement(Wl.a,{key:"ZoomItem-".concat(e),value:e,selected:r},Object(Vl.c)(e,l,"percent"))}))};ql.propTypes={fitCanvasLabel:Xi.a.string,selected:Xi.a.number,items:Xi.a.arrayOf(Xi.a.number),menuPosition:Xi.a.shape({})},ql.defaultProps={items:Kl,menuPosition:Xl};var Zl=ql,Jl=function(){var e=Object(Wn.useSelector)(Qn.e.minZoomLevel),t=Object(Wn.useSelector)(Qn.e.maxZoomLevel),n=Object(Wn.useSelector)(Qn.e.activeZoomLevel),r=Object(Wn.useSelector)(Qn.e.zoomRangeKey),o=Object(zn.useState)([]),a=Ut(o,2),i=a[0],c=a[1];Object(zn.useEffect)(function(){var e=Object(gr.a)(),t=e.zoomHelpers;i&&t&&i!==t.getZoomRange()&&c(t.getZoomRange())},[r]);var u=Object(zn.useMemo)(function(){return{zoomOutDisabled:n<=e,zoomInDisabled:n>=t}},[n]);return{zoomOutDisabled:u.zoomOutDisabled,zoomInDisabled:u.zoomInDisabled,zoomLevel:n,zoomRange:i}},$l=Jl,Ql=n(964),es=n.n(Ql),ts=n(965),ns=n.n(ts),rs=function(e){return function(t){var n=Object(gr.a)(),r=n.zoomHelpers;return r.zoomMode="manual",e?r[e]():"fit-canvas"===t.target.value?(r.zoomMode="auto",r.fitToPage()):r.updateZoom(t.target.value),r.handleZoomAndPanChangeDebounced(),!1}},os=rs("nextZoom"),as=rs("prevZoom"),is=rs("fitToPage"),cs=rs(),us=function(){var e=Object(Kn.useTranslation)(),t=e.t,n=$l(),r=n.zoomOutDisabled,o=n.zoomInDisabled,a=n.zoomLevel,i=n.zoomRange;return Object(br.a)("mod+=",os),Object(br.a)("mod+-",as),Object(br.a)("mod+0",is),Un.a.createElement("div",null,Un.a.createElement(Ul,{"aria-label":t("action.zoomout"),disabled:r,icon:ns.a,onClick:as}),Un.a.createElement(Zl,{fitCanvasLabel:t("action.fitcanvas"),onChange:cs,items:i,selected:a}),Un.a.createElement(Ul,{"aria-label":t("action.zoomin"),disabled:o,icon:es.a,onClick:os}))},ls=us,ss=ls,fs=Object(jr.makeStyles)(function(e){var t=e.spacing,n=e.sizes;return{canvasControls:{background:e.palette.overlay.main,borderRadius:8,display:"flex",position:"fixed",alignItems:"center",justifyContent:"center",right:t(n.m),bottom:t(n.m)}}}),ds=function(){var e=fs();return Un.a.createElement("div",{className:e.canvasControls},Un.a.createElement(Ll,null),Un.a.createElement(ss,null))},ps=ds,hs=n(2071),bs=n(154),ms=n(48),gs=function(e){var t=e.adaptedFlashAlerts,n=e.adaptedModalError,r=Object(zn.useState)([]),o=tn(r,2),a=o[0],i=o[1],c=function(e,t,n){"clickaway"!==t&&i(function(e){return e.reduce(function(e,t){return!1===t.open?e:t.id===n?[].concat(Jt(e),[qt(qt({},t),{},{open:!1})]):[].concat(Jt(e),[t])},[])})};return Object(zn.useEffect)(function(){if(t.length||n.length){var e=[].concat(Jt(t),Jt(n)).map(function(e,t){var n=e.message,r=e.id,o=e.modalError,i=e.autoHideDuration,c=(new Date).getTime(),u=a[a.length-1],l=u?c-u.timeAdded:0,s=l>0&&l<500,f={message:n,id:c+Math.random(),timeAdded:c,autoHideDuration:s?u.autoHideDuration+500*(t+1):i+500*t,open:!0};return o?Object(ms.b)():Object(bs.a)(r),f});i(function(t){return[].concat(Jt(t),Jt(e))})}},[t,n]),{queue:a,handleOnClose:c}},vs=gs,ys=Object(jr.makeStyles)(function(e){return{container:{boxSizing:"border-box",display:"flex",maxHeight:"100%",maxWidth:"100%",position:"fixed",flexDirection:"column-reverse",zIndex:e.zIndex.snackbar,height:"auto",width:"auto",minWidth:288,left:"50%",bottom:"0",transform:"translateX(-50%)"}}}),Os=function(){var e=ys(),t=Object(Wn.useSelector)(wi.q),n=Object(Wn.useSelector)(wi.r),r=vs({adaptedFlashAlerts:t,adaptedModalError:n}),o=r.queue,a=r.handleOnClose;return Un.a.createElement("div",{className:e.container},o.map(function(e){var t=e.id,n=e.message,r=e.open,o=e.autoHideDuration;return Un.a.createElement(hs.a,{handleOnClose:a,key:t,id:t,message:n,open:r,autoHideDuration:o})}))},Ss=Os,ws=Ss,js=n(1677),Ts=n(1958),Es=n(2070),Cs=n(495),ks=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.type,r=void 0===n?"rect":n,o=Object(Es.b)(),a=o.forwardDisabled,i=o.backwardDisabled,c=o.addAsBackgroundDisabled;return"canvas"===r?e=[{label:"action.paste",onClick:function(){return vr.b.pasteFromLocalStorage(da.H)},disabled:!1}]:(e=[{label:"action.copy",onClick:function(){return vr.b.copyToLocalStorage(da.H)}},{label:"action.paste",onClick:function(){return vr.b.pasteFromLocalStorage(da.H)},disabled:!(Gn.a.getItem("sstkEditorClipBoard")&&Gn.a.getItem("sstkEditorClipBoard").length>0)},{label:"action.delete",onClick:function(){return Object(Ts.a)(da.H)},disabled:!1},{label:"action.move-to-front",onClick:function(){return Object(Es.a)("moveToFront",da.H)},disabled:a},{label:"action.move-forward",onClick:function(){return Object(Es.a)("moveForward",da.H)},disabled:a},{label:"action.move-to-back",onClick:function(){return Object(Es.a)("moveToBack",da.H)},disabled:i},{label:"action.move-backward",onClick:function(){return Object(Es.a)("moveBackward",da.H)},disabled:i}],"userImage"!==r&&"editorImage"!==r||e.push({label:"action.as-background",onClick:function(){return Object(Cs.a)(da.H)},disabled:c})),e},xs={x:0,y:0,open:!1},Ps=function(e){var t=e.get("ContextMenu"),n=t.get("event"),r=t.get("source"),o=t.get("type");return n&&r===da._75?{x:n.clientX,y:n.clientY,type:o,open:!0}:xs},_s=n(367),Is={vertical:"top",horizontal:"left"},Ns=Object(jr.makeStyles)({anchor:{display:"inline-block",height:1,position:"absolute"}}),Ms=function(){var e=Ns(),t=Object(Wn.useDispatch)(),n=Object(Wn.useSelector)(Ps),r=n.open,o=n.x,a=n.y,i=n.type,c=ks({type:i}),u=Object(zn.useRef)(),l=function(e){e.preventDefault(),t({type:_s.a})};return Un.a.createElement(Un.a.Fragment,null,Un.a.createElement("div",{className:e.anchor,ref:u,style:{top:a,left:o}}),r&&Un.a.createElement(js.a,{onClose:l,anchorOrigin:Is,transformOrigin:Is,anchorEl:u.current,options:c,open:!!r}))},As=Ms,Rs=Object(zn.lazy)(function(){return n.e(337).then(n.bind(null,2754))}),Ds=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Rs,null))},Ls=Ds,Gs=Ls,Bs=Object(zn.lazy)(function(){return n.e(303).then(n.bind(null,2755))}),Fs=function(e){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(Bs,e))},zs=Fs,Us=n(1638),Hs=[{title:"onboarding.bgremoval",content:"onboarding.bgremoval-body",placement:"bottom-start",target:'[data-tour-stop="effects"]'}],Ws=function(e){var t=e.onClose,n=Object(zn.useState)(!1),r=un(n,2),o=r[0],a=r[1],i=Object(Wn.useSelector)(dl.O),c=function(e){return"close"===e.action&&t()};return Object(zn.useEffect)(function(){i&&(a(!0),Object(fi.a)())},[i]),Un.a.createElement(Us.a,{steps:Hs,continuous:!1,isTourActive:o,endTourOnCloseEvent:c})},Vs=Ws,Ks=[{title:"onboarding.newtemplates",content:"onboarding.newtemplates-body",placement:"right",target:'[data-tour-stop="templates"]'}],Xs=function(e){var t=e.onClose,n=function(e){return"close"===e.action&&t()};return Object(zn.useEffect)(function(){Object(fi.c)()},[]),Un.a.createElement(Us.a,{steps:Ks,continuous:!1,isTourActive:!0,endTourOnCloseEvent:n})},Ys=Xs,qs=Ys,Zs=function(e){var t=e.entryPoint,n=[],r="image"===t||"blank"===t,o=Gn.a.getItem("user_seen_at"),a=Gn.a.getItem("background_removal_seen"),i=Gn.a.getItem("new_templates_seen");return r&&n.push("CUSTOM_SIZE_MODAL"),o||n.push("ONBOARDING_MODAL"),o&&!i&&n.push("NEW_TEMPLATES_NOTIFICATION"),o&&!a&&n.push("BACKGROUND_REMOVAL_NOTIFICATION"),n},Js=function(e){var t=e.isBackgroundRemovalNotificationActive,n=[];return t&&n.push("BACKGROUND_REMOVAL_NOTIFICATION"),n},$s=[],Qs=function(){var e=Object(_a.c)("embed"),t=Object(_a.c)("disableModalQueue"),n=Object(Wn.useSelector)(wi.P),r=Object(Wn.useSelector)(Ea.z),o=Object(zn.useState)($s),a=yn(o,2),i=a[0],c=a[1];return Object(zn.useEffect)(function(){if(t)return c($s);if(n){return c((e?Js:Zs)({entryPoint:n,isBackgroundRemovalNotificationActive:r}))}},[n,r]),{onClose:function(){return c(function(e){return hn(gn(e).slice(1))})},activeItem:i[0]}},ef=Qs,tf=function(){var e=ef(),t=e.activeItem,n=e.onClose;switch(t){case"CUSTOM_SIZE_MODAL":return Un.a.createElement(zs,{onClose:n});case"ONBOARDING_MODAL":return Un.a.createElement(Gs,{onClose:n});case"BACKGROUND_REMOVAL_NOTIFICATION":return Un.a.createElement(Vs,{onClose:n});case"NEW_TEMPLATES_NOTIFICATION":return Un.a.createElement(qs,{onClose:n});default:return null}},nf=tf,rf=nf,of=n(78),af=n.n(of),cf=function(e){var t=e.onLogin,n=void 0===t?af.a:t,r=e.onCancel,o=void 0===r?af.a:r,a=e.onSuccess,i=void 0===a?af.a:a,c=Object(zn.useRef)(),u=Object(zn.useRef)(!1),l=Object(zn.useRef)(),s=function(e){if(c.current){var t=e.data;if("string"==typeof t)try{t=JSON.parse(t)}catch(e){return}if("load"===t.event){var r=t.location.href||"";return void(r.indexOf("shutterstock.com/login")>0?l.current="login":r.indexOf("shutterstock.com/users/new")>0&&(l.current="signup"))}var o=e.data&&e.data.identity&&null!=e.data.identity.guid;e.source===c.current.contentWindow&&o&&(t.mode=l.current,u.current=!0,n(t),i())}};return Object(zn.useEffect)(function(){return window.addEventListener("message",s),function(){u.current||o(),window.removeEventListener("message",s)}},[n,o]),{iframeRef:c,onMessage:s}},uf=cf,lf=Object(jr.makeStyles)(function(e){return{modal:{padding:(0,e.spacing)(e.sizes.xm)},loginContainer:{marginTop:40,border:0,position:"relative",width:370,height:540}}}),sf=function(){Oo({open:!1})},ff=function(e){wo(e),jo(),sf()},df=function(){var e=Object(Wn.useSelector)(Ao.c),t=Object(Wn.useSelector)(Ao.d),n=uf({onLogin:ff,onSuccess:e.onSuccess,onCancel:e.onCancel}),r=n.iframeRef,o=lf();return Un.a.createElement(Zi.a,{handleOnClose:sf,isOpen:e.open,className:o.modal},Un.a.createElement("iframe",{ref:r,className:o.loginContainer,title:"login iframe",src:"login"===e.type?t.authUrlLogin:t.authUrlSignup}))},pf=df,hf=Object(zn.lazy)(function(){return n.e(314).then(n.bind(null,2756))}),bf=function(){return Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(hf,null))},mf=bf,gf=n(1700),vf=Object(zn.lazy)(function(){return n.e(311).then(n.bind(null,2757))}),yf=Object(zn.lazy)(function(){return n.e(308).then(n.bind(null,2758))}),Of=function(){var e=Object(Wn.useSelector)(gf.c),t=Object(Wn.useSelector)(Vi.m),n=function(){return null};return e?n=yf:t&&(n=vf),Un.a.createElement(zn.Suspense,{fallback:null},Un.a.createElement(n,{panelActive:e,imagesToLicense:t}))},Sf=Object(jr.makeStyles)({"@global":{"*:not(:focus):not(:active):not(:hover)":{"user-select":"none"},html:{scrollbarBaseColor:function(e){return e.scrollbarColor},scrollbarFaceColor:function(e){return e.scrollbarColor},scrollbarTrackColor:"transparent",scrollbarArrowColor:function(e){return e.scrollbarColor},msOverflowStyle:"-ms-autohiding-scrollbar",scrollbarWidth:"thin",scrollbarColor:function(e){return"".concat(e.scrollbarColor," transparent")}},"::-webkit-scrollbar":{width:5,height:5},"::-webkit-scrollbar-thumb":{background:function(e){return e.scrollbarColor},borderRadius:10,width:3,height:3},"::-webkit-scrollbar-track":{background:"transparent"}},root:{height:"100%",display:"flex",flexDirection:"column",backgroundColor:function(e){return e.bgColor},overflow:"hidden"},fabricCanvas:{display:"flex",flexGrow:1,height:"100%","& .upper-canvas:focus":{outline:"none"}}}),wf=function(){var e=Object(si.b)(),t=Object(si.a)(),n=Sf({scrollbarColor:e.palette.text.dividers,bgColor:e.palette.overlay.main});return Object(zn.useEffect)(function(){var e=document.getElementById("fake-app-container");e&&e.parentNode&&e.parentNode.removeChild(e),xl(),jo(),Object(nc.g)(!0)},[]),Object(zn.useEffect)(function(){return document.addEventListener("paste",$n.a),function(){return document.removeEventListener("paste",$n.a)}},[]),Un.a.createElement(Tr.a,{theme:e},Un.a.createElement(qn.DndProvider,{backend:Zn.HTML5Backend},Un.a.createElement(wr.a,{className:n.root},Un.a.createElement(Qo.a,null,Un.a.createElement(Tr.a,{theme:t},Un.a.createElement(Mu,null)),Un.a.createElement(wl,null),Un.a.createElement(Or,{theme:e,className:n.fabricCanvas}),Un.a.createElement(ba,null),Un.a.createElement(Mr.a,{feature:"pages"},Un.a.createElement(rl,null)),Un.a.createElement(ps,null),Un.a.createElement(ws,null),Un.a.createElement(As,null)),Un.a.createElement(Jn.a,null),Un.a.createElement(ul,null),Un.a.createElement(Tr.a,null,Un.a.createElement(pf,null)),Un.a.createElement(Mr.a,{feature:"similar_images_promo"},Un.a.createElement(mf,null)),Un.a.createElement(rf,null),Un.a.createElement(Mr.a,{feature:"background_removal"},Un.a.createElement(Of,null)))))};wf.displayName="App";var jf=wf,Tf=Vn.default.getStore(),Ef=Tf.subscribe.bind(Tf),Cf=function(e){return Ef(Object(Yn.a)(e))},kf={dispatch:Tf.dispatch.bind(Tf),getState:Tf.getState.bind(Tf),subscribe:Cf},xf=Un.a.createElement(Wn.Provider,{store:kf},Un.a.createElement(Kn.I18nextProvider,{i18n:Xn.a},Un.a.createElement(jf,null))),Pf=n(650),_f=(n(1512),n(1507)),If=n(1513),Nf=n(360),Mf=(n(476),n(1514)),Af=n(805),Rf=n(213),Df=n(854),Lf=n(815),Gf=n.n(Lf),Bf=function(){function e(){Pn(this,e)}return In(e,[{key:"init",value:function(){}},{key:"detect",value:function(){return Object(Vl.a)()}},{key:"cacheUserLanguage",value:function(){}}],[{key:"type",get:function(){return"languageDetector"}}]),e}(),Ff=function(){Gf.a.use(Bf).init(kn({fallbackLng:"en",lng:Object(Vl.a)(),resources:Object(Vl.b)(),nsSeparator:!1},gc.client.i18n))},zf=(Gf.a,Object(Vl.a)());window&&window.mixpanel&&window.mixpanel.register({language:zf});n(1578),n(848),n(371),n(830),n(283);n.d(t,"appInit",function(){return Nn}),Nn();t.default={appInit:Nn}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){function r(e){var t=o[e];return t?n.e(t[1]).then(function(){return n(t[0])}):Promise.reject(new Error("Cannot find module '"+e+"'."))}var o={"./cs":[978,300],"./cs.js":[978,300],"./da":[979,299],"./da.js":[979,299],"./de":[980,298],"./de.js":[980,298],"./el":[981,297],"./el.js":[981,297],"./en":[982,296],"./en.js":[982,296],"./es":[983,295],"./es.js":[983,295],"./fi":[984,294],"./fi.js":[984,294],"./fr":[985,293],"./fr.js":[985,293],"./hu":[986,292],"./hu.js":[986,292],"./id":[987,291],"./id.js":[987,291],"./it":[988,290],"./it.js":[988,290],"./ja":[989,289],"./ja.js":[989,289],"./ko":[990,288],"./ko.js":[990,288],"./l33t":[2068,275],"./l33t.js":[2068,275],"./nb":[991,287],"./nb.js":[991,287],"./nl":[992,286],"./nl.js":[992,286],"./pl":[993,285],"./pl.js":[993,285],"./pt":[994,284],"./pt.js":[994,284],"./ro":[995,283],"./ro.js":[995,283],"./ru":[996,282],"./ru.js":[996,282],"./sv":[997,281],"./sv.js":[997,281],"./th":[998,280],"./th.js":[998,280],"./tr":[999,279],"./tr.js":[999,279],"./vi":[1e3,278],"./vi.js":[1e3,278],"./zh":[1002,276],"./zh-Hant":[1001,277],"./zh-Hant.js":[1001,277],"./zh.js":[1002,276]};r.keys=function(){return Object.keys(o)},r.id=2255,e.exports=r}],[2111]);
//# sourceMappingURL=https://www.shutterstock.com/editor/image/assets/sourcemaps/app_next.min.8a49e844fce19de8f10b.js.map